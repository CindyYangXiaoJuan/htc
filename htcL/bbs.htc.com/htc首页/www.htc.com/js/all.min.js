$(document).ready(function(){if(($("body").hasClass("accessories")||$("body").hasClass("accessorydetail"))&&!$("body").hasClass("accessory_template_2016")){var j=$("body").data("site");var u="/"+j+"/accessories/";var o={DEVICE_ID:null,ACCESSORY_ID:null,NO_IMAGE_PATH:"/managed-assets/shared/desktop/accessories/htc-no-image.png",isReady:false,init:function(){var B=this,A=1;B.checkUrl();B.cartUpdate();$(".accessories .item-wrapper .item").click(function(C){B.ACCESSORY_ID=$(this).data("id");if(C.preventDefault){C.preventDefault()}else{C.returnValue=false}if(B.ACCESSORY_ID!=null&&B.ACCESSORY_ID!=undefined){B.getProductData()}});if($("body").hasClass("accessorydetail")){B.ACCESSORY_ID=$(".modal").data("id");B.getProductData()}$(".button-area div.add-to-cart").click(function(F){if(F.preventDefault){F.preventDefault()}else{F.returnValue=false}var C=$('.modal[data-id="'+B.ACCESSORY_ID+'"] div.info div.color-selector .colors').data("device"),D=(C=="default")?C:B.DEVICE_ID,E=$(this).parent().parent().find('ul.colors[data-device="'+D+'"]').find("li.active span").data("product-sku");if(E!=null&&E!=undefined&&typeof cartProvider!=="undefined"){B.addToCart(E,A);$(this).addClass("disabled");B.cartNotification();$(this).removeClass("disabled")}});B.isReady=true},displayLoadingImage:function(){$(".page-overlay, #bowlG").show();setTimeout(function(){$(".page-overlay, #bowlG").fadeOut(500)},500)},displayExternalVendorInfo:function(D,A){var B=this,E=$(A).parent().parent().find("#variations");if(E.length>=1){$(E).find(".external-vendor").hide();var C=$(E).find('.external-vendor[data-group="'+B.DEVICE_ID+'"][data-color="'+D+'"]');if(C.length>=1){$(C).show()}}},displayData:function(B,A){$(A).find("div.status div.in-stock-status").hide();$(A).find("div.status div.out-of-stock-status").hide();$(A).find("div.button-area").hide();if(B!=null&&B!=undefined&&typeof cartProvider!=="undefined"){cartProvider.getProduct(B,function(D){if(typeof D.price!=="undefined"){$(A).find("div.price").html(D.price);if((typeof D.saleprice!=="undefined")&&D.saleprice!=D.price){$(A).find("div.price").addClass("strike");$(A).find("div.saleprice").html(D.saleprice)}}var C;if(typeof D.isAvailable!=="boolean"){C=(D.isAvailable.toLowerCase()==="true")}else{C=D.isAvailable}if(C===true){$(A).find("div.status div.in-stock-status").show();$(A).find("div.status div.out-of-stock-status").hide();$(A).find("div.button-area").show()}else{$(A).find("div.status div.in-stock-status").hide();$(A).find("div.status div.out-of-stock-status").show();$(A).find("div.button-area").hide()}})}},getProductData:function(){var I=this,F=$('.modal[data-id="'+I.ACCESSORY_ID+'"] div.info div.color-selector .colors').data("device"),D=$('.modal[data-id="'+I.ACCESSORY_ID+'"] div.info div.color-selector'),J=null,C=null,E=null,B=window.location.hash,K=B.split("&");I.DEVICE_ID=K[0].replace("#!pid=","");if($("body").hasClass("accessorydetail")&&I.DEVICE_ID==""){I.DEVICE_ID="default"}J=(F=="default")?F:I.DEVICE_ID;C=I.isDeviceExist(D,J);if(C<0){I.displayFirstImageGallery(true);$("div.info div.button-area").hide();$(D).hide()}else{E=I.isColorExist(D);var H=$(D).find('.colors[data-device="'+J+'"]'),G=$(H).find("li.active span").data("product-sku"),A=$(D).find('ul.colors[data-device="'+J+'"] li').length;D=$(D).find("ul.colors");if(A<=1){$(D).hide();$(D).parent().hide()}if(A>1){$(D).each(function(L){if($(this).data("device")!=J){$(this).hide()}else{$(this).show()}})}I.displayLoadingImage();I.displayData(G,H.parent().parent());selectedColor=$(H).find("li.active span").data("color-id");I.displayExternalVendorInfo(selectedColor,$(H));if(E>=0||(E<0&&J=="default")){I.recoverImage(E);I.loadColorSlider(H)}else{I.displayNoImage()}$(H).click(function(){G=$(this).find("li.active span").data("product-sku");I.displayData(G,H.parent().parent());D=$('.modal[data-id="'+I.ACCESSORY_ID+'"] div.info div.color-selector'),selectedColor=$(this).find("li.active span").data("color-id");E=I.isColorExist(D);I.displayExternalVendorInfo(selectedColor,$(this));if(E>=0||(E<0&&J=="default")){I.recoverImage(E);I.loadColorSlider(H)}else{I.displayNoImage()}})}},recoverImage:function(E){var C=$('.modal.active[data-id="'+this.ACCESSORY_ID+'"] div.gallery div.bx-wrapper:eq('+E+")"),B=$(C).find("ul.bxslider li"),A=$(C).find("ul.bxslider li:eq(1) img").attr("src"),D=null;if(A==this.NO_IMAGE_PATH){$(B).each(function(F){D=$(this).find("img").data("src");$(this).find("img").attr("src",D)});$(C).find(".bx-controls").show()}},displayNoImage:function(){var H=$('.modal.active[data-id="'+this.ACCESSORY_ID+'"] div.info div.color-selector ul.colors[data-device='+this.DEVICE_ID+"] li.active span").data("color-id"),D=$('.modal.active[data-id="'+this.ACCESSORY_ID+'"] div.gallery div.bx-wrapper').length,C=$('.modal.active[data-id="'+this.ACCESSORY_ID+'"] div.gallery div.bx-wrapper:visible').find("ul.bxslider").data("color-selection"),F=$('.modal.active[data-id="'+this.ACCESSORY_ID+'"] div.info div.color-selector ul.colors').data("device"),G=null,E=null;if((typeof H!=="undefined")&&(C!=H)){if((C=="default")&&D<=1){G=$('.modal.active[data-id="'+this.ACCESSORY_ID+'"] div.gallery div.bx-wrapper')}else{var B=$('.modal.active[data-id="'+this.ACCESSORY_ID+'"] div.info div.color-selector ul.colors[data-device='+this.DEVICE_ID+"] li.active").index(),A=$('.modal.active[data-id="'+this.ACCESSORY_ID+'"] div.gallery div.bx-wrapper ul.bxslider[data-color-selection='+C+"]");G=$('.modal.active[data-id="'+this.ACCESSORY_ID+'"] div.gallery div.bx-wrapper:eq('+B+")");$(A).parent().parent().hide();if($(A).hasClass("activated")){$(A).removeClass("activated")}$(G).show();if(!$(G).find("ul.bxslider").hasClass("activated")){$(G).find("ul.bxslider").addClass("activated")}}E=$(G).find("ul.bxslider li img");$(E).show();$(E).attr("src",this.NO_IMAGE_PATH);$(G).find(".bx-controls").hide()}},displayFirstImageGallery:function(D){var A=$('.modal.active[data-id="'+this.ACCESSORY_ID+'"] div.gallery div.bx-wrapper:first-child'),C=$(A).find("ul.bxslider li"),B=$(C).length;if(!$(A).find("ul.bxslider").hasClass("activated")){$(A).find("ul.bxslider").addClass("activated");$(A).show()}if(D==false){$(C).each(function(E){$(this).find("img").show()})}if(B<=3){$(A).find(".bx-controls").hide()}},isDeviceExist:function(A,C){var B=$(A).find("ul.colors"),E=null,D=-1;if(B.length>=1){$(B).each(function(F){E=$(this).data("device");if(C==E){D=F;return false}})}return D},isColorExist:function(A){var B=$(A).parent().parent().find("div.gallery ul"),D=$('.modal.active[data-id="'+this.ACCESSORY_ID+'"] div.info div.color-selector ul.colors[data-device='+this.DEVICE_ID+"] li.active span").data("color-id"),C=-1;if(B.length>=1){$(B).each(function(E){colorInList=$(this).data("color-selection");if(colorInList==D){C=E;return false}})}return C},loadColorSlider:function(A){var C=$(A).find("li.active span").data("color-id"),E=$('.modal.active[data-id="'+this.ACCESSORY_ID+'"] div.gallery div.bx-wrapper'),F=null,B=null,D=null;if(E.length>1){$(E).each(function(G){F=$(this).find("ul.bxslider").data("color-selection");D=$(this).find("div.bx-controls div.bx-pager-item").length;if(D<=1){$(this).find("div.bx-controls").hide()}if(C!=F){$(this).hide();if($(this).find("ul.bxslider").hasClass("activated")){$(this).find("ul.bxslider").removeClass("activated")}}else{$(this).show();if(!$(this).find("ul.bxslider").hasClass("activated")){$(this).find("ul.bxslider").addClass("activated")}B=$(this).find('ul.bxslider[data-color-selection="'+C+'"] li');if(B.length>1){$(B).each(function(H){$(this).find("div.contents img").show()})}}})}if(navigator.appName=="Microsoft Internet Explorer"&&navigator.userAgent.indexOf("MSIE 9")>0){this.updateImageDimensionIE9(A)}},updateImageDimensionIE9:function(A){var B=this,C=$('.modal.active[data-id="'+B.ACCESSORY_ID+'"] div.gallery div.bx-wrapper');$(C).each(function(D){$(this).find(".bx-viewport").css({height:"490px"});$(this).find("ul.bxslider").css({left:"-490px"});$(this).find("ul.bxslider li").css({width:"490px"})})},checkUrl:function(){var D=window.location.hash,B=this,E=null,C=null,A=null;if(D.length>1){A=D.indexOf("pid=");E=D.indexOf("acc=");if(A>=0){C=(D.indexOf("&")>A)?D.indexOf("&"):D.length;B.DEVICE_ID=D.substring(A+4,C);B.displayPrices();if(E>0){C=(D.indexOf("&")>E)?D.indexOf("&"):D.length;B.ACCESSORY_ID=D.substring(E+4,C);B.getProductData()}}}},displayPrices:function(){var B=$(".accessories .item-wrapper .item.compatible"),C=B.length,F=null,E=null,G=null,D=null,J=null,H=this;if(H.DEVICE_ID==null||H.DEVICE_ID==undefined){var A=window.location.hash,I=A.split("&");H.DEVICE_ID=I[0].replace("#!pid=","")}H.displayLoadingImage();$(B).each(function(K){E=$(this).data("id");if(E!=null&&E!=undefined){F=$(this).find(".quick-info");D=$('.modal[data-id="'+E+'"] div.info div.color-selector .colors').data("device");J=(D=="default")?D:H.DEVICE_ID;G=$('.modal[data-id="'+E+'"] div.info div.color-selector ul.colors[data-device="'+J+'"]').find("li:first-child span").data("product-sku");if(G!=null&&G!=undefined){H.displayData(G,F)}}})},cartUpdate:function(){if($(".htc-chrome").find(".top-navi-block li.store-cart").length>0){shoppingCart.updateCartStatus()}},addToCart:function(B,A){if(typeof cartProvider!=="undefined"){cartProvider.addToCart(B,A,function(){o.cartUpdate()})}},cartNotification:function(){$(".modal.active .notification").addClass("show");setTimeout(function(){$(".modal .notification").removeClass("show")},1000)},ready:function(){if(this.isReady){return true}else{return false}}};function d(A){$.getScript("/assets/layout/js/vendor/tinysort.min.js",function(){tinysort($(".accessories-listing a"),{sortFunction:function(D,C){if((A!=undefined)||(typeof A!=="undefined")){var B=$(".inner-region .filters span").data("category-list"),G=null;if(B!=undefined||typeof B!=="undefined"){G=B.split(",");var F=G.indexOf(D.elm.getAttributeNode("data-id").value);var E=G.indexOf(C.elm.getAttributeNode("data-id").value);if(F<0){F=G.length+1}if(E<0){E=G.length+1}return(F==E)?0:(F>E?1:-1)}else{return 0}}else{return 0}}})})}var h=false;$("html").addClass("accessories");if($("html").hasClass("touch")){$("video").remove()}var s=[];$(".device-taxonomy > li").each(function(){var A=$(this).attr("data-name");s.push(A)});function e(){var A=$(window).width();if(A<720){return true}else{return false}}function m(){return(navigator.platform.indexOf("iPad")!=-1)}function c(){if(navigator.userAgent.match(/(iPod|iPhone|iPad)/)){return true}else{return false}}function p(){var B=window.navigator.userAgent;var A=B.indexOf("MSIE ");if(A>0||!!navigator.userAgent.match(/Trident.*rv\:11\./)){return true}else{return false}}function l(A){var C=window.location.hash.substr(1);C=C.replace("!","");var D=C.split("&");for(var B=0;B<D.length;B++){var E=D[B].split("=");if(E[0]==A){return E[1]}}return(false)}function k(){if($("html").hasClass("no-touchevents")){if(e()==false){if(p()==false){$(".main-search").focus()}}}}function y(){if(!$(".accessories-header").hasClass("processed")&&$("body").hasClass("accessories")){var D=$(window).height();var B=$(".accessories-header").offset().top;var C=$("footer").height();var A=D-B-C;if($("html").hasClass("no-csstransforms3d")){A=620}else{if(A<400){A=400}}$(".accessories-header").css({height:A})}}function a(){$("html, body").removeClass("freeze");$(".modal").removeClass("active");$(".modal .gallery").removeClass("visible");$(".modal, .modal-overlay").hide()}function n(){var A=$(".media-wrapper img.intro").attr("data-src");if(e()==true){if($("body").hasClass("accessorydetail")==false){A=A.replace(".jpg","");A=A+"-mobile.jpg"}}$(".media-wrapper img.intro").attr("src",A)}function v(){if(!$("html").hasClass("touch")){if(e()==false&&$("body").hasClass("accessories")){if(typeof $("video.intro").get(0)!=="undefined"){$("video.intro").get(0).play()}}}}function w(E){h=true;if(!$(".accessories-listing").hasClass("hide")&&$("body").hasClass("accessories")){h=true;var J=$(".media-wrapper").attr("data-id");var G=$('.device-taxonomy li[data-id="'+J+'"]').attr("data-name");var C=$('.device-taxonomy li[data-id="'+J+'"]').attr("data-url-name");var I="!pid="+C;if($(".modal.active").length==1){var B=$(".modal.active").attr("data-id");var D=$('.item-wrapper .item[data-id="'+B+'"]').attr("data-name");var K=$('.item-wrapper .item[data-id="'+B+'"]').attr("data-url-name");var L=$('.item-wrapper .item[data-id="'+B+'"]').attr("data-meta-description");var A="&acc="+K;var F=K+"/#"+I}else{var A="";var F="#"+I}if(Modernizr.history){history.pushState(null,null,"/"+j+"/accessories/"+F);u="/"+j+"/accessories//#"+I}else{var M=I+A;window.location.hash=M}}if(!$("body").hasClass("accessorydetail")){if(E=="hack"){var H=1000}else{var H=0}setTimeout(function(){h=false},H)}}function z(B){$(".modal-hint").hide();if(B=="yes"){$(".page-overlay, #bowlG").show()}var A=l("pid");var C=l("acc");if(A!=false){var D=$('.device-taxonomy > li[data-url-name="'+A+'"]').attr("data-name");var E=$('.device-taxonomy > li[data-url-name="'+A+'"]').attr("data-id");if($('.device-taxonomy li[data-url-name="'+A+'"]').length==1){q(D,"no","no");$(".main").removeClass("lock-to-header")}else{n();v()}if(C!=false){var G=$('.item-wrapper > a .item[data-url-name="'+C+'"]').attr("data-id");setTimeout(function(){if($(".media-wrapper").attr("data-id")!="placeholder"){if($('.item-wrapper .item[data-url-name="'+C+'"]').length==1){var I=$('.item-wrapper .item[data-url-name="'+C+'"]').attr("data-devices");var H=I.split(",");if(H.indexOf(E)>-1){f(G,"no");$(".main").removeClass("lock-to-header")}}}},700);var F=1400}else{a();var F=700}setTimeout(function(){$(".page-overlay, #bowlG").fadeOut(300);w()},F)}else{a();$(".main").addClass("lock-to-header");$(".filter-bar, .accessories-listing, .partner-accessories").addClass("hide");if(e()==false){$(".search-wrapper, .media-wrapper .intro").show()}else{$(".search-wrapper, .media-wrapper img.intro").show();$(".media-wrapper video.intro").hide()}$(".search-close, .media-wrapper video.header").hide();$(".search-hint").show();$(".partner-accessories-landing").show();$(".accessories-header").removeClass("processed");y();k();n();v();setTimeout(function(){$(".page-overlay, #bowlG").fadeOut(300);w()},300)}}if($("html").hasClass("no-touchevents")){if(e()==false){function r(){var B=$(".filter-bar").offset().top;var A=$(window).scrollTop();if(B<=A){$(".filter-bar .detachable").addClass("fixed")}else{$(".filter-bar .detachable").removeClass("fixed")}}$(window).on("load resize scroll",function(){r()});r()}}function q(J,I,H){var E=$('.device-taxonomy > li[data-name="'+J+'"]').attr("data-display-name");var F=$('.device-taxonomy > li[data-name="'+J+'"]').attr("data-id");var D=$('.device-taxonomy > li[data-name="'+J+'"]').attr("data-image");var A=$('.device-taxonomy > li[data-name="'+J+'"]').attr("data-video");if(I=="yes"){if(e()==false){var G=500;var C=700}else{var G=0;var C=200}}else{var G=0;var C=200}$(".search-wrapper, video.intro, img.intro, .partner-accessories-landing").fadeOut(G,function(){$("video.intro").hide();$(".main").removeClass("lock-to-header")});if(e()==false){var B="195px"}else{var B="115px"}$(".accessories-header").addClass("processed").animate({height:B},G,function(){$(".media-wrapper").attr("data-id",F);if(e()==false){$(".media-wrapper video.header").remove();$(".media-wrapper img.header").hide();if(A!=null&&A.length>4){if($("html").hasClass("no-touchevents")){var L=A.replace(".mp4",".webm");var K='<video class="header" autoplay="autoplay"><source src="'+A+'" type="video/mp4"><source src="'+L+'" type="video/webm"></video>';$(".media-wrapper").prepend(K)}else{$(".media-wrapper img.header").attr("src",D);$(".media-wrapper img.header").show()}}else{$(".media-wrapper img.header").attr("src",D);$(".media-wrapper img.header").show()}}else{D=D.replace(".jpg","");D=D+"-mobile.jpg";$(".media-wrapper video.header").remove();$(".media-wrapper img.header").attr("src",D)}$(".filter-bar .detachable .device").html(E);$(".filter-bar, .accessories-listing, .partner-accessories").removeClass("hide");if($("html").hasClass("no-touchevents")){if(e()==false){r()}}$(".item-wrapper .item").removeClass("compatible");$(".accessories-listing .item").removeClass("filter-hide");$(".filters span:nth-child(n+2)").hide().removeClass("active");$(".filters span:first-child").addClass("active");$('.filters span[data-category="AllLabel"]').show();$(".item-wrapper .item").each(function(){var O=$(this);var M=O.attr("data-category");var P=O.attr("data-devices");var Q=P.split(",");if($.inArray(F,Q)!==-1){O.addClass("compatible");$('.filters span[data-category="'+M+'"]').show();var N=O.find(".thumbnail img").attr("data-src");O.find(".thumbnail img").attr("src",N)}});setTimeout(function(){o.displayPrices()},500);$(".accessories-header .main-search").val("");if(H!="no"){w()}setTimeout(function(){var M=$(".item-wrapper .item.compatible").length;if(M==0){$(".no-accessories").show()}else{$(".no-accessories").hide()}},C)});if($(".filter-bar .filters .active")!=undefined){d($(".filter-bar .filters .active"))}}function f(D,A){if(e()==true){var B=$("body").scrollTop();$("body").attr("data-scroll-position",B)}if(e()==true){$("html").addClass("freeze");$("body").addClass("freeze")}if(e()==false){var C=350}else{var C=0}if(e()==false){$(".modal-overlay").fadeIn(300);$(".modal[data-id="+D+"]").addClass("active").velocity("transition.expandIn",300)}else{$(".modal[data-id="+D+"]").addClass("active").show()}setTimeout(function(){if(!$(".modal.active ul.bxslider").hasClass("activated")){if($(".modal.active ul.bxslider > li").length==1){var L=false;var M=false}else{var L=true;var M=true}if(e()==false){var H=490}else{var I=$(window).width();var G=$(window).height();if(G>I){var H=I;var J=I}else{var H=G;var J=G}$("ul.bxslider li .contents").css({height:J})}$(".modal.active ul.bxslider").addClass("activated").bxSlider({touchEnabled:M,slideWidth:H,responsive:false,pager:L,swipeThreshold:100,oneToOneTouch:false,prevText:"",nextText:"",useCSS:false,onSliderLoad:function(){if(e()==false){$(".modal.active ul.bxslider.activated").css({left:"-490px"})}}});$(".modal.active img").each(function(){var O=$(this).attr("data-src");$(this).attr("src",O)});if($(".modal.active .colors").length>=1){$(".modal.active .colors > li:first-child").addClass("active")}var E=$(".modal.active").attr("data-id");var N=$(".item-wrapper .item[data-id="+E+"]").attr("data-devices");var F=$(".accessories-header .media-wrapper").attr("data-id");if(N==F){$(".modal.active .specs .availability").hide()}else{if(typeof N!=="undefined"){var K=N.split(",");$.each(K,function(Q,S){if(S!=F){var P=$("ul.device-taxonomy li[data-id="+S+"]").attr("data-name");if(P!=null){var R=$("ul.device-taxonomy li[data-id="+S+"]").attr("data-url");var O="#!pid="+S+"&acc="+E;var T='<a href="'+O+'">'+P+"</a>";$(".modal.active .specs .availability").append(T)}}})}if((navigator.appName=="Microsoft Internet Explorer"&&navigator.userAgent.indexOf("MSIE 9")>0)){$(".modal-overlay").fadeOut(300)}}}$(".modal.active .gallery").addClass("visible");if(o.ACCESSORY_ID===null){o.ACCESSORY_ID=$("#htc-main .modal.active").data("id")}o.getProductData();if(A!="no"){w()}},C)}z();var g=$(".accessories-header .main-search").attr("data-no-results");if(e()==false){var t=false}else{var t=true}$(".main-search").autocomplete({source:function(D,B){var A=D.term.trim();A=A.toLowerCase();A=A.replace(/[()®]+/g,"");A=A.trim();var C=$.ui.autocomplete.filter(s,A);if(!C.length){C=[g]}B(C)},autoFocus:t,minLength:2,appendTo:".accessories-header .search-wrapper",select:function(A,C){if(C.item.label===g){if(A.preventDefault){A.preventDefault()}else{A.returnValue=false}}else{h=true;setTimeout(function(){var E=$(".main-search").val();if($(".accessories-header").hasClass("processed")){var D="no"}else{var D="yes"}$(".main-search").blur();q(E,D,"yes")},100)}var B=C.item.label;o.DEVICE_ID=$('.device-taxonomy li[data-name="'+B+'"]').data("url-name")},focus:function(A,B){if(B.item.label===g){if(A.preventDefault){A.preventDefault()}else{A.returnValue=false}}}});$(window).on("load",function(){y();setTimeout(function(){y()},500)});$(window).on("resize",function(){y()});y();k();$(".detachable .change").click(function(){if(!$(".accessories-header .search-wrapper").is(":visible")){$("html, body").animate({scrollTop:0},300);$(".accessories-header .search-wrapper .main-search").val("");$(".accessories-header .search-wrapper .search-close").show();$(".search-hint").hide();$(".accessories-header .search-wrapper").fadeIn(300,function(){k()})}else{$(".accessories-header .search-wrapper").fadeOut(300)}});$(".search-wrapper .search-close").click(function(){$(".accessories-header .search-wrapper").fadeOut(300)});$(".filters span").click(function(){if(!$(this).hasClass("active")){$(".filters span.active").removeClass("active");$(this).addClass("active");var A=$(this).attr("data-category");if(A=="AllLabel"){$(".accessories-listing .item.compatible").removeClass("filter-hide")}else{$(".accessories-listing .item.compatible[data-category="+A+"]").removeClass("filter-hide");$(".accessories-listing .item.compatible[data-category!="+A+"]").addClass("filter-hide")}d($(this))}});$(".accessories-listing .item").click(function(D){h=true;if(D.preventDefault){D.preventDefault()}else{D.returnValue=false}var B=$(this).parent().data("outer-link"),A=$(this).parent().data("has-pdp"),C=$(this).attr("data-id");if(typeof A!=="undefined"&&A===true){window.location.href="/"+$("body").data("site")+"/accessories/"+C+"/"}else{if(typeof B!=="undefined"&&B!=""){window.location.href=B}else{f(C,"yes")}}});$(".modal-overlay, .modal .close, .modal-hint-close").click(function(){h=true;$("html").removeClass("freeze");$("body").removeClass("freeze");$(".modal.active .gallery").removeClass("visible");if(e()==false){$(".modal-overlay").fadeOut(300);$(".modal.active").removeClass("active").velocity("transition.expandOut",300);$(".modal-hint").fadeOut(300)}else{$(".modal-overlay").hide();$(".modal.active").removeClass("active").hide();$(".modal-hint").hide()}if(e()==true){var A=$("body").attr("data-scroll-position");$("html, body").scrollTop(A)}w()});$(".colors li").click(function(){if(!$(this).hasClass("active")){$(this).parent(".colors").children("li.active").removeClass("active");$(this).addClass("active");var A=$(this).index()+1;$(".modal.active .bxslider .contents img").hide();$(".modal.active .bxslider .contents img:nth-child("+A+")").show()}});$(".modal .specs .header").click(function(){$(this).addClass("deactivate");$(this).parent(".specs").toggleClass("expand");if(e()==true){var A=$(".modal.active").scrollTop();var B=($(window).height())-100;$(".modal.active").scrollTop(A+B)}else{if($(this).parent(".specs").parent(".info").children(".info-overlay").is(":visible")){$(this).parent(".specs").parent(".info").children(".info-overlay").fadeOut(300)}else{$(this).parent(".specs").parent(".info").children(".info-overlay").fadeIn(300)}}});$(".info-overlay").click(function(){$(this).fadeOut(300);$(this).parent(".info").children(".specs").removeClass("expand")});if(e()==false){$(".modal .specs .header").mouseleave(function(){$(".modal.active .specs .header").removeClass("deactivate")})}$(".search-hint").click(function(){if(e()==false){$(".modal-overlay, .modal-hint").fadeIn(300)}else{$(".modal-overlay, .modal-hint").show()}});window.onpopstate=function(){if(h==false){z("yes")}h=false};if($("#device-search:visible")){if(navigator.userAgent.indexOf("Mobile")!=-1&&navigator.userAgent.indexOf("HTC")!=-1){$.ajax({type:"GET",url:deviceDetectionWSBaseURL+"/device/",dataType:"json",jsonp:true,async:true,cache:true,success:function(B){var A="";if(B.brand_name=="HTC"&&B.is_wireless_device==true){if(B.marketing_name!=""){A=B.brand_name+" "+B.marketing_name}else{A="HTC"}$("#device-search").val(A).keydown();$("ul#ui-id-1 li:nth-child(1):visible").trigger("click")}}})}}var i=$(".top-item.store-cart");var x=setInterval(function(){o.init();if(o.ready()){clearInterval(x)}},10);if($("body").hasClass("accessorydetail")){var b=$(".modal").data("outer-link");if(typeof b!=="undefined"&&b!=""){window.location.href=b}else{f($(".modal").data("id"),"yes")}$(".modal-overlay, .modal .close, .modal-hint-close, #accessorydetail-close").click(function(A){$("#bowlG").show();$(".modal.active").hide();A.preventDefault();window.location=$("#accessorydetail-close").attr("href")+window.location.hash})}if($("body").hasClass("accessorydetail")==false&&Modernizr.history){$(window).on("beforeunload",function(){})}}});
var earPhone=(function(){var a={},d,c=false;a.list=[];a.margin=~~(($(window).height()/18)*4);var b={init:function(){b.scrollAction();b.buyButtonClick()},scrollAction:function(){if(!c){$('.earphone[data-action="animate"]').each(function(k,l){var m=$(l).parents("section"),n=~~m.offset().top;a.list=[];a.list.push({y:n,offset:~~(n+m.innerHeight()),type:$(l).data("action"),el:l})});var e,g,j,f=a.list.length;if(f===0){return}e=a.list;g=$(window).scrollTop();j=g+a.margin;while(f--){var h=e[f];if(h&&(!(h.y>j||h.offset<g))){switch(h.type){case"animate":$(h.el).addClass("on");break;case"video":h.el.play();break}e[f]=null;c=true;b.showHotSpot()}}f=e.length;while(f--){if(!e[f]){e.splice(f,1)}}}},onScroll:function(){clearTimeout(d);d=setTimeout(function(){b.scrollAction()},10)},showHotSpot:function(){var e=$(".hotspot-block .dot-block");e.addClass("show").hover(function(){$(this).parent().toggleClass("hover")})},buyButtonClick:function(){console.log("test2");var e=$(".info-bar a.first-buy-acc-button");if(e.length>0){e.on("click",function(g){g.preventDefault();var f=$(this).data("outer-link");if(typeof f!=="undefined"){if(f.indexOf(location.hostname)>-1){location.href=f}else{window.open(f)}}})}}};return b}());var remodal=(function(){var a={init:function(){var b;if($("[data-remodal-id=modal]").length>0){b=$("[data-remodal-id=modal]").remodal();var c=new CartProvider(),d=$(".color-list .wrapper.active").data("skuid");if(typeof c!=="undefined"){c.getProduct(d,function(e){$(".colors-price-button .price-block").text(e.saleprice)})}$(".color-list .wrapper").on("click",function(e){e.preventDefault();$(".color-list .wrapper").removeClass("active");$(".accessory-images .image-blcok").removeClass("active");$(this).addClass("active");$(".accessory-images .image-blcok[data-color="+$(this).data("color")+"]").addClass("active")});$(".add-to-cart-button").on("click",function(e){e.preventDefault();c.addToCart($(".color-list .wrapper.active").data("skuid"),1,function(){$(".notification").addClass("showed");setTimeout(function(){$(".notification").removeClass("showed")},2000)})});$(".buy-acc-button").on("click",function(e){e.preventDefault();b.open()})}}};return a}());$(document).ready(function(){if($("body").hasClass("accessory_template_2016")){earPhone.init();remodal.init()}});$(window).scroll(function(a){earPhone.onScroll()});
$(document).ready(function(){if($("body").hasClass("htc_advantage")){document.title=jQuery("<p>"+document.title+"</p>").text();$("meta[name=description]").attr("content",jQuery("<p>"+$('meta[name="description"]').attr("content")+"</p>").text());function a(){var c=$(window).width();if(c<720){return true}else{return false}}$("section.benefits .modal").hide();function b(){var c=$("section.benefits .benefit.one").width()*2;if(a()==true){var d="auto"}else{var d=$("section.benefits").height()}$("section.benefits .modal").css({width:c,height:d})}$(window).load(function(){b()});$(window).resize(function(){b()});b();if(navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1){if(a()==true){$(".benefit.two").css({width:"49%","min-width":"49%"})}}$("section.benefits .benefit.launch-modal").click(function(){if($(this).find(".modal").is(":hidden")){$(".benefit-overlay").fadeIn(300);$(this).find(".modal").show(300)}});$(".benefit-overlay, .modal .close").click(function(){$(".benefit-overlay").fadeOut(300);$("section.benefits .modal").hide(300)});$(".benefit-button.jump-page").click(function(f){f.preventDefault();var d=$(this).attr("data-section");var c=$("section."+d).offset().top;$("html, body").animate({scrollTop:c},500)})}});
$(document).ready(function(){if($("section").hasClass("buy-page")){function c(){if(navigator.userAgent.match(/(iPod|iPhone|iPad)/)){return true}else{return false}}function o(){var v=window.navigator.userAgent;var i=v.indexOf("MSIE ");if(i>0||!!navigator.userAgent.match(/Trident.*rv\:11\./)){return true}else{return false}}function h(){if(navigator.userAgent.match(/Edge\/\d+/)){return true}else{return false}}function u(){$(".sub-category .num-value").each(function(){var v=Number($(this).html());var i=((v/5)*100)+"%";$(this).append('<div class="bar" style="width:'+i+'"></div>')})}function q(){$(".stars.not-processed").each(function(){$(this).removeClass("not-processed");var x=$(this).attr("data-score");var i=Math.floor(x);var w=x-i;var v=Math.round((i*22)+(i*5)+(w*22))+"px";$(this).find(".green-bar").css("width",v)})}function d(v){if($(".carrier-list > div.active").length>0){$(".color-selection").removeClass("mask");var w=$(".carrier-list > div.active").attr("data-color");var i=w.split(",");$(".color-list > .wrapper").each(function(){var x=$(this).attr("data-color");if(i.indexOf(x)>-1){$(this).css("display","block")}else{$(this).css("display","none")}});if(v=="carrier"){$(".color-list > .wrapper:visible").each(function(){var x=$(this).attr("data-color");$(this).addClass("active");$(".main-image img[data-color!="+x+"]").css("display","none");$(".main-image img[data-color="+x+"]").css("display","block");return false})}}if($(".color-list > .wrapper.active").length>0){$(".button-area").removeClass("mask")}else{$(".button-area").addClass("mask")}}$(window).on("load",function(){$("body").removeClass("disable-css-transitions")});if(o()==true||c()==true||h()==true){$(".sub-category meter").css("display","none");$(".sub-category .num-value").css("display","block")}u();q();if(window.location.hash){var a=window.location.hash;a=a.replace("#","");if($(".carrier-list > div[data-carrier="+a+"]").length>0){$(".carrier-list > div[data-carrier="+a+"]").addClass("active");d("carrier")}}$(".carrier-list > div").click(function(){if(!$(this).hasClass("active")){$(".carrier-list > div.active").removeClass("active");$(this).addClass("active");$(".color-list > .wrapper").removeClass("active");d("carrier")}});$(".color-list > .wrapper").click(function(){if(!$(this).hasClass("active")){var i=$(this).attr("data-color");$(".color-list > .wrapper.active").removeClass("active");$(this).addClass("active");$(".main-image img[data-color!="+i+"]").css("display","none");$(".main-image img[data-color="+i+"]").css("display","block");d("color")}});$(".tabs > div").click(function(){if(!$(this).hasClass("active")){var i=$(this).attr("data-tab");$(".tabs > div.active").removeClass("active");$(this).addClass("active");$(".tab-boxes .box.active").removeClass("active");$(".tab-boxes .box[data-box="+i+"]").addClass("active")}});$(".tab-boxes .mobile-tab").click(function(){$(this).toggleClass("active").next(".box").toggleClass("mobile-active")});if(!isMobile()&&!$(".tabs > div").hasClass("active")){$(".tabs > div:first-child").addClass("active");$(".tab-boxes > div:nth-child(2)").addClass("active")}var f="";$(".accessories .item-wrapper div.item").each(function(i){f=$(this).find(".image-area img");$(f).attr("src",f.attr("data-src"))});$(".buy-bottom .tab-boxes .load-more a.label").addClass("buy-cta");$(".buy-bottom .tab-boxes .box a.outside-link").css("display","none");$(".buy-bottom .tab-boxes .box .summary .device").css("display","none");function k(i){$(i).addClass("show");setTimeout(function(){$(i).removeClass("show")},1000)}function n(v){var i=$('.accessories .item a[data-sku="'+v+'"]').parent().find(".notification");$(i).addClass("show");setTimeout(function(){$(i).removeClass("show")},1000)}var p=$(".buy-info .button-area .notification"),t="",m="",l={};var s=-1,b="",e="",j=(typeof configurator!=="undefined"&&configurator.group!=undefined)?configurator.group.length:0;if(j>0){for(var g=0;g<j;g++){if(typeof configurator.group[g]["group_id"]!=="undefined"){s=configurator.group[g]["variation"].length;b=configurator.group[g]["group_id"];for(var r=0;r<s;r++){e=b+"."+configurator.group[g]["variation"][r]["color_id"];l[e]=configurator.group[g]["variation"][r]["product_sku"]}}}$(".buy-info .button-area a.buy-cta").attr("data-product-sku","");$(".carrier-selection .carrier-list > div").click(function(){t=$(this).data("carrier");$(".buy-info .stock-status").html("");$(".buy-info .button-area a.buy-cta").attr("data-product-sku","");if(t!=""&&t!=undefined){m=$(".color-selection .color-list div.active").data("color");var i=l[t+"."+m];$(".buy-info .button-area a.buy-cta").attr("data-product-sku",i);cartProvider.getProduct(i,function(v){console.log("test");$(".buy-info .pricing .total").html(v.price+" total price");if(v.isAvailable=="true"){$(".buy-info .stock-status").html("In Stock");$("div.button-area a.buy-cta").html("Add to Cart");$("div.button-area").css("display","block")}else{if(v.isPreOrder=="true"){$(".buy-info .stock-status").html(" ");$("div.button-area a.buy-cta").html("Pre-Order");$("div.button-area").css("display","block")}else{$(".buy-info .stock-status").html("Coming Soon");$("div.button-area a.buy-cta").html(" ");$("div.button-area").css("display","none")}}});$(".color-selection .color-list > div").click(function(){m=$(this).data("color");i=l[t+"."+m];$(".buy-info .button-area a.buy-cta").attr("data-product-sku",i);cartProvider.getProduct(i,function(v){$(".buy-info .pricing .total").html(v.price+" total price");if(v.isAvailable=="true"){$(".buy-info .stock-status").html("In Stock");$("div.button-area a.buy-cta").html("Add to Cart");$("div.button-area").css("display","block")}else{if(v.isPreOrder=="true"){$(".buy-info .stock-status").html(" ");$("div.button-area a.buy-cta").html("Pre-Order");$("div.button-area").css("display","block")}else{$(".buy-info .stock-status").html("Coming Soon");$("div.button-area a.buy-cta").html(" ");$("div.button-area").css("display","none")}}})})}});$(".buy-info .button-area a.buy-cta").click(function(){if(t!=""&&m!=""){k(p);var i=l[t+"."+m];cartProvider.addToCart(i,1,function(){shoppingCart.updateCartStatus()})}})}}});
var ComingSoon=(function(b){document.title=jQuery("<p>"+document.title+"</p>").text();b("meta[name=description]").attr("content",jQuery("<p>"+b('meta[name="description"]').attr("content")+"</p>").text());var a=function(){function c(){var e=b(window).width();if(e<=720){return true}else{return false}}function d(){var h=b(window).height();var e=b("header").height();var f=b("footer .main-desk").height();var g=h-e-f;b(".main").css({height:g})}if(c()==false){b(window).bind("load resize",function(){d()});d()}if(c()==false){b("html").css({"overflow-x":"hidden"})}b('.signup form input[name="email"]').prop("disabled",false);b(".template_coming_soon .signup form#signup").submit(function(j){if(j.preventDefault){j.preventDefault()}else{j.returnValue=false}var k=b(".signup form#signup input[name=email]").val();if(!isEmail(k)){b(".signup .error-message").show()}else{b(".signup .error-message").hide();var i=new Site(),h=b("meta[name=product_name_id]").attr("content");h=(typeof h==="undefined")?"":h;var g=(h=="")?"-form":(h+"-signup"),f=(h=="")?"":(h.replace(/-/g," "));i.subscriptionSubmission("comingsoon",g,h,f)}})};a.prototype={constructor:a};return a})(jQuery);
var csr=(function(){var a={init:function(){var c=$(".single-content-main"),e=$(".bxSlider"),b=$(".left-column"),d=$(".m-left-column");if(e.length>0){e.bxSlider({preloadImages:"all",useCSS:false,auto:true})}if(b.length<=0){c.addClass("full-page")}else{$.each($(".category-title"),function(f,g){if(location.href.indexOf($(this).attr("href"))>0){$(this).closest(".support-second-category").addClass("selected")}});$.each($(".submenu a"),function(f,g){if(location.href.indexOf($(this).attr("href"))>0){$(this).closest("li").addClass("selected")}});d.html(b.html())}}};return a}());$(document).ready(function(){csr.init()});
$(document).ready(function(){if($("body").hasClass("error404")){$("form#search").submit(function(c){c.preventDefault();var a=$(".search-field").val().trim();if(a!==""){var b=$("form#search").attr("action");var d=b+"?submit=&q="+a;window.location.href=d}});$("html").css({height:"100%"})}});
var eyeExperience=(function(){document.title=jQuery("<p>"+document.title+"</p>").text();$("meta[name=description]").attr("content",jQuery("<p>"+$('meta[name="description"]').attr("content")+"</p>").text());var a={setupDeviceCarousel:function(){var b=$(".device-list");if($(window).width()<=720&&b.length>0&&$("body").data("site")!="mea-sa"){b.owlCarousel({items:5,itemsDesktop:false,itemsDesktopSmall:[720,5],itemsTablet:false,itemsMobile:[480,3],navigationText:false,pagination:false,navigation:true,scrollPerPage:true})}},setupVideoPopUp:function(){var b=$(".popup-video");if(b.length>0){b.magnificPopup({alignTop:false,fixedContentPos:true,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:false})}},init:function(){}};return a}());$(document).ready(function(){if($("body").hasClass("eye-experience")){eyeExperience.setupDeviceCarousel();eyeExperience.setupVideoPopUp()}});$(window).resize(function(){if($("body").hasClass("eye-experience")){eyeExperience.setupDeviceCarousel()}});
function validatePhone(b){var a=/^[\s(\.)+-]*([0-9][\s(\.)+-]*){6,20}(?:[\-\.\ \\\/]?(?:#|ext\.?|extension|x)[\-\.\ \\\/]?(\d+))?$/i;return a.test(b)}function isEmail(b){var a=XRegExp("^[\\p{L}0-9\\p{Devanagari}.!#$%&'*+/=?^_`{|}~-]+@[\\p{L}0-9\\p{Devanagari}]+[.]+[\\p{L}0-9\\p{Devanagari}]+(?:[.][\\p{L}0-9\\p{Devanagari}]{0,61}[\\p{L}0-9\\p{Devanagari}])?(?:[\\p{L}0-9\\p{Devanagari}](?:[\\p{L}0-9\\p{Devanagari}]{0,61}[\\p{L}0-9\\p{Devanagari}])?)*$");return a.test(b)}function validateUrl(b){var a=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i;return a.test(b)}function validateCaptcha(b,a){if(b.toUpperCase()==a.toUpperCase()){return true}return false}function isiPad(){return(navigator.userAgent.match(/iPad/i)||(navigator.platform.indexOf("iPad")!=-1))}function isiPhone(){return(navigator.userAgent.match(/iPhone/i)||(navigator.platform.indexOf("iPhone")!=-1)||(navigator.platform.indexOf("iPod")!=-1))}function isiOS(){if(navigator.userAgent.match(/(iPod|iPhone|iPad)/)){return true}else{return false}}function isMobileSafari(){if(navigator.userAgent.match(/(Safari)/)&&isiOS()){return true}else{return false}}function isAndroid(){if(navigator.userAgent.match(/(Android)/)){return true}else{return false}}function isRecaptchaSupported(){if(!isMobileSafari()&&!isAndroid()&&!isIE9()){return true}else{return false}}function isIE9(){if(navigator.appName=="Microsoft Internet Explorer"&&navigator.userAgent.indexOf("MSIE 9")>0){return true}return false}function isMobile(){var a=$(window).width();if(a<=720){return true}else{return false}};
var GetStarted=(function(b){var a=function(){b(".scroll-button").click(function(f){f.preventDefault();var d=b(this).attr("data-section");var c=(b("a[name="+d+"]").position()).top;b("html, body").animate({scrollTop:c},500,function(){window.location.hash=d})});b(".video-player").each(function(){var e=b(this).attr("data-videoid");var d=b(this).attr("data-videoplayer").toLowerCase();if(d=="youtube"){var c='<iframe src="//www.youtube.com/embed/'+e+'?autoplay=0&modestbranding=1&showinfo=0&rel=0&autohide=1&wmode=transparent" frameborder="0" allowfullscreen="1"></iframe>'}if(d=="youku"){var c='<iframe src="http://player.youku.com/embed/'+e+'?autoplay=0&rel=0" frameborder="0" allowfullscreen="1"></iframe>'}b(this).append(c)});b(".video-mobile-overlay").click(function(){var d=b(this).parent(".video-player").attr("data-videoid");var c=b(this).parent(".video-player").attr("data-videoplayer").toLowerCase();if(b(".mobile-detector").css("display")=="block"){if(c=="youtube"){window.open("//www.youtube.com/embed/"+d+"?html5=1&rel=0&modestbranding=1&showinfo=0&autoplay=1&start=0&wmode=transparent")}else{window.open("http://player.youku.com/embed/"+d+"?autoplay=true")}}})};a.prototype={constructor:a};return a})(jQuery);
var globalSearch=(function(){var a={myConfig:{baseSearchURL:"",regionType:"america",site:"",resultsPerRequest:10,priority:"",supportPath:"",q:"",regionTitle:"",selectedTab:"",noImagePath:"/assets/layout/img/ltr/gs-no-image.png",noImageCssClass:"no-product-image",templateNormal:'<a class="single-result {{isKeyMatchesResultCss}}" href="{{link}}"><div class="text-desc"><h3>{{oldtitle}}</h3><h4>{{description}}</h4></div></a>',templateVideo:'<a class="single-result {{isKeyMatchesResultCss}}" href="{{link}}"><div class="video-thumbnail"><img src="{{thumbnail}}"></div><div class="text-desc"><h3>{{title}}</h3><h4>{{description}}</h4></div></a>',templateProduct:'<div><a href="{{link}}"><div class="image-container"><img alt="{{title}}" title="{{title}}" class="{{no_image_class}}" src="{{thumbnail}}"></div><h4>{{title}}</h4></a></div>'},init:function(){this.myConfig.site=$("body").data("site");this.setupFormValidate();this.setupTypeaheadSuggestion();_.templateSettings={interpolate:/\{\{(.+?)\}\}/g};if(url("?q")!==null&&url("?q").length>0){this.myConfig.q=decodeURIComponent(url("?q").replace(/\+/g," "));$(".search-query").text(this.myConfig.q);$(".result-container").addClass("show");if(url("?priority")!==null&&url("?priority")==="blog"){$(".search-textbox-container").append('<input type="hidden" name="priority" value="blog" />')}this.startSearch();this.setupDesktopTabsClick();this.setupMobileResultSlider()}else{a.loadDefaultProductList("products",$("body.searchv2"))}},setupTypeaheadSuggestion:function(){var b=[];var d=false;var c=false;$(".htc-global-search-form input[name=q]").typeahead([{name:"product-suggestions",limit:5,remote:{url:this.myConfig.baseSearchURL+"gsa/suggest?q=%QUERY&client=products-"+this.myConfig.site,cache:false,dataType:"jsonp",filter:function(g){var e=[];for(var f=0;f<g.results.length;f++){if(jQuery.inArray(g.results[f].name,b)===-1){e.push({value:g.results[f].name,tokens:[g.results[f].name]});b.push(g.results[f].name)}}d=true;return e}}},{name:"support-suggestions",limit:5,remote:{url:this.myConfig.baseSearchURL+"gsa/suggest?q=%QUERY&client=support-"+this.myConfig.site,cache:false,dataType:"jsonp",filter:function(g){var e=[];for(var f=0;f<g.results.length;f++){if(jQuery.inArray(g.results[f].name,b)===-1){e.push({value:g.results[f].name,tokens:[g.results[f].name]});b.push(g.results[f].name)}}c=true;return e}}}]).on("typeahead:selected",function(){$(".htc-global-search-form .submit").trigger("click")});$(".tt-dropdown-menu").on("typeahead:suggestionsRendered",function(){if(d&&c){b=[];d=false;c=false}})},setupFormValidate:function(){var b=$(".htc-global-search-form");b.validate()},startSearch:function(){if(this.myConfig.q.length>0){this.resultsLoader("products",$("body.searchv2"))}},loadDefaultProductList:function(c,j){var n,b,d=false,k={site:a.myConfig.site};n=$(".product-carousel .owl-carousel",j);b=_.template(this.myConfig.templateProduct);if($("#defaultProductListForNoResult").length>0&&$("#defaultProductListForNoResult").text()!==""){var g=jQuery.parseJSON($("#defaultProductListForNoResult").text());if(typeof g.products!=="undefined"){if(Object.keys(g.products).length>0){for(var h=0;h<g.products.length;h++){var f=g.products[h],l="",m="";if(f.media){m=f.media.desktop_images[0].product_list_image}if(m===""){m=a.myConfig.noImagePath;l=a.myConfig.noImageCssClass}else{if(m.indexOf("//")<=0){m="//www.htc.com"+m}}var e={title:f.info.product_name,link:"/"+a.myConfig.site+"/"+f.type+"/"+f.name_id+"/",linktext:"",description:"",bazaarvoiceid:"",thumbnail:m,thumbnail_display:"",no_image_class:l};$(b(e)).appendTo(n)}d=true}}else{$(".product-container").remove()}$(".no-product-result-found-wording").show();a.hideLoader(c);if(d){a.setupProductCarousel()}}},hideLoader:function(b){if(b==="products"||b==="product"){$(".product-container").find(".loader").hide()}else{$("."+b+"-result-section").find(".loader").hide()}},resultsLoader:function(g,o){var i=$("."+g+"-result-section .show-more-button",o),c=$("."+g+"-result-section .zero-results-found",o),q,p,s=0,m=this.myConfig.baseSearchURL+"gsa/search?callback=?&output=xml_no_dtd&ie=utf8&oe=utf8&getfields=*&filter=1",t,b,d=false;if(g==="products"){q=$(".product-carousel .owl-carousel",o);p=_.template(this.myConfig.templateProduct);this.myConfig.resultsPerRequest=25}else{if(g==="support"||g==="blog"||g==="more"){q=$("."+g+"-result-section .result-items",o);p=_.template(this.myConfig.templateNormal);this.myConfig.resultsPerRequest=10}else{q=$("."+g+"-result-section .result-items",o);p=_.template(this.myConfig.templateVideo);this.myConfig.resultsPerRequest=10}}String.prototype.trunc=function(w){return this.substr(0,w-1)+(this.length>w?"&hellip;":"")};function f(x){var w=document.createElement("div");w.innerHTML=x;return w.textContent||w.innerText}function r(){i.unbind("click");i.click(j);v(false)}function j(){if(i.attr("disabled")==="disabled"){return}if(i.hasClass("support")){g="support";q=$("."+g+"-result-section .result-items",o);p=_.template(a.myConfig.templateNormal)}else{if(i.hasClass("blog")){g="blog";q=$("."+g+"-result-section .result-items",o);p=_.template(a.myConfig.templateNormal)}else{if(i.hasClass("more")){g="more";q=$("."+g+"-result-section .result-items",o);p=_.template(a.myConfig.templateNormal)}else{g="video";q=$("."+g+"-result-section .result-items",o);p=_.template(a.myConfig.templateVideo)}}}b.start+=b.num;d=true;v(true)}function v(w){i.attr("disabled","disabled");i.find(".loader").show();i.find(".show-label").hide();b={site:"default_collection",client:g+"-"+a.myConfig.site,q:a.myConfig.q,start:s,num:a.myConfig.resultsPerRequest};$.ajax({type:"GET",url:m,data:b,dataType:"json",jsonp:true,async:true,cache:false,beforeSend:function(x){},success:function(y){try{if(y.GSP.GM||(y.GSP.RES&&y.GSP.RES.M)){t=parseInt(y.GSP.RES.M,10);if(g==="products"){if(y.GSP.GM){h(true,y.GSP.GM)}else{h(false,y.GSP.RES.R)}a.setupProductCarousel()}else{if(s===0&&y.GSP.GM){h(true,y.GSP.GM)}if(y.GSP.RES.R){if(a.myConfig.selectedTab===""){a.myConfig.selectedTab=g}h(false,y.GSP.RES.R)}if(s>=t){i.hide()}}i.removeAttr("disabled");i.find(".loader").hide();i.find(".show-label").show();i.addClass("show");i.addClass(g)}else{l()}}catch(x){l()}},error:function(x){l()},complete:function(){var x=i.parents(".slick-slide").height();i.parents(".slick-list").css("height",x);a.hideLoader(g);if(!w){if(g==="products"){if(url("?priority")!==null&&url("?priority")==="blog"){a.resultsLoader("blog",$("body.searchv2"));a.resultsLoader("support",$("body.searchv2"));a.resultsLoader("video",$("body.searchv2"));a.resultsLoader("more",$("body.searchv2"))}else{a.resultsLoader("support",$("body.searchv2"));a.resultsLoader("blog",$("body.searchv2"));a.resultsLoader("video",$("body.searchv2"));a.resultsLoader("more",$("body.searchv2"))}}if(g==="blog"||g==="support"){$(".loader-result-section").remove();var y=$(".result-container.desktop");y.find(".tab-item").removeClass("active");if(url("?priority")!==null&&url("?priority")==="blog"){y.find(".blog-tab").addClass("active");y.find(".blog-result-section").show()}else{y.find(".support-tab").addClass("active");y.find(".support-result-section").show()}}if(g==="more"){$("."+a.myConfig.selectedTab+"-tab").click()}}}})}function l(){if(g==="products"){a.loadDefaultProductList(g,$("body.searchv2"))}else{c.show()}}function h(x,y){var w=$(y);if(x){w.each(function(A,z){u(true,z)})}else{w.each(function(A,z){u(false,z);s++})}}function u(x,w){var y;if(x){y=n(w)}else{y=k(w)}$(p(y)).appendTo(q)}function n(w){var x;if(g==="products"){x=w.content.product_name}else{x=w.GD}return{title:x,oldtitle:x,link:w.GL,linktext:"",description:"",bazaarvoiceid:"",thumbnail:w.content.product_image,thumbnail_display:"",no_image_class:"",isKeyMatchesResultCss:"key-matches-result"}}function k(w){var A=f(w.S),z="",y=e(w.MT,"product_name")?e(w.MT,"product_name"):f(w.T).replace(a.myConfig.regionTitle,""),B=f(w.T).replace(a.myConfig.regionTitle,""),x=e(w.MT,"thumbnail");if((g==="support"&&w.U.indexOf("/howto/")>0)||g==="blog"){A=e(w.MT,"description")?e(w.MT,"description"):f(w.S)}if(g==="video"){if(e(w.MT,"description")===""){A=""}}if(x===""){x=a.myConfig.noImagePath;z=a.myConfig.noImageCssClass}else{if(x.indexOf("//")<=0){x="//www.htc.com"+x}}return{title:y,oldtitle:B,link:w.U,linktext:(w.U).trunc(64),description:A,bazaarvoiceid:e(w.MT,"product_bvid"),thumbnail:x,thumbnail_display:e(w.MT,"thumbnail")?"":"none",no_image_class:z,isKeyMatchesResultCss:null}}function e(z,y){var w=$(z);var x="";w.each(function(A,B){if(B.N===y){x=B.V;return}});return x}r()},setupProductCarousel:function(){var b=$(".owl-carousel");b.owlCarousel({items:6,itemsCustom:false,itemsDesktop:[1200,5],itemsDesktopSmall:[1000,4],itemsTablet:[720,3],itemsTabletSmall:false,itemsMobile:[480,2],singleItem:false,itemsScaleUp:false,pagination:false,navigation:true,navigationText:false,scrollPerPage:true,rewindNav:false,afterAction:function(){if(this.itemsAmount>this.visibleItems.length){$(".owl-next").removeClass("disabled");$(".owl-prev").removeClass("disabled");if(this.currentItem===0){$(".owl-prev").addClass("disabled")}if(this.currentItem===this.maximumItem){$(".owl-next").addClass("disabled")}}else{$(".owl-next").hide();$(".owl-prev").hide()}},afterInit:function(){a.setupMobileStickyTab()}});$(window).load(function(){window.setTimeout(function(){b.data("owlCarousel").reinit()},250)})},setupMobileStickyTab:function(){$(".result-container.mobile .tabs-block").stick_in_parent({bottoming:false})},setupMobileResultSlider:function(){$(".result-container.mobile .slicker").slick({infinite:false,speed:300,slidesToShow:1,slidesToScroll:1,variableWidth:true,focusOnSelect:true,prevArrow:'<div class="slick-prev"></div>',nextArrow:'<div class="slick-next"></div>',asNavFor:".result-container.mobile .search-results-block"});$(".result-container.mobile .search-results-block").slick({infinite:false,slidesToShow:1,slidesToScroll:1,arrows:false,fade:true,adaptiveHeight:true,asNavFor:".result-container.mobile .slicker"})},setupDesktopTabsClick:function(){var b=$(".result-container.desktop");b.on("click",".tab-item",function(e){e.preventDefault();var d=$(this),c="";if(d.attr("class").indexOf("support")>0){c="support"}else{if(d.attr("class").indexOf("video")>0){c="video"}else{if(d.attr("class").indexOf("blog")>0){c="blog"}else{if(d.attr("class").indexOf("more")>0){c="more"}}}}if(c!==""){b.find(".tab-item").removeClass("active");d.addClass("active");b.find(".result-section").hide();b.find("."+c+"-result-section").show()}})}};return a}());$(document).ready(function(){if($("body").hasClass("searchv2")){globalSearch.myConfig.baseSearchURL=searchWSBaseURL;globalSearch.init()}});
$(document).ready(function(){if($("body").hasClass("indexv2")){document.title=jQuery("<p>"+document.title+"</p>").text();$("meta[name=description]").attr("content",jQuery("<p>"+$('meta[name="description"]').attr("content")+"</p>").text());function b(){var g=$(window).width();if(g<720){return true}else{return false}}function d(){$(".bx-prev").addClass("dark");$(".bx-next").addClass("dark");$(".bx-pager-item a").css({"background-color":"#333"})}function e(){$(".bx-prev").removeClass("dark");$(".bx-next").removeClass("dark");$(".bx-pager-item a").css({"background-color":"#ccc"})}function c(){if($(".slide0 .slide").hasClass("light")){d()}else{e()}}var a=$("ul.slider > li").length;if(a==1){$("section.collage").addClass("hide-controls")}$.getScript("/assets/layout/js/plugins/bxslider/jquery.bxslider.min.js",function(){if($(".boxes .slider").hasClass("autoSlideOverride")){var g=true}else{var g=false}$(".slider").bxSlider({onSliderLoad:function(){$("section.collage li video").each(function(){$(this).get(0).play()});c()},onSlideBefore:function(j,i,h){if($(".slide"+h+" .slide").hasClass("light")){d()}else{e()}},auto:g,pause:5000})});function f(){if(isMobile()==false){var g=$(".listing .item").length;if(g==4){$(".listing").addClass("four-items")}else{if(g==5){$(".listing").addClass("five-items")}else{if(g==6){$(".listing").addClass("six-items")}}}}}$(window).load(function(){f()});$(window).resize(function(){f()});f();$(".video-section .video-array .thumb").click(function(){var h,g;if(!$("body").hasClass("cn")){h=$(this).find("img").attr("data-youtube");g='<iframe src="https://www.youtube.com/embed/'+h+'?enablejsapi=1&rel=0&showinfo=0&autoplay=1" frameborder="0" allowfullscreen="1"></iframe>'}else{h=$(this).find("img").attr("data-youku");g='<iframe src="http://player.youku.com/embed/'+h+'?autoplay=1" frameborder=0 "allowfullscreen"></iframe>'}if(b()==false){$(".video-modal, .video-modal-overlay").addClass("show");setTimeout(function(){$(".video-modal").append(g)},600)}else{if(!$(this).hasClass("hide")){$(this).addClass("hide");$(this).append(g)}}});$(".video-modal .close, .video-modal-overlay").click(function(){$(".video-modal, .video-modal-overlay").removeClass("show");setTimeout(function(){$(".video-modal iframe, .video-modal embed").remove()},500)})}});
var Innovations=(function($){var module=function(){document.title=jQuery("<p>"+document.title+"</p>").text();$("meta[name=description]").attr("content",jQuery("<p>"+$('meta[name="description"]').attr("content")+"</p>").text());function detectIE(){if(navigator.userAgent.match(/Trident/i)||navigator.userAgent.match(/MSIE/i)||navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/Windows Phone/i)){return true}else{return false}}function detectWebkit(){if(navigator.userAgent.match(/Chrome/i)||navigator.userAgent.match(/Safari/i)){return true}else{return false}}function mobile(){if($(".mobile-detector").css("width")=="1px"){return true}else{return false}}if(detectIE()==true){$("#section-2, #section-5, #section-6, #section-7, #section-9, #section-9a, #section-10").css("background-attachment","scroll")}if(detectWebkit()==false){$("ul.filters").hide()}if(mobile()==true){var activateNav=0;var activateBlinkfeed=0;var activateParallax=0}else{var activateNav=1;var activateBlinkfeed=1;var activateParallax=1}function isAnimating(){var isAnimating=$("html, body").is(":animated");if(isAnimating==false){return false}else{return true}}function smoothScroll(section){var sectionPositionTop=$(".section-wrapper section[data-section="+section+"]").offset().top;$("html, body").animate({scrollTop:sectionPositionTop},500)}if(activateNav==1){function positionSideNav(){var userPosition=$(document).scrollTop();var sectionPosition=$(".section-wrapper section[data-section=1] .content").offset();var sectionPositionTop=sectionPosition.top;var lastSectionPositionTop=$(".section-wrapper section[data-section=10]").offset().top;var lastSectionHeight=$(".section-wrapper section[data-section=10]").height();var jumpNavHeight=$("nav.jump-nav").height();var bottomThreshold=lastSectionPositionTop+lastSectionHeight-jumpNavHeight-20;if((userPosition>=sectionPositionTop)&&(userPosition<bottomThreshold)){var sectionPositionLeft=sectionPosition.left;var rightPlacement=(sectionPositionLeft+961)+"px";$("nav.jump-nav").fadeIn(150).css({left:rightPlacement,position:"fixed"})}else{if(userPosition>=bottomThreshold){$("nav.jump-nav").hide()}else{$("nav.jump-nav").fadeOut(150).css({left:"auto",right:"0",position:"absolute"})}}}$(document).scroll(function(){positionSideNav()});$(window).resize(function(){positionSideNav()});positionSideNav();$("nav.jump-nav li").click(function(){$("nav.jump-nav li").removeClass("active");$(this).addClass("active");var sectionNumber=$(this).attr("data-section");smoothScroll(sectionNumber)});for(i=1;i<=10;i++){window["navSelect"+i]=$("nav.jump-nav li[data-section="+i+"]")}function setActiveNav(){if(isAnimating()==false){var userPosition=$(document).scrollTop();for(i=1;i<=10;i++){window["sectionAnchor"+i]=($("#section-"+i).offset().top)-85}for(i=1;i<=10;i++){var anchorTop=eval("sectionAnchor"+i);var navSelect=eval("navSelect"+i);if(i<10){var increment=i+1;var anchorBottom=eval("sectionAnchor"+increment);if(userPosition>=anchorTop&&userPosition<anchorBottom){navSelect.addClass("active")}else{navSelect.removeClass("active")}}else{if(userPosition>=anchorTop){navSelect.addClass("active")}else{navSelect.removeClass("active")}}}}}$(document).scroll(function(){setActiveNav()});setActiveNav()}$(window).bind("load",function(){if(mobile()==false){var zoeHeight=$("#section-2 .content").height();$("#section-2 .content, #section-2 .content .horizontal-slide").css("height",zoeHeight)}});$(".horizontal-nav .arrow").click(function(e){e.preventDefault();smoothScroll(2);if($("html").hasClass("no-touchevents")){var fadeTime=200;var fadeDelay=250}else{var fadeTime=0;var fadeDelay=0}var totalSlides=$("#section-2 .horizontal-slide").length;var activeSlide=parseInt($("#section-2 .horizontal-slide.active").attr("data-slide"));$("#section-2 .horizontal-slide").removeClass("active").fadeOut(fadeTime);if($(this).hasClass("right")){if(activeSlide==totalSlides){var newSlide=1}else{var newSlide=activeSlide+1}}else{if(activeSlide==1){var newSlide=totalSlides}else{var newSlide=activeSlide-1}}setTimeout(function(){$("#section-2 .horizontal-slide[data-slide="+newSlide+"]").addClass("active").fadeIn(fadeTime)},fadeDelay)});$(".learn-more").click(function(){if($(this).hasClass("active")){$(".secondary-wrapper").slideUp(500,function(){$(".learn-more").removeClass("active").html("View More")});smoothScroll(2)}else{$(".secondary-wrapper").slideDown(500,function(){$(".learn-more").addClass("active").html("Collapse")})}});$("#section-4 .play-button").click(function(e){if(mobile()==false){e.preventDefault();$(this).fadeOut(200);$("#section-4 .placeholder").fadeOut(200);var videoID=$(this).attr("data-videoid");var videoPlayer=$(this).attr("data-videoplayer").toLowerCase();if(videoPlayer=="youtube"){var videoString='<iframe src="//www.youtube.com/embed/'+videoID+'?autoplay=1&modestbranding=1&showinfo=0&rel=0&autohide=1" frameborder="0" allowfullscreen="1"></iframe>'}else{var videoString='<iframe src="http://player.youku.com/embed/'+videoID+'?autoplay=1&rel=0" frameborder="0" allowfullscreen="1"></iframe>'}setTimeout(function(){$("#section-4 .video").append(videoString)},650)}});$("#section-4 .play-button").click(function(){$(".soundwave div").addClass("active");setTimeout(function(){$(".soundwave div").removeClass("active")},150);setTimeout(function(){$(".soundwave div").addClass("active")},300);setTimeout(function(){$(".soundwave div").removeClass("active")},450)});$("ul.filters li").click(function(){var filter=$(this).attr("data-filter");$("ul.filters li").removeClass("active");$(this).addClass("active");$("#section-6").removeClass().addClass(filter)});$(".launch-modal").click(function(e){if(mobile()==false){e.preventDefault();var modalID=$(this).attr("data-id");var selectedModal=$(".modal-popup[data-id="+modalID+"]");smoothScroll(modalID);$(".modal-overlay[data-id="+modalID+"]").fadeIn(500);selectedModal.fadeIn(500);setTimeout(function(){var mediaType=selectedModal.attr("data-mediatype");if(mediaType=="video"){var videoID=selectedModal.attr("data-videoid");var videoPlayer=selectedModal.attr("data-videoplayer").toLowerCase();if(videoPlayer=="youtube"){var videoString='<iframe src="//www.youtube.com/embed/'+videoID+'?autoplay=1&modestbranding=1&showinfo=0&rel=0&autohide=1" frameborder="0" allowfullscreen="1"></iframe>'}else{var videoString='<iframe src="http://player.youku.com/embed/'+videoID+'?autoplay=1&rel=0" frameborder="0" allowfullscreen="1"></iframe>'}selectedModal.append(videoString)}},550)}});$(".modal-overlay, .modal-close").click(function(e){e.preventDefault();var modalID=$(this).attr("data-id");$(".modal-overlay[data-id="+modalID+"], .modal-popup[data-id="+modalID+"]").fadeOut(300);setTimeout(function(){$(".modal-popup[data-id="+modalID+"] iframe").remove()},350)});$(".back-to-top").click(function(){smoothScroll(1)});function blinkfeedScroll(){if($(".scroll-area").hasClass("top")){var scrollPoint="-502px"}else{var scrollPoint="0px"}$(".scroll-area").addClass("perspective");$(".scroll-area").animate({top:scrollPoint},500);setTimeout(function(){$(".scroll-area").removeClass("perspective")},400);$(".scroll-area").toggleClass("top");blinkfeedTimer()}function blinkfeedTimer(){setTimeout(function(){if($(".jump-nav li[data-section=3]").hasClass("active")){blinkfeedScroll()}else{blinkfeedTimer()}},3000)}$(window).bind("load",function(){if(activateBlinkfeed==1&&$("html").hasClass("no-touchevents")){blinkfeedTimer()}});$(window).bind("load",function(){if(activateParallax==1&&$("html").hasClass("no-touchevents")){$(window).stellar({horizontalScrolling:false})}});$(".rich-experience").click(function(e){e.preventDefault();var experienceArea=$(this).attr("data-experience");openRichExperience(experienceArea)})};module.prototype={constructor:module};return module})(jQuery);
var KSP=(function(b){var a=function(){document.title=jQuery("<p>"+document.title+"</p>").text();b("meta[name=description]").attr("content",jQuery("<p>"+b('meta[name="description"]').attr("content")+"</p>").text());b("html").css({height:"100%"});b(".browser-overlay").click(function(){b(".browser-overlay, .browser-modal").fadeOut(300)});if(b("html").hasClass("csstransforms3d")){b(".browser-overlay, .browser-modal").remove()}if(!b("html").hasClass("csstransforms3d")){b("video").remove()}b("a[name=top]").remove();var m=b(".slide-nav > ul > li:visible").length;function d(){var u=b(".mobile-detector").css("width"),t=false;if(u==="1px"){t=true}return t}if(d()==false&&b("html").hasClass("csstransforms3d")){if(b("html").hasClass("touch")){b(".footer-button").addClass("tall")}if(b(".slide-nav ul li").length=="1"){b(".slide-nav").hide()}b(".slide-nav ul li:first-child").addClass("active");function o(){var u=b(".slide-nav ul li").length,t;for(t=1;t<=u;t+=1){b(".slide-nav ul li:nth-child("+t+")").attr("data-slide",t)}}o();if(b("html").hasClass("touch")){b("video").remove()}b(window).load(function(){HtcChrome.detectFooterButton()});HtcChrome.detectFooterButton();if(!b("html").hasClass("touch")){b(".slide-nav ul li").hover(function(){b(this).find(".label").stop().fadeIn(150)},function(){b(this).find(".label").stop().fadeOut(150)})}function i(){var w=b(window).height(),v=w*6,u=b(".slide-nav ul li.active").attr("data-slide"),t="-"+(w*(u-1))+"px";b("section.slide").css("height",w);b(".slide-wrapper").css("height",v);b(".slide-wrapper").css("margin-top",t)}b(window).resize(function(){i()});i();function e(t){b(".scroll-prompt").remove();b(".video-controls .play-toggle").removeClass("alt");if(b("video").length>0){b("video").each(function(){b(this).get(0).pause()})}if(b("video[data-section="+t+"]").length>0){b("video[data-section="+t+"]").each(function(){b(this).get(0).play()})}}function g(){var t=false;if(b(".slide-wrapper").is(":animated")){t=true}return t}function q(){var t=false;if(b(".chrome-overlay").is(":visible")){t=true}return t}function h(){return false}function l(u){var t=b(".slide-nav ul li[data-slide="+u+"]").attr("data-nav");if(t==="invert"){b(".slide-nav").addClass("invert")}else{b(".slide-nav").removeClass("invert")}}function n(u){b(".slide-nav ul li").last().attr("data-arrow","hide");var t=b(".slide-nav ul li[data-slide="+u+"]").attr("data-arrow");if(t==="dark"){b(".advance-slide").addClass("dark").removeClass("hide")}else{b(".advance-slide").removeClass("dark");if(t==="hide"){b(".advance-slide").addClass("hide")}else{b(".advance-slide").removeClass("hide")}}}function k(t){if(t==="1"){b("#htc-header").fadeIn(500)}else{b("#htc-header").fadeOut(500)}}function f(w,v){if(g()===false&&q()===false){if(v===undefined){v=1100}if(b("body").hasClass("eye-experience")){var t=b.magnificPopup.instance;t.close()}var x=b(window).height(),u=x*(w-1);b(".slide-wrapper").animate({marginTop:"-"+u},v,"easeOutCubic",function(){e(w)});l(w);if(b("body").hasClass("root innovations")){k(w);n(w)}HtcChrome.detectFooterButton()}}function j(v){if(g()===false&&q()===false){var u=b(".slide-nav ul li.active").attr("data-slide"),t;if(v==="up"){if(u<=m&&u>1){t=b(".slide-nav ul li.active").removeClass("active").prev().addClass("active").attr("data-slide");f(t)}}else{if(u<m){t=b(".slide-nav ul li.active").removeClass("active").next().addClass("active").attr("data-slide");f(t)}}}}b(".scroll-prompt, .advance-slide, .explore-button").click(function(){j("down")});b(".slide-nav ul li").click(function(){if(g()===false&&q()===false){if(!b(this).hasClass("active")){b(".slide-nav ul li").removeClass("active");b(this).addClass("active");var t=b(this).attr("data-slide");f(t)}}});b("body").bind("mousewheel",function(t){if(g()===false&&q()===false&&h()===false){t.preventDefault();if(t.originalEvent.wheelDelta>0){j("up")}else{j("down")}}});b("body").bind("DOMMouseScroll",function(t){if(g()===false&&q()===false&&h()===false){t.preventDefault();if(t.originalEvent.detail<0){j("up")}else{j("down")}}});b(document).keydown(function(t){if(!b("textarea, input").is(":focus")&&h()===false){if(t.keyCode==="32"||t.keyCode==="40"||t.keyCode==="34"){t.preventDefault();j("down")}if(t.keyCode==="38"||t.keyCode==="33"){t.preventDefault();j("up")}}});var s=false;if(b("html").hasClass("touch")){b(document).bind("touchBypass",function(){s=true});b(document).bind("touchBypassEnd",function(){s=false})}if(b("html").hasClass("touch")){b(".slide-wrapper").touchwipe({wipeDown:function(){if(!s){j("down")}},wipeUp:function(){if(!s){j("up")}}})}b("nav.horizontal .nav-items a").click(function(t){if(b(this).hasClass("active")){t.preventDefault()}});b(".video-controls .play-toggle").click(function(){b(this).toggleClass("alt");if(b(this).hasClass("alt")){b("video#manufacturing").get(0).pause()}else{b("video#manufacturing").get(0).play()}});b(".video-controls .sound-toggle").click(function(){b(this).toggleClass("alt");if(b(this).hasClass("alt")){b("video#manufacturing").prop("muted",false)}else{b("video#manufacturing").prop("muted",true)}})}if(d()===false){b("ul.base-nav li, ul.left-nav li").click(function(){if(!b(this).hasClass("active")){var v="#"+b(this).parent().attr("id"),u="#"+b(this).parent().parent().attr("id"),t=b(this).attr("data-id");b(v+" li").removeClass("active");b(this).addClass("active");b(u+" .frame[data-id!="+t+"]").fadeOut(300);setTimeout(function(){b(u+" .frame[data-id="+t+"]").fadeIn(300)},300)}});b(".panel .overlay").click(function(){var t="#"+b(this).parent().parent().attr("id"),u=b(this).parent().attr("data-position");b(t+" .panel[data-position="+u+"] .copy").addClass("hide");setTimeout(function(){b(t+" .panel[data-position="+u+"] .copy").fadeIn(200,function(){b(t+" .panel[data-position="+u+"] .copy").removeClass("hide").removeAttr("style")})},500);b(t+" .panel[data-position="+u+"]").removeClass("collapse");b(t+" .panel[data-position!="+u+"]").addClass("collapse")});function r(){var t=b(".promo-column.redesign.one .copy").outerHeight();b(".promo-column.redesign.one .promo-phone").css("margin-bottom",t)}b(window).load(function(){r()});r();b(".history-lesson .arrow, .history-lesson ul.timeline li").click(function(){var w=parseInt(b(".history-lesson .period.active").attr("data-node"),10),v,u,t=b("ul.timeline").find("li").length;b(".history-lesson .period").removeClass("active").fadeOut(250);if(b(this).hasClass("right")){v=w+1}else{if(b(this).hasClass("left")){v=w-1}else{v=parseInt(b(this).attr("data-node"),10)}}if(v>t){v=t}if(v<=0){v=1}setTimeout(function(){b(".history-lesson .period[data-node="+v+"]").addClass("active").fadeIn(250)},300);if(v===1){b(".history-lesson .arrow.left").fadeOut(250);b(".history-lesson .arrow.right").fadeIn(250);b("#innovations-timeline .intro-image").fadeIn(800)}else{if(v===t){b(".history-lesson .arrow.left").fadeIn(250);b(".history-lesson .arrow.right").fadeOut(250);b("#innovations-timeline .intro-image").fadeOut(800)}else{b(".history-lesson .arrow.left, .history-lesson .arrow.right").fadeIn(250);b("#innovations-timeline .intro-image").fadeOut(800)}}b(".history-lesson ul.timeline li").removeClass("active year-highlight");for(u=1;u<=v;u+=1){b(".history-lesson ul.timeline li[data-node="+u+"]").addClass("active");if(u===v){b(".history-lesson ul.timeline li[data-node="+u+"]").addClass("year-highlight")}}})}if(d()===true){b("video").remove();b(".mobile-nav .tab").click(function(){b(".mobile-nav nav").toggleClass("active")});b("section.slide").click(function(){if(b(".mobile-nav nav").hasClass("active")){b(".mobile-nav nav").toggleClass("active")}});b(".back-to-top").click(function(){b("html, body").animate({scrollTop:0},500)});if(b("html").hasClass("touch")){var c=b(".timeline-swipe-area");if(c.length>0){b(".timeline-swipe-area").touchwipe({wipeRight:function(){var v=parseInt(b(".history-lesson .period.active").attr("data-node"),10),u=v+1,t=b("ul.timeline").find("li").length;if(u<=t){b(".history-lesson .period").removeClass("active").fadeOut(250);setTimeout(function(){b(".history-lesson .period[data-node="+u+"]").addClass("active").fadeIn(250)},300);b(".timeline-mobile div").removeClass("active");b(".timeline-mobile div[data-node="+u+"]").addClass("active");b("#innovations-timeline .intro-image").fadeOut(800);b(".timeline-prompt").hide()}},wipeLeft:function(){var u=parseInt(b(".history-lesson .period.active").attr("data-node"),10),t=u-1;if(t>=1){b(".history-lesson .period").removeClass("active").fadeOut(250);setTimeout(function(){b(".history-lesson .period[data-node="+t+"]").addClass("active").fadeIn(250)},300);b(".timeline-mobile div").removeClass("active");b(".timeline-mobile div[data-node="+t+"]").addClass("active");if(t==="1"){b("#innovations-timeline .intro-image").fadeIn(800)}b(".timeline-prompt").hide()}}})}}}b(".hotspot#focus-dot-1").click(function(){b("#refocus-frame-1 .alt-focus").fadeIn(1000)});b(".hotspot#focus-dot-2").click(function(){b("#refocus-frame-1 .alt-focus").fadeOut(1000)});b("ul.filter-strip li").click(function(){if(!b(this).hasClass("active")){var t=b(this).attr("data-filter");b("ul.filter-strip li").removeClass("active");b(this).addClass("active");b(".filter-image[data-filter!="+t+"]").hide();b(".filter-image[data-filter="+t+"]").show()}});b("#apps-htc-sense-apps .copy p, #apps-htc-sense-apps .mobile-options div").click(function(){if(!b(this).hasClass("active")){var t=b(this).attr("data-image");b("#apps-htc-sense-apps .copy p, #apps-htc-sense-apps .mobile-options div").removeClass("active");b(this).addClass("active");b("#apps-htc-sense-apps .sense-app[data-image!="+t+"]").hide();b("#apps-htc-sense-apps .sense-app[data-image="+t+"]").show()}});if(b("body").hasClass("htc-connect")){b(".partner-list a").on("click",function(){var t=b(this).data("original-idx");if(d()||!b("html").hasClass("csstransforms3d")){b("html,body").animate({scrollTop:b('section[data-slide="'+t+'"]').offset().top},"slow")}else{b('.slide-nav ul li[data-original-idx="'+t+'"]').click()}});if(location.hash!==""){if(d()||!b("html").hasClass("csstransforms3d")){var p=b('.partner-list a[href="'+location.hash+'"]').data("original-idx");b("html,body").animate({scrollTop:b('section[data-slide="'+p+'"]').offset().top},"slow")}else{b('.partner-list a[href="'+location.hash+'"]').click()}}}};return a})(jQuery);
$(document).ready(function(){if($("body").hasClass("buy_3_step_store_links")){var a={SIZE_SELECTION:$(".choose-size ul.size li"),COLOR_SELECTION:$(".choose-color ul.colors li"),VENDOR_SELECTION:$(".choose-vendor ul.vendor li"),CONTINUE_BUTTON:$(".buttons .add-to-cart"),init:function(){var c=this,d=null,b=null;$(c.COLOR_SELECTION).parent().parent().removeClass("disabled");$(c.SIZE_SELECTION).click(function(){$("ul.size li.active").removeClass("active");$(this).addClass("active");d=$(this).data("size");c.cleanColorAvailability();c.displayColor(d);c.cleanVendorAvailability();$(c.CONTINUE_BUTTON).addClass("disabled");$(c.CONTINUE_BUTTON).css("opacity","0")});$(c.COLOR_SELECTION).click(function(){b=$(this).data("color");$("ul.colors li.active").removeClass("active");$(this).addClass("active");c.cleanVendorAvailability();c.displayVendor(d,b);$(c.CONTINUE_BUTTON).css("opacity","0.25")});$(c.VENDOR_SELECTION).click(function(){$("ul.vendor li.active").removeClass("active");$(this).addClass("active");$(c.CONTINUE_BUTTON).removeClass("disabled");$(c.CONTINUE_BUTTON).css("opacity","1");var e=$(this).data("src");$(c.CONTINUE_BUTTON).attr("href",e)});$(c.CONTINUE_BUTTON).click(function(f){if($(this).hasClass("disabled")){if(!(navigator.appName=="Microsoft Internet Explorer"&&navigator.userAgent.indexOf("MSIE 9")>0)){f.preventDefault()}else{if(f.preventDefault){f.preventDefault()}else{f.returnValue=false}}}})},cleanColorAvailability:function(){$(this.COLOR_SELECTION).removeClass("available");$(this.COLOR_SELECTION).removeClass("active");$(this.COLOR_SELECTION).removeClass("not-available")},cleanVendorAvailability:function(){$(this.VENDOR_SELECTION).parent().parent().addClass("disabled");$(this.VENDOR_SELECTION).removeClass("active");$(this.VENDOR_SELECTION).hide()},getAvailableColors:function(c){var b=this,f=[],d="",g="",e=0;$(b.VENDOR_SELECTION).each(function(h){d=$(this).data("size");g=$(this).data("color");if(d==c&&f.indexOf(g)<0){f.push(g)}});return f},displayColor:function(c){var b=this,e="",d=b.getAvailableColors(c);if(d.length>0){$(b.COLOR_SELECTION).each(function(f){e=$(this).data("color");if(d.indexOf(e)>=0){$(this).addClass("available")}else{$(this).addClass("not-available")}})}},displayVendor:function(d,e){var c=this,b="";$(c.VENDOR_SELECTION).parent().parent().removeClass("disabled");if($(c.VENDOR_SELECTION).length>=1){$(c.VENDOR_SELECTION).each(function(f){$(this).parent().find('li[data-size="'+d+'"][data-color="'+e+'"]').show()})}}};a.init()}});
$(document).ready(function(){if($("body").hasClass("ksp_custom_snap_scroll")){var n=$(".slide-wrapper > section").length;function a(){var r=$(window).width();if(r<720){return true}else{return false}}if($("html").hasClass("touch")){$("video").remove()}$("img.process-image").each(function(){var r=$(this).attr("data-src");if(a()==true){r=r.replace(".jpg","-mobile.jpg")}$(this).attr("src",r)});if(a()==false&&$("html").hasClass("csstransforms3d")){$(".slide-nav ul > li:first-child").addClass("active");function g(){var r=$(".slide-nav ul > li").length;for(i=1;i<=r;i++){$(".slide-nav ul > li:nth-child("+i+")").attr("data-slide",i)}}g();$(".slide-wrapper > section:last-child").append('<div class="footer-button" data-position="">Show Footer</div>');function h(){var r="-"+$("#htc-footer").height()+"px";$("#htc-footer").css("bottom",r);$(".footer-button").attr("data-position",r)}$(window).load(function(){h()});h();$(".footer-button").click(function(){$("#htc-footer").css("opacity","1.0");$("#htc-footer").show();$("#htc-footer").animate({bottom:0},300);$(".chrome-overlay").fadeIn(300)});$(".chrome-overlay").click(function(){var r=$(".footer-button").attr("data-position");$("#htc-footer").animate({bottom:r});$(".chrome-overlay").fadeOut(300)});if(!$("html").hasClass("touch")){$(".slide-nav ul li").hover(function(){$(this).find(".label").stop().fadeIn(150)},function(){$(this).find(".label").stop().fadeOut(150)})}function j(){var s=$(window).height(),r=$(".slide-wrapper > section.slide").length;totalHeight=s*r;slideNumber=$(".slide-nav ul li.active").attr("data-slide"),moveHeight="-"+(s*(slideNumber-1))+"px";$("section.slide").css("height",s);$(".slide-wrapper").css("height",totalHeight);$(".slide-wrapper").css("margin-top",moveHeight)}$(window).resize(function(){j()});j();function b(r){$(".scroll-prompt").remove();if($("video").length>0){$("video").each(function(){$(this).get(0).pause()})}if($("video[data-section="+r+"]").length>0){$("video[data-section="+r+"]").get(0).play()}}function f(){if($(".slide-wrapper").is(":animated")){return true}else{return false}}function p(){if($(".chrome-overlay").is(":visible")){return true}else{return false}}function e(){return false}function m(s){var r=$(".slide-nav ul li[data-slide="+s+"]").attr("data-nav");if(r=="invert"){$(".slide-nav").addClass("invert")}else{$(".slide-nav").removeClass("invert")}}function o(s){var r=$(".slide-nav ul li[data-slide="+s+"]").attr("data-arrow");if(r=="dark"){$(".advance-slide").addClass("dark").removeClass("hide")}else{$(".advance-slide").removeClass("dark");if(r=="hide"){$(".advance-slide").addClass("hide")}else{$(".advance-slide").removeClass("hide")}}}function l(r){if(r==1){$("#htc-header").fadeIn(500)}else{$("#htc-header").fadeOut(500)}}function d(t,s){if(f()==false&&p()==false){if(s==undefined){s=1100}var u=$(window).height();var r=u*(t-1);$(".slide-wrapper").animate({marginTop:"-"+r},s,"easeOutCubic",function(){b(t)});m(t);if($("body").hasClass("innovations")){l(t);o(t)}HtcChrome.detectFooterButton()}}function k(t){if(f()==false&&p()==false){var s=$(".slide-nav ul li.active").attr("data-slide");if(t=="up"){if(s<=n&&s>1){var r=$(".slide-nav ul li.active").removeClass("active").prev().addClass("active").attr("data-slide");d(r)}}else{if(s<n){var r=$(".slide-nav ul li.active").removeClass("active").next().addClass("active").attr("data-slide");d(r)}}}}function q(){$("img.slide-background").each(function(){var t=$(window).width();var u=$(window).height();var s=$(this).prop("naturalWidth");var r=$(this).prop("naturalHeight");if((t/u)<(s/r)){$(this).css({height:"100%",width:"auto"})}else{$(this).css({height:"auto",width:"100%"})}})}$(".slide-nav ul li").click(function(){if(f()==false&&p()==false){if(!$(this).hasClass("active")){$(".slide-nav ul li").removeClass("active");$(this).addClass("active");var r=$(this).attr("data-slide");d(r)}}});$("body").bind("mousewheel",function(r){if(f()==false&&p()==false&&e()==false){r.preventDefault();if(r.originalEvent.wheelDelta>0){k("up")}else{k("down")}}});$("body").bind("DOMMouseScroll",function(r){if(f()==false&&p()==false&&e()==false){r.preventDefault();if(r.originalEvent.detail<0){k("up")}else{k("down")}}});$(document).keydown(function(r){if($("textarea, input").not(":focus")&&e()==false){if(r.keyCode==32||r.keyCode==40||r.keyCode==34){r.preventDefault();k("down")}if(r.keyCode==38||r.keyCode==33){r.preventDefault();k("up")}}});if($("html").hasClass("touch")){$(".slide-wrapper").touchwipe({wipeDown:function(){k("down")},wipeUp:function(){k("up")}})}$("nav.horizontal .nav-items a").click(function(r){if($(this).hasClass("active")){r.preventDefault()}});$(window).on("load resize",function(){q()});setTimeout(function(){q()},500);q();$(window).load(function(){HtcChrome.detectFooterButton()});HtcChrome.detectFooterButton()}if(a()==true){$("video").remove();var c=$(".mobile-nav nav > ul > li").length;if(c==5){$(".mobile-nav nav > ul").addClass("five-items")}else{if(c==4){$(".mobile-nav nav > ul").addClass("four-items")}}$(".mobile-nav .tab").click(function(){$(".mobile-nav nav").toggleClass("active")});$("section.slide").click(function(){if($(".mobile-nav nav").hasClass("active")){$(".mobile-nav nav").toggleClass("active")}});$(".back-to-top").click(function(){$("html, body").animate({scrollTop:0},500)})}$(".hotspot").hover(function(){$(this).parent().children(".connecting-line, .callout-copy").addClass("active")},function(){$(this).parent().children(".connecting-line, .callout-copy").removeClass("active")})}});
var M8SocialShare=(function(){var e;function f(){e=window.location.href;e=e.replace(/\#$/,"");e=e.replace(/\/$/,"");e=e.replace(/\/[\d]+$/,"");$("body").on("m8bfShareEvent",function(j,i,h){switch(i){case"facebook":g(h);break;case"twitter":c(h);break;case"googleplus":d(h);break}})}function g(j){var i=e+"/000"+j;var h="https://www.facebook.com/sharer.php?u="+encodeURIComponent(i);b(h)}function c(j){var i=$rfM8bfTwitterLines[j-1];var h="http://twitter.com/intent/tweet?text="+encodeURIComponent(i);b(h)}function d(j){var i=e+"/000"+j;var h="https://plus.google.com/share?url="+encodeURIComponent(i);b(h)}function b(h){var i="height=400,width=640,toolbar=yes,menubar=yes,scrollbars=yes,resizable=yes,location=yes,directories=yes,status=yes";window.open(h,"socialShare",i)}return{init:f}})();var M8Blinkfeed=(function(d,b){var c=function(){this.base="/managed-assets/shared/desktop/smartphones/htc-one-m8/ksp/img/";this._isMobile=true;this.questionGroup=Math.floor(Math.random()*3)+1;this.quizChoices=[0,0,0];this.currentQ=1;this.lastQ=1;this.selectedCIDs="";this.cidCollection=[];this.baseApiUrl="";this.instructionsClosed=false;this.zoomed=false;this.siteImgsUrls=[this.base+"blinkfeed/logo.png",this.base+"blinkfeed/welcome_device.png"];this.siteImgsUrlsDesktop=[this.base+"blinkfeed/logo_desktop.png",this.base+"blinkfeed/welcome_device_desktop.png"];this.siteImgsPreload=[];this.sitePreloadCounter=0;this.siteToPreload=0;this.newsTileData={};this.imgsPreload=[];this.preloadCounter=0;this.toPreload=0;this.wideTiles=[];this.tallTiles=[];this.tilesPattern=[];this.tiles=[];this.wideCntr=0;this.tallCntr=0;this.genericFlag=false;this.firstViewFlag=0;this.skipped=false;this.startY=0;this.bfY=0;this.bfStartY=0;this.lastY=0;this.curY=0;this.speed=0;this.inverseScale=0;this.zoomScale=0.212;this.snapPoints=[];this.dragging=false;this.tileClick=false;this.firstPass=true;this.socialTime=0;this.ins2=false;this.funkyLeftFlag=false;this.articleData={};this.unmodifiedSocial=null;this.inEmulator=false;this.quizFirstPass=true;this.initUI()};c.prototype={constructor:c};c.prototype.clearFeed=function(){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .container").css({top:"0"});var e='<div class="tile highlights">';d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .container .tile").each(function(){if(d(this).hasClass("highlights")){e+=d(this).html()}});e+="</div>";d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .container").html(e)};c.prototype.resetVariables=function(){this.clearFeed();$rfM8bfCannedSocial=ref.unmodifiedSocial;this._isMobile=true;this.questionGroup=Math.floor(Math.random()*3)+1;this.quizChoices=[0,0,0];this.currentQ=1;this.lastQ=1;this.selectedCIDs="";this.cidCollection=[];this.instructionsClosed=false;this.zoomed=false;this.siteImgsUrls=[this.base+"blinkfeed/logo.png",this.base+"blinkfeed/welcome_device.png"];this.siteImgsUrlsDesktop=[this.base+"blinkfeed/logo_desktop.png",this.base+"blinkfeed/welcome_device_desktop.png"];this.siteImgsPreload=[];this.sitePreloadCounter=0;this.siteToPreload=0;this.newsTileData={};this.imgsPreload=[];this.preloadCounter=0;this.toPreload=0;this.wideTiles=[];this.tallTiles=[];this.tilesPattern=[];this.tiles=[];this.wideCntr=0;this.tallCntr=0;this.genericFlag=false;this.firstViewFlag=0;this.skipped=false;this.startY=0;this.bfY=0;this.bfStartY=0;this.lastY=0;this.curY=0;this.speed=0;this.inverseScale=0;this.zoomScale=0.212;this.snapPoints=[];this.dragging=false;this.tileClick=false;this.firstPass=false;this.inEmulator=false};c.prototype.figureOutServer=function(){var e=this;if(window.location.host=="aqa-www.htc.com"||window.location.host=="astage-www.htc.com"||window.location.host=="apreview-www.htc.com"||window.location.host=="www.htc.com"||window.location.host=="htc.com"){e.baseApiUrl="/"}else{e.baseApiUrl="http://astage-ws.htc.com/"}};c.prototype.initUI=function(){if(d(".mobile-detector").css("display")=="none"){this._isMobile=false}var e=this;e.figureOutServer();if(e.unmodifiedSocial==null){e.unmodifiedSocial=$rfM8bfCannedSocial}else{$rfM8bfCannedSocial=e.unmodifiedSocial}d("body.productksp.smartphones.htc-one-m8.blinkfeed .loader").css({top:(d("#blinkfeed-emulator").height()*0.5)+"px",left:(d("#blinkfeed-emulator").width()*0.5)+"px"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1").hide();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1 .intro a.cta").unbind("click");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1 .intro a.cta").click(function(f){e.introOutAnimation();f.preventDefault()});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1 .intro a.skip").unbind("click");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1 .intro a.skip").click(function(g){e.skipped=true;for(var f=0;f<e.quizChoices.length;f++){e.quizChoices[f]=Math.floor(Math.random()*4)+1}e.genericFlag=true;e.introOutAnimation();if(!e._isMobile){e.instructionsClosed=true}else{e.zoomScale=0.18}g.preventDefault()});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .close").unbind("click");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .close").click(function(){if(!e.instructionsClosed){d(this).hide();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .msg").hide();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .social").hide();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .instructions").hide();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .screen").hide();e.mobileZoom(e);e.instructionsClosed=true}else{e.toggleZoom()}});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .instructions .mobile a").unbind("click");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .instructions .mobile a").click(function(f){f.preventDefault();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .close").click()});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .zoom").unbind("click");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .zoom").click(function(){e.toggleZoom()});if(Modernizr&&Modernizr.touch){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .zoom").unbind("touchstart");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .zoom").bind("touchstart",function(f){f.preventDefault();e.toggleZoom()});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .close").unbind("touchstart");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .close").bind("touchstart",function(f){f.preventDefault();if(!e.instructionsClosed){d(this).hide();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .msg").hide();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .social").hide();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .instructions").hide();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .screen").hide();setTimeout(e.mobileZoom,1000,e);e.instructionsClosed=true}else{e.toggleZoom()}});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .instructions .mobile a").unbind("touchstart");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .instructions .mobile a").bind("touchstart",function(f){f.preventDefault();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .close").click()})}if(Modernizr&&Modernizr.touch){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .social .fb").unbind("touchstart");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .social .fb").bind("touchstart",function(){e.socialShareTrigger("facebook")});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .social .tw").unbind("touchstart");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .social .tw").bind("touchstart",function(){e.socialShareTrigger("twitter")});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .social .gp").unbind("touchstart");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .social .gp").bind("touchstart",function(){e.socialShareTrigger("googleplus")})}else{d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .social .fb").unbind("click");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .social .fb").click(function(){e.socialShareTrigger("facebook")});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .social .tw").unbind("click");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .social .tw").click(function(){e.socialShareTrigger("twitter")});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .social .gp").unbind("click");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .social .gp").click(function(){e.socialShareTrigger("googleplus")})}if(e.firstPass){b.init();d(window).on("orientationchange",function(f){if(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3").css("display")!="none"){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3").hide().fadeIn(100)}d(window).trigger("resize")});d(window).on("resize",function(i){if(!e._isMobile&&e.ins2){var m=d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2").height()*0.5-d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz").height()*0.5;if(m<0){m=0}d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz").css({top:m+"px"});var l=null;var k=false;var j=!!navigator.userAgent.match(/Trident\/7\./);if(navigator.appName=="Microsoft Internet Explorer"){k=true;var g=navigator.userAgent;var h=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(h.exec(g)!=null){l=parseInt(RegExp.$1)}}else{k=false}if((k!=false&&l<11)||j){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .submitBtn").css({"margin-left":(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2").width()*0.5-(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .submitBtn").width()+30)*0.5)+"px"})}else{d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .submitBtn").css({"margin-left":(0-(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .submitBtn").width()+30)*0.5)+"px"})}d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .questionIndicator").css({"margin-left":(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2").width()*0.5-(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .questionIndicator").width()+0)*0.5)+"px"})}else{if(e.ins2){var f=d(".q"+e.currentQ,d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup)).offset().top-78+d(".q"+e.currentQ,d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup)).height()+170;d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .questionIndicator").css({top:(f+70)+"px","margin-left":(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2").width()*0.5-(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .questionIndicator").width()+0)*0.5)+"px"});if(e.funkyLeftFlag==true){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .submitBtn").css({width:d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .submitBtn").width()+"px","margin-left":(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2").width()*0.5-(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .submitBtn").width()+30)*0.5)+"px",top:f+"px"})}else{d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .submitBtn").css({width:d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .submitBtn").width()+"px","margin-left":(0-(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .submitBtn").width()+30)*0.5)+"px",top:f+"px"})}}}if(e._isMobile&&e.inEmulator){e.mobileZoom()}});firtPass=false}e.preloadIntro()};c.prototype.introSetup=function(){if(this._isMobile){}else{d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1 .welcomeDevice").css({top:d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1").height()+"px",opacity:"0.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1 .intro .logo").css({left:"100px",opacity:"0.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1 .intro h2").css({left:"100px",opacity:"0.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1 .intro .desktop").css({left:"100px",opacity:"0.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1 .intro span.cta").css({left:"100px",opacity:"0.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1 .intro a.cta").css({left:"100px",opacity:"0.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1 .intro .link").css({left:"100px",opacity:"0.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"})}this.introAnimation()};c.prototype.introAnimation=function(){if(this._isMobile){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1").fadeIn()}else{d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1 .intro .logo").animate({left:"0px",opacity:"1.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"},300,"linear");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1 .intro h2").delay(100).animate({left:"0px",opacity:"1.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"},300,"linear");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1 .intro .desktop").delay(200).animate({left:"0px",opacity:"1.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"},300,"linear");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1 .intro span.cta").delay(300).animate({left:"0px",opacity:"1.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"},300,"linear");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1 .intro a.cta").delay(400).animate({left:"0px",opacity:"1.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"},300,"linear");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1 .intro .link").delay(500).animate({left:"0px",opacity:"1.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"},300,"linear");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1 .welcomeDevice").delay(600).animate({top:"90px",opacity:"1.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"},300,"swing");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1").show()}};c.prototype.introOutAnimation=function(){var e=this;if(this._isMobile){if(e.skipped){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2").hide();e.emulatorAnimationSetup()}else{e.quizSetup()}}else{if(e.skipped){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2").hide()}d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1 .intro .logo").animate({left:"-100px",opacity:"0.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"},300,"linear");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1 .intro h2").delay(100).animate({left:"-100px",opacity:"0.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"},300,"linear");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1 .intro .desktop").delay(200).animate({left:"-100px",opacity:"0.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"},300,"linear");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1 .intro span.cta").delay(300).animate({left:"-100px",opacity:"0.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"},300,"linear");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1 .intro a.cta").delay(400).animate({left:"-100px",opacity:"0.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"},300,"linear");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1 .intro .link").delay(500).animate({left:"-100px",opacity:"0.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"},300,"linear");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1 .welcomeDevice").delay(400).animate({top:d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1").height()+"px",opacity:"0.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"},600,"swing",function(){if(!e.skipped){e.quizSetup()}else{e.emulatorAnimationSetup()}})}};c.prototype.quizSetup=function(){var e=this;d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1").hide();if(this._isMobile){e.quizInAnimation()}else{d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup+" .question.q1").css({left:"1000px",opacity:"0.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)",top:"120px"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup+" .question.q2").css({left:"1000px",transform:"scale(0.75, 0.75)","-ms-transform":"scale(0.75, 0.75)","-webkit-transform":"scale(0.75, 0.75)",top:"80px",opacity:"0.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup+" .question.q3").css({left:"1000px",opacity:"0.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)",transform:"scale(0.5, 0.5)","-ms-transform":"scale(0.5, 0.5)","-webkit-transform":"scale(0.5, 0.5)",top:"50px"});e.quizInAnimation()}};c.prototype.quizInAnimation=function(){var e=this;e.ins2=true;if(this._isMobile){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1").hide();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2").show();e.initQuiz()}else{d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2").show();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup+" .question.q1").animate({left:"0px",opacity:"1.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"},650,"swing");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup+" .question.q2").delay(175).animate({left:"0px",opacity:"0.5","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)"},650,"swing");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup+" .question.q3").delay(250).animate({left:"-10px",opacity:"0.25","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=25)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=25)"},650,"swing");var f=d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2").height()*0.5-d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz").height()*0.5+100;if(f<0){f=0}d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz").css({top:f+"px"});e.initQuiz()}};c.prototype.quizOutAnimation=function(){var e=this;e.ins2=false;if(this._isMobile){e.emulatorAnimationSetup()}else{d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup+" .question.q1").delay(10).animate({left:"-1000px",opacity:"0.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"},650,"swing");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup+" .question.q2").delay(50).animate({left:"-1000px",opacity:"0.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"},650,"swing");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup+" .question.q3").delay(100).animate({left:"-1000px",opacity:"0.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"},650,"swing");setTimeout(function(){e.emulatorAnimationSetup()},900)}};c.prototype.emulatorAnimationSetup=function(){var e=this;e.inEmulator=true;if(this._isMobile){e.emulatorAnimation()}else{d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container").css({top:"585px",opacity:"0.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .social").css({top:(690+d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .msg").height())+"px",opacity:"0.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .msg").css({top:"690px",opacity:"0.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .zoom").css({opacity:"0.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .instructions h2").css({position:"relative",left:"100px",opacity:"0.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .instructions .sh").css({position:"relative",left:"100px",opacity:"0.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .instructions .desktop p").css({position:"relative",left:"50px",opacity:"0.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .instructions .desktop span").css({position:"relative",left:"50px",opacity:"0.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .instructions .desktop img").css({width:"0px",height:"0px",top:"54px"});e.emulatorAnimation()}};c.prototype.emulatorAnimation=function(){var e=this;if(this._isMobile){if(e.skipped){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1").hide()}else{d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2").hide()}d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3").show();e.generateCids();e.displayResult();e.gatherData()}else{if(!e.skipped){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2").delay(540).fadeOut()}else{d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1").hide();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2").hide()}d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3").delay(640).show().animate({left:"0px"},500,function(){e.generateCids();e.displayResult();e.gatherData()});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .instructions h2").delay(850).animate({left:"0px",opacity:"1.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"},750,"swing");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .instructions .sh").delay(850).animate({left:"0px",opacity:"1.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"},750,"swing");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .instructions .desktop img").delay(950).animate({width:"52px",height:"108px",top:"0px"},750,"swing");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .instructions .desktop p").delay(950).animate({left:"0px",opacity:"1.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"},750,"swing");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .instructions .desktop span").delay(1050).animate({left:"0px",opacity:"1.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"},750,"swing");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container").delay(1050).animate({top:"85px",opacity:"1.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"},750,"swing");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .msg").delay(1250).animate({top:"110px",opacity:"1.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"},600,"swing");setTimeout(function(){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .social").css({top:(610+d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .msg").height())+"px"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .social").animate({top:(110+d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .msg").height())+"px",opacity:"1.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"},600,"swing")},1250);d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .zoom").delay(1750).animate({opacity:"1.0","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"},500,"swing")}};c.prototype.mobileZoom=function(e){var h=window.innerWidth/1080;ref.zoomScale=h;ref.inverseScale=1/ref.zoomScale;var g=d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container").offset().left;var f="<style type='text/css'>";f+="body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device.zoomMobile{-moz-transition: none; -webkit-transition: none; -o-transition: all 0 ease-in;  transition: none; transform:scale("+h+","+h+"); -webkit-transform:scale("+h+","+h+"); -ms-transform:scale("+h+","+h+"); top:"+(0-(361*h))+"px; left:"+(0-g-(75*h))+"px;}";f+="</style>";d(f).appendTo("head");d("#htc-header").hide();d(".mobile-nav").hide();d("#blinkfeed-emulator").css({height:window.innerHeight+"px"});d("body").scrollTop(0);d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device").addClass("zoomMobile");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .closeBtn").fadeIn();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device").on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){setTimeout(ref.positionTiles,700)});if(Modernizr&&Modernizr.touch){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .closeBtn").unbind("touchstart");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .closeBtn").bind("touchstart",function(i){i.preventDefault();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3").hide();d("#htc-header").show();d(".mobile-nav").show();if(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .submitBtn").hasClass("active")){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .submitBtn").removeClass("active")}d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3").hide();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1").show();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device").removeClass("zoomMobile");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .closeBtn").fadeOut();d("#blinkfeed-emulator").css({height:"auto"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .msg").show();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .social").show();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .instructions").show();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .screen").show();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .close").show();ref.resetVariables()})}else{d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .closeBtn").unbind("click");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .closeBtn").bind("click",function(i){i.preventDefault();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3").hide();d("#htc-header").show();d(".mobile-nav").show();if(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .submitBtn").hasClass("active")){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .submitBtn").removeClass("active")}d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3").hide();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s1").show();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device").removeClass("zoomMobile");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .closeBtn").fadeOut();d("#blinkfeed-emulator").css({height:"auto"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .msg").show();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .social").show();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .instructions").show();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .screen").show();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .close").show();ref.resetVariables();ref.initUI()})}};c.prototype.toggleZoom=function(){var e=this;if(e.zoomed){e.zoomScale=0.212;d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .dim").fadeOut();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device").removeClass("zoom");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .zoom").fadeIn();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .instructions").fadeIn();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .msg").fadeIn();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .social").fadeIn();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .close").hide();e.zoomed=false}else{e.zoomScale=0.512;d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .dim").fadeIn();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device").addClass("zoom");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .zoom").fadeOut();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .instructions").fadeOut();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .msg").fadeOut();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .social").fadeOut();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .close").show();e.zoomed=true}};c.prototype.initQuiz=function(){var i=this.questionGroup;var h=this;d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .group").each(function(){if(!d(this).hasClass("g"+i)){d(this).hide()}else{d(this).show()}});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+this.questionGroup+" .question").each(function(){var p=0;d(".qs label",d(this)).each(function(){if(d(this).width()>p){p=d(this).width()}});p+=3;d(".qs",d(this)).each(function(){if(p>3){d(this).css({width:p+"px"})}});var o=d(this).height();d(this).css({"padding-bottom":o+"px"});if(h._isMobile){d(this).hide();if(d(this).hasClass("medium")){d(this).removeClass("medium")}if(d(this).hasClass("small")){d(this).removeClass("small")}}d('.qs input[type="radio"]').prop("checked",false);d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .questionIndicator .indicator").unbind("click");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .questionIndicator .indicator").click(function(){h.gotoQuestion(d(this).attr("data-index"))});h.updateQuestionIndicators()});var j=null;var e=false;var n=!!navigator.userAgent.match(/Trident\/7\./);if(navigator.appName=="Microsoft Internet Explorer"){e=true;var f=navigator.userAgent;var m=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(m.exec(f)!=null){j=parseInt(RegExp.$1)}}else{e=false}if(this._isMobile){d(".q1",d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+this.questionGroup)).show();var g=d("#blinkfeed-emulator").height()-150;var l=d(".q1",d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+this.questionGroup)).offset().top-78+d(".q1",d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+this.questionGroup)).height()+170;if(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .submitBtn").offset().left==0){h.funkyLeftFlag=true;if(h.quizFirstPass){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .submitBtn").css({width:d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .submitBtn").width()+"px","margin-left":(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2").width()*0.5-(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .submitBtn").width()+30)*0.5)+"px",top:l+"px"})}else{d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .submitBtn").css({top:l+"px"})}}else{if(h.quizFirstPass){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .submitBtn").css({width:d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .submitBtn").width()+"px","margin-left":(0-(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .submitBtn").width()+30)*0.5)+"px",top:l+"px"})}else{d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .submitBtn").css({top:l+"px"})}}d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .questionIndicator").css({top:(l+70)+"px","margin-left":(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2").width()*0.5-(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .questionIndicator").width()+0)*0.5)+"px"});var k=101;d(".question .rb",d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+this.questionGroup)).each(function(){})}else{if((e!=false&&j<11)||n){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .submitBtn").css({"margin-left":(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2").width()*0.5-(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .submitBtn").width()+30)*0.5)+"px"})}else{d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .submitBtn").css({"margin-left":(0-(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .submitBtn").width()+30)*0.5)+"px"})}d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .questionIndicator").css({"margin-left":(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2").width()*0.5-(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .questionIndicator").width()+0)*0.5)+"px"})}if(!h._isMobile){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+h.questionGroup+" .question .ico").unbind("click");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+h.questionGroup+" .question .ico").click(function(){var o=Number(d(this).parent().attr("data-index"))-1;h.lastQ=h.currentQ;h.currentQ=o+1;h.updateQuestionViewDesktop();h.updateQuestionIndicators()});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+h.questionGroup+" .question h3").unbind("click");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+h.questionGroup+" .question h3").click(function(){var o=Number(d(this).parent().attr("data-index"))-1;h.lastQ=h.currentQ;h.currentQ=o+1;h.updateQuestionViewDesktop();h.updateQuestionIndicators()})}if(h.quizFirstPass){d("body.productksp.smartphones.htc-one-m8.blinkfeed .rb").click(function(s){var u=null;var t=false;var r=!!navigator.userAgent.match(/Trident\/7\./);if(navigator.appName=="Microsoft Internet Explorer"){t=true;var o=navigator.userAgent;var p=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(p.exec(o)!=null){u=parseInt(RegExp.$1)}}else{t=false}var q=Number(d(this).parent().parent().parent().attr("data-index"));if(!r){if(q!=h.currentQ){this.checked=false;h.nextQuestion(q-1);return false}else{h.quizChoices[q-1]=d(this).val();h.nextQuestion(q-1);return true}}else{if(q!=h.currentQ){h.quizChoices[q-1]=d(this).val();h.nextQuestion(q-1);d(this).parent().prop("checked",true);return true}else{h.quizChoices[q-1]=d(this).val();h.nextQuestion(q-1);d(this).parent().prop("checked",true);return true}}})}h.quizFirstPass=false;d("body.productksp.smartphones.htc-one-m8.blinkfeed .submitBtn").unbind("click");d("body.productksp.smartphones.htc-one-m8.blinkfeed .submitBtn").click(function(o){if(d(this).hasClass("active")){h.quizOutAnimation();if(!h._isMobile){h.instructionsClosed=true}}o.preventDefault()})};c.prototype.displayResult=function(){var g=this;var f=(4*(Number(this.questionGroup)-1))+Number(this.quizChoices[2]);if(g.genericFlag){f=13;d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .instructions h2").hide();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .instructions").addClass("header");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .instructions span").addClass("header");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .close").css({"margin-top":"-10px"})}d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .msg .msgIcon").addClass("ico"+(f));d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .msg .phrase").each(function(){if(d(this).hasClass("active")){d(this).removeClass("active")}});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .container .msg .phrase"+f).addClass("active");if(g._isMobile){var e=155-d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .social").width()*0.5;d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .social").css({"margin-left":e+"px"})}};c.prototype.previousQuestion=function(){this.lastQ=this.currentQ;this.currentQ--;if(this.currentQ<1){this.currentQ=1}this.updateQuestionView()};c.prototype.nextQuestion=function(e){if(e!=this.currentQ-1){this.lastQ=this.currentQ;this.currentQ=e+1}else{this.lastQ=this.currentQ;this.currentQ++;if(this.currentQ>this.quizChoices.length){this.currentQ=this.quizChoices.length}}var g=0;for(var f=0;f<this.quizChoices.length;f++){if(this.quizChoices[f]>0){g++}}if(g==this.quizChoices.length&&this._isMobile){this.currentQ=this.quizChoices.length}this.updateQuestionView()};c.prototype.gotoQuestion=function(e){this.lastQ=this.currentQ;this.currentQ=e;if(this.currentQ>this.quizChoices.length){this.currentQ=this.quizChoices.length}if(this.currentQ<1){this.currentQ=1}this.updateQuestionView()};c.prototype.updateQuestionView=function(){var e=this;if(!this._isMobile){this.updateQuestionViewDesktop()}else{if(this.lastQ!=this.currentQ){d(".q"+this.lastQ,d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+this.questionGroup)).fadeOut();d(".q"+this.currentQ,d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+this.questionGroup)).delay(500).fadeIn();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .submitBtn").delay(550,function(){var f=d(".q"+e.currentQ,d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup)).offset().top-78+d(".q"+e.currentQ,d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup)).height()+112-d(document).scrollTop();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .submitBtn").stop().animate({top:f+"px"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .questionIndicator").stop().animate({top:(f+70)+"px"})});d(".q"+e.currentQ+' .qs input[type="radio"]:first-child',d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup)).delay(1100).focus()}}this.updateQuestionIndicators();if(this.checkQuizComplete()){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .submitBtn").delay(500).addClass("active")}};c.prototype.updateQuestionViewDesktop=function(){var e=this;if(e.currentQ==1){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup+" .question.q1").addClass("trans").css({transform:"scale(1, 1)  translate(0px, 0px)","-ms-transform":"scale(1, 1) translate(0px, 0px)","-webkit-transform":"scale(1, 1) translate(0px, 0px)"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup+" .question.q2").addClass("trans").css({transform:"scale(0.75, 0.75) translate(0px, 0px)","-ms-transform":"scale(0.75, 0.75) translate(0px, 0px)","-webkit-transform":"scale(0.75, 0.75) translate(0px, 0px)"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup+" .question.q3").addClass("trans").css({transform:"scale(0.5, 0.5) translate(-10px, -20px)","-ms-transform":"scale(0.5, 0.5) translate(-10px, -20px)","-webkit-transform":"scale(0.5, 0.5) translate(-10px, -20px)"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup+" .question.q1").stop().animate({opacity:"1","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"},250,"linear");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup+" .question.q2").stop().animate({opacity:"0.5","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)"},250,"linear");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup+" .question.q3").stop().animate({opacity:"0.3","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=30)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=30)"},250,"linear")}if(e.currentQ==2){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup+" .question.q1").stop().animate({opacity:"0.5","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)"},250,"linear");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup+" .question.q2").stop().animate({opacity:"1","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"},250,"linear");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup+" .question.q3").stop().animate({opacity:"0.5","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)"},250,"linear");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup+" .question.q1").addClass("trans").css({transform:"scale(0.75, 0.75) translate(-200px, -40px)","-ms-transform":"scale(0.75, 0.75) translate(-200px, -40px)","-webkit-transform":"scale(0.75, 0.75) translate(-200px, -40px)"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup+" .question.q2").addClass("trans").css({transform:"scale(1, 1) translate(-120px, 40px)","-ms-transform":"scale(1, 1) translate(-120px, 40px)","-webkit-transform":"scale(1, 1) translate(-120px, 40px)"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup+" .question.q3").addClass("trans").css({transform:"scale(0.75, 0.75) translate(-10px, 40px)","-ms-transform":"scale(0.75, 0.75) translate(-10px, 40px)","-webkit-transform":"scale(0.75, 0.75) translate(-10px, 40px)"})}if(e.currentQ==3){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup+" .question.q1").css({transform:"scale(0.5, 0.5)  translate(-340px, -120px)","-ms-transform":"scale(0.5, 0.5) translate(-340px, -120px)","-webkit-transform":"scale(0.5, 0.5) translate(-340px, -120px)"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup+" .question.q2").css({transform:"scale(0.75, 0.75) translate(-340px, 0px)","-ms-transform":"scale(0.75, 0.75) translate(-340px, 0px)","-webkit-transform":"scale(0.75, 0.75) translate(-340px, 0px)"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup+" .question.q3").css({transform:"scale(1, 1) translate(-120px, 60px)","-ms-transform":"scale(1, 1) translate(-120px, 60px)","-webkit-transform":"scale(1, 1) translate(-120px, 60px)"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup+" .question.q1").stop().animate({opacity:"0.3","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=30)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=30)"},250,"linear");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup+" .question.q2").stop().animate({opacity:"0.5","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)"},250,"linear");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .quiz .g"+e.questionGroup+" .question.q3").stop().animate({opacity:"1","-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"},250,"linear")}e.firstViewFlag++};c.prototype.updateQuestionIndicators=function(){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .questionIndicator .indicator").removeClass("active");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s2 .questionIndicator .indicator.i"+this.currentQ).addClass("active")};c.prototype.checkQuizComplete=function(){var e=true;for(var f=0;f<this.quizChoices.length;f++){if(this.quizChoices[f]===0){e=false}}return e};c.prototype.collectCids=function(){var g=this;for(var f=0;f<3;f++){var h=false;for(var e=0;e<g.cidCollection.length;e++){if(g.cidCollection[e]==$rfM8bfQs[g.questionGroup-1][f][g.quizChoices[f]-1]){h=true}}if(!h){g.cidCollection.push($rfM8bfQs[this.questionGroup-1][f][this.quizChoices[f]-1])}}};c.prototype.generateCids=function(){var g=this;g.collectCids();var f="";for(var e=0;e<g.cidCollection.length;e++){f+=g.cidCollection[e];if(e<g.cidCollection.length-1){f+=","}}g.selectedCIDs=f};c.prototype.gatherData=function(){ref=this;d.ajax({url:ref.baseApiUrl+"assets/geo-prism/s6/fi/hl/r/30?cids="+ref.selectedCIDs+"&net=1&wb=false",dataType:"json",jsonp:true,data:{},success:this.feedLoaded,error:this.feedError})};c.prototype.feedLoaded=function(e){ref.newsTileData=e;ref.preloadTiles()};c.prototype.feedError=function(e){};Array.prototype.shuffle=function(){var g=this.length,f,e;if(g==0){return this}while(--g){f=Math.floor(Math.random()*(g+1));e=this[g];this[g]=this[f];this[f]=e}return this};c.prototype.preloadIntro=function(){var f=this;f.sitePreloadCounter=0;var e=0;if(f._isMobile){f.siteToPreload=f.siteImgsUrls.length;for(e=0;e<f.siteImgsUrls.length;e++){this.siteImgsPreload[e]=new Object();this.siteImgsPreload[e].img=new Image();this.siteImgsPreload[e].img.name=e;this.siteImgsPreload[e].img.onload=function(){f.introAssetLoaded()};this.siteImgsPreload[e].img.src=f.siteImgsUrls[e]}}else{f.siteToPreload=f.siteImgsUrlsDesktop.length;for(e=0;e<f.siteImgsUrlsDesktop.length;e++){this.siteImgsPreload[e]=new Object();this.siteImgsPreload[e].img=new Image();this.siteImgsPreload[e].img.name=e;this.siteImgsPreload[e].img.onload=function(){f.introAssetLoaded()};this.siteImgsPreload[e].img.src=f.siteImgsUrlsDesktop[e]}}};c.prototype.introAssetLoaded=function(){var e=this;e.sitePreloadCounter++;if(e.sitePreloadCounter==e.siteToPreload){e.introSetup();d("body.productksp.smartphones.htc-one-m8.blinkfeed .loader").fadeOut(250)}};c.prototype.preloadTiles=function(){ref.preloadCounter=0;ref.toPreload=ref.newsTileData.res.items.length;for(var h=0;h<ref.newsTileData.res.items.length;h++){if(ref.newsTileData.res.items[h].meta.th!=null){var g=ref.newsTileData.res.items[h].meta.th.id.split("/");this.imgsPreload[h]=new Object();this.imgsPreload[h].img=new Image();this.imgsPreload[h].img.name=h;this.imgsPreload[h].img.onload=function(){ref.newsTileData.res.items[this.name].width=this.width;ref.newsTileData.res.items[this.name].height=this.height;ref.newsTileData.res.items[this.name].ratio=(this.height/this.width);if(ref.newsTileData.res.items[this.name].ratio>1){ref.newsTileData.res.items[this.name].adjustedHeight=1080/(ref.newsTileData.res.items[this.name].width)*ref.newsTileData.res.items[this.name].height}else{if(ref.newsTileData.res.items[this.name].ratio<1){ref.newsTileData.res.items[this.name].adjustedHeight=1080/(ref.newsTileData.res.items[this.name].width)*ref.newsTileData.res.items[this.name].height}else{ref.newsTileData.res.items[this.name].adjustedHeight=1080}}ref.tileLoaded()};this.imgsPreload[h].img.onerror=function(){ref.tileLoaded()};var j=false;var f="540";for(a=0;a<ref.newsTileData.res.items[h].meta.th.rs.length;a++){if(ref.newsTileData.res.items[h].meta.th.rs[a]=="540"){j=true}}if(!j){for(a=0;a<ref.newsTileData.res.items[h].meta.th.rs.length;a++){if(ref.newsTileData.res.items[h].meta.th.rs[a]=="360"){f="360";j=true}}}if(!j){f="230"}var e=ref.baseApiUrl+"assets/img-prism/thumbnail?id="+ref.newsTileData.res.items[h].meta.th.id+"&w="+f;this.imgsPreload[h].img.src=e}else{ref.toPreload-=1;ref.newsTileData.res.items[h].ratio=0}}};c.prototype.tileLoaded=function(){ref.preloadCounter++;if(ref.preloadCounter==ref.toPreload){ref.preloadCannedTiles()}};c.prototype.preloadCannedTiles=function(){ref.toPreload=0;ref.preloadCounter=0;var e=0;for(e=0;e<$rfM8bfCannedSocial.length;e++){if($rfM8bfCannedSocial[e].imgUrl){ref.toPreload++}}for(e=0;e<$rfM8bfCannedSocial.length;e++){if($rfM8bfCannedSocial[e].imgUrl){var f=ref.imgsPreload.length;ref.imgsPreload[f]=new Object();ref.imgsPreload[f].img=new Image();ref.imgsPreload[f].img.name=e;ref.imgsPreload[f].img.onload=function(){$rfM8bfCannedSocial[this.name].width=this.width;$rfM8bfCannedSocial[this.name].height=this.height;$rfM8bfCannedSocial[this.name].ratio=(this.height/this.width);if($rfM8bfCannedSocial[this.name].ratio>1){$rfM8bfCannedSocial[this.name].adjustedHeight=(535/($rfM8bfCannedSocial[this.name].width))*$rfM8bfCannedSocial[this.name].height}else{if($rfM8bfCannedSocial[this.name].ratio<1){$rfM8bfCannedSocial[this.name].adjustedHeight=(1080/($rfM8bfCannedSocial[this.name].width))*$rfM8bfCannedSocial[this.name].height}else{$rfM8bfCannedSocial[this.name].adjustedHeight=1080}}ref.cannedTileLoaded()};ref.imgsPreload[f].img.src=$rfM8bfCannedSocial[e].imgUrl}}};c.prototype.cannedTileLoaded=function(){ref.preloadCounter++;if(ref.preloadCounter==ref.toPreload){ref.combineData()}};c.prototype.loadSubPageContent=function(f){var e=this;d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .news .imgContainer").html(" ");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .news h4").html(" ");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .news .src .ico").css({background:"none"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .news .src h5").html(" ");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .news .src span").html(" ");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .news p").html(" ");d.ajax({url:e.baseApiUrl+"assets/geo-prism/s6/feedItem/item/"+f,dataType:"json",jsonp:true,data:{},success:this.subpageLoaded,error:this.subpageError})};c.prototype.subpageLoaded=function(e){ref.articleData=e;if(e.res.item.meta.img[0]){ref.preloadArticleImage(ref.baseApiUrl+"assets/img-prism/"+e.res.item.meta.img[0].id)}else{ref.buildSubpage(ref.articleData,0)}};c.prototype.subpageError=function(e){};c.prototype.preloadArticleImage=function(e){this.articleImg=new Image();this.articleImg.onload=function(){ref.buildSubpage(ref.articleData,(this.height/this.width))};this.articleImg.src=e};c.prototype.buildSubpage=function(i,g){var f=this;var h=i.res.item.meta;var j=new Date(h.ts);var e="<img src='"+f.baseApiUrl+"assets/img-prism/"+h.img[0].id+"'/>";if(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .news .imgContainer").hasClass("limit")){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .news .imgContainer").css({background:"none"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .news .imgContainer").removeClass("limit")}if(g>1){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .news .imgContainer").addClass("limit");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .news .imgContainer").css({background:"url("+f.baseApiUrl+"assets/img-prism/"+h.img[0].id+")","background-size":"cover","background-position":"50%"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .news .imgContainer").html(" ")}else{d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .news .imgContainer").html(e)}d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .news .imgContainer").html(e);d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .news h4").html(h.tl);e=f.baseApiUrl+"assets/img-prism/provider/icon?id="+h.pid;d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .news .src .ico").css({background:"url('"+e+"')","background-size":"88px 88px"});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .news .src h5").html(h.src);e=$rfM8bfDays[j.getDay()]+" "+$rfM8bfMonths[j.getMonth()]+" "+j.getDate()+", "+j.getFullYear();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .news .src span").html(e);d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .news p").html(i.res.item.body.replace(/<img[^>]+>/g,""));d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .news p img").remove();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .news p a").click(function(k){k.preventDefault()})};c.prototype.combineData=function(){var m=ref.newsTileData.res.items;$rfM8bfCannedSocial.shuffle();var g=0;for(g=0;g<m.length;g++){var h="540";var j=false;var l=0;if(m[g].meta.th!=null){for(l=0;l<m[g].meta.th.rs.length;l++){if(m[g].meta.th.rs[l]=="540"){j=true}}if(!j){for(l=0;l<m[g].meta.th.rs.length;l++){if(m[g].meta.th.rs[l]=="360"){h="360";j=true}}}if(!j){h="230"}var n=m[g].meta.th.id.split("/");n=ref.baseApiUrl+"assets/img-prism/"+n[0]+"/"+h+"/"+n[1];m[g].imgUrl=n;m[g].type="news"}else{m[g].type="newsTextOnly"}var f=ref.baseApiUrl+"assets/img-prism/provider/icon?id="+m[g].meta.pid;var e=m[g].meta.src;m[g].srcImg=f;m[g].src=e;if(m[g].ratio>1){ref.tallTiles.push(m[g])}else{ref.wideTiles.push(m[g])}m[g].copy=m[g].meta.tl}var k=ref.newsTileData.res.items;for(g=0;g<k.length;g++){ref.wideTiles.push(k[g])}for(g=0;g<$rfM8bfCannedSocial.length;g++){$rfM8bfCannedSocial[g].ratio=$rfM8bfCannedSocial[g].height/$rfM8bfCannedSocial[g].width;switch($rfM8bfCannedSocial[g].type){case"facebook":$rfM8bfCannedSocial[g].srcImg=ref.base+"blinkfeed/social/ico_fb.png";$rfM8bfCannedSocial[g].src="Facebook";break;case"instagram":$rfM8bfCannedSocial[g].srcImg=ref.base+"blinkfeed/social/ico_in.png";$rfM8bfCannedSocial[g].src="Instagram";break;case"googleplus":$rfM8bfCannedSocial[g].srcImg=ref.base+"blinkfeed/social/ico_gp.png";$rfM8bfCannedSocial[g].src="Google+";break;case"twitter":$rfM8bfCannedSocial[g].srcImg=ref.base+"blinkfeed/social/ico_tw.png";$rfM8bfCannedSocial[g].src="Twitter";break}ref.tallTiles.push($rfM8bfCannedSocial[g])}ref.tallTiles.shuffle();if(ref.tallTiles.length%2!=0){ref.tallTiles.pop()}ref.tilesPattern=[0,1,1,0,0,1,1,1,1,0,1,1,0,0,1,1,0,0,1,1,1,1,0,1,1,0,0,1,1,1,1,0,0];ref.buildTiles()};c.prototype.display=function(e){if(e!=undefined){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .subpage .topbar .header").hide();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .subpage .subsocial").hide();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .subpage .topbar").hide()}if(e=="facebook"||e=="googleplus"||e=="instagram"||e=="twitter"){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .subpage .topbar ."+e).show();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .subpage .subsocial."+e).fadeIn(250)}else{if(e!=undefined){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .subpage .topbar .highlights").show();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .subpage .subsocial.news").fadeIn(250);ref.loadSubPageContent(e)}}if(e!=undefined){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .subpage .topbar").fadeIn(250);d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .subpage").show()}};c.prototype.returnToFeed=function(){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .subpage").hide()};c.prototype.buildTiles=function(){var m=ref.newsTileData.res.items;ref.wideCntr=0;ref.tallCntr=0;for(var g=0;g<ref.tilesPattern.length&&g<ref.wideTiles.length+ref.tallTiles.length;g++){var h;var n="";if(ref.tilesPattern[g]===0){if(ref.wideCntr<ref.wideTiles.length){h=ref.wideTiles[ref.wideCntr];if(h.ratio){if(h.ratio==1){n="<div class='tile wide w"+ref.wideCntr+"' data-meta-id='"+h.meta.id+"' style='background:url("+h.imgUrl+"); background-size:cover; background-position:50%; height:"+h.adjustedHeight+"px;'>";n+="<div class='slate overlay'><p>"+h.copy+"</p>";n+="<div class='src' style='width:auto; height:40px; display:inline-block; background:url("+h.srcImg+") transparent no-repeat; background-size:auto 40px;'>"+h.src+"</div>";n+="</div>"}else{n="<div class='tile wide w"+ref.wideCntr+"' data-meta-id='"+h.meta.id+"' >";n+="<div class='imgcontainer'><img src='"+h.imgUrl+"' style='width:1080px; height:"+h.adjustedHeight+"px; display:block'/></div>";n+="<div class='slate'><p>"+h.copy+"</p>";n+="<div class='src' style='width:auto; height:40px; display:inline-block; background:url("+h.srcImg+") transparent no-repeat; background-size:auto 40px;'>"+h.src+"</div>";n+="</div>"}}else{n="<div class='tile wide w"+ref.wideCntr+" noimg' data-meta-id='"+h.meta.id+"' >";n+="<div class='slate'><p>"+h.copy+"</p>";n+="<div class='src' style='width:auto; height:40px; display:inline-block; background:url("+h.srcImg+") transparent no-repeat; background-size:auto 40px;'>"+h.src+"</div>";n+="</div>"}ref.wideCntr++}}else{if(ref.tallCntr<ref.tallTiles.length){h=ref.tallTiles[ref.tallCntr];var k="";if((ref.tallCntr+1)%2==0){k=" right"}var e=h.type;var l="";if(e=="news"){e=h.meta.id}else{if(h.usrid.length>0){l=h.usrid+" | "+ref.getNewTime()}else{l=ref.getNewTime()}}if(h.ratio){if(h.ratio>1){var f=h.adjustedHeight;if(f>660){f=660}if(h.adjustedHeight<400){n="<div class='tile full tall"+k+" t"+ref.tallCntr+" soc' data-meta-id='"+e+"'  data-id='"+ref.tallCntr+"' style='background:url("+h.imgUrl+"); background-size:cover; background-position:50%; height:"+400+"px;'>"}else{n="<div class='tile full tall"+k+" t"+ref.tallCntr+" soc' data-meta-id='"+e+"'  data-id='"+ref.tallCntr+"' style='background:url("+h.imgUrl+"); background-size:cover; background-position:50%; height:"+f+"px;'>"}n+="<div class='slate overlay'>";if(h.type=="news"){n+="<p>"+h.copy+"</p>";n+="<div class='src news' style='width:auto; height:40px; display:inline-block; background:url("+h.srcImg+") transparent no-repeat; background-size:auto 40px;'>"+h.src+"</div>"}else{n+="<div class='info'>";n+="<div class='usr' style='margin:30px 30px 0px 30px; width:90px; height:90px; display:block; float:left; background:url("+h.avatarUrl+"); background-size:cover; background-position:50%;'></div>";n+="<div class='src' style='margin-left:0px; width:auto; height:40px; display:inline-block; background:url("+h.srcImg+") transparent no-repeat; background-size:auto 40px;'>"+h.usr+"<br/><span>"+l+"</span></div>"}n+="</div>";if(h.type!="news"){n+="<p>"+h.copy.replace(/(#[a-z0-9-!_]*)/ig,"<span>$1</span>")+"</p>"}n+="</div>"}else{n="<div class='tile tall"+k+" t"+ref.tallCntr+" soc' data-meta-id='"+h.type+"'  data-id='"+ref.tallCntr+"'>";n+="<img src='"+h.imgUrl+"' style='width:535px; height:auto; display:block'/>";n+="<div class='slate'>";n+="<div class='info'>";n+="<div class='usr' style='margin:30px 30px 0px 30px; width:90px; height:90px; display:block; float:left; background:url("+h.avatarUrl+"); background-size:cover; background-position:50%;'></div>";n+="<div class='src' style='margin-left:0px; width:auto; height:40px; display:inline-block; background:url("+h.srcImg+") transparent no-repeat; background-size:auto 40px;'>"+h.usr+"<br/><span>"+l+"</span></div>";n+="</div>";n+="<p>"+h.copy.replace(/(#[a-z0-9-!_]*)/ig,"<span>$1</span>")+"</p>";n+="</div>"}}else{if(h.type=="twitter"){n="<div class='tile tall"+k+" t"+ref.tallCntr+" twitter' data-meta-id='"+h.type+"'  data-id='"+ref.tallCntr+"'>";n+="<div class='slate'>";n+="<div class='info'>";n+="<div class='usr' style='margin:30px 30px 0px 30px; width:90px; height:90px; display:block; float:left; background:url("+h.avatarUrl+"); background-size:cover; background-position:50%;'></div>";n+="<div class='src' style='margin-left:0px; width:auto; height:40px; display:inline-block; background:url("+h.srcImg+") transparent no-repeat; background-size:auto 40px;'>"+h.usr+"<br/><span>"+l+"</span></div>";n+="</div>";n+="<p>"+h.copy.replace(/(#[a-z0-9-!_]*)/ig,"<span>$1</span>")+"</p>";n+="</div>"}else{n="<div class='tile tall"+k+" t"+ref.tallCntr+" soc' data-meta-id='"+h.type+"'  data-id='"+ref.tallCntr+"'>";n+="<div class='slate'><p>"+h.copy.replace(/(#[a-z0-9-!_]*)/ig,"<span>$1</span>")+"</p>";n+="<div class='src' style='width:auto; height:40px; display:inline-block; background:url("+h.srcImg+") transparent no-repeat; background-size:auto 40px;'>"+h.src+"</div>";n+="</div>"}}ref.tallCntr++}}d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .container").html(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .container").html()+n)}var j=0;d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .container .tile.right").each(function(){var i=d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .container .t"+(parseInt(d(this).attr("data-id"))-1));var q=d(this);if(i.hasClass("full")||q.hasClass("full")){if(i.height()>q.height()){var o=d("img",q).height();var p=(i.height());q.css({height:i.height()+"px"});if(!q.hasClass("full")){d(".slate",q).css({height:(p-o)+"px"})}}else{if(i.height()<=q.height()){var o=d("img",i).height();var p=q.height();i.css({height:q.height()+"px"});if(!i.hasClass("full")){d(".slate",i).css({height:(p-o)+"px"})}}}}else{if(i.height()>q.height()){var o=d("img",q).height();var p=(i.height());q.css({height:p+"px"});d(".slate",q).css({height:(p-o)+"px"})}else{if(i.height()<q.height()){var o=d("img",i).height();var p=q.height();i.css({height:p+"px"});d(".slate",i).css({height:(p-o)+"px"})}}}j++});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .container .tile").each(function(){if(Modernizr&&Modernizr.touch){d(this).unbind("touchend");d(this).bind("touchend",function(o){o.preventDefault();var i=Math.abs(ref.startY-ref.curY);if(i<=40){ref.tileClick=true;ref.speed=0;ref.display(d(this).attr("data-meta-id"));d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .container").animate({top:ref.bfY+"px"},250)}})}else{d(this).unbind("mouseup");d(this).on("mouseup",function(o){o.preventDefault();var i=Math.abs(ref.startY-ref.curY);if(i<=40){ref.tileClick=true;ref.speed=0;ref.display(d(this).attr("data-meta-id"));d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .container").animate({top:ref.bfY+"px"},250)}})}});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .subloader").hide();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .container").disableSelection();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .container div").disableSelection();ref.initializeEmulator()};c.prototype.getNewTime=function(){var e=this;e.socialTime+=Math.floor(Math.random()*4);return(e.socialTime+"m")};c.prototype.positionTiles=function(){ref.inverseScale=1/ref.zoomScale;ref.snapPoints=[];var e=((d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .container").height()-1845)*-1);d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .container .tile").each(function(){if(!d(this).hasClass("right")){var f=0-(((parseInt(d(this).offset().top))-parseInt(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view").offset().top))*ref.inverseScale);if(f>e){if(ref.snapPoints[ref.snapPoints.length-1]!=f){ref.snapPoints.push(f)}}}});ref.snapPoints.push(0-(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .container").height()-1845))};c.prototype.initializeEmulator=function(){if(Modernizr&&Modernizr.touch){ref.initializeEmulatorMobile()}else{ref.initializeEmulatorDesktop()}if(!this._isMobile){}ref.positionTiles()};c.prototype.initializeEmulatorDesktop=function(){var e=this;e.inverseScale=1/e.zoomScale;d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view").disableSelection();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view").unbind("mousedown");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view").mousedown(function(f){f.preventDefault();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .container").stop();e.inverseScale=1/e.zoomScale;e.bfY=parseInt(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .container").css("top"));e.startY=f.pageY*e.inverseScale;e.lastY=e.startY;e.curY=e.startY;d(document).mousemove(function(g){g.preventDefault();e.lastY=e.curY;e.curY=g.pageY*e.inverseScale;e.speed=e.curY-e.lastY;var h=e.bfY+(e.curY-e.startY);if(h>0){h=0}if(h<e.snapPoints[e.snapPoints.length-1]){h=e.snapPoints[e.snapPoints.length-1]}d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .container").css({top:h+"px"})});d(document).mouseup(function(h){h.preventDefault();var g=Math.abs(e.startY-e.curY);if(g>40){e.release()}d(document).unbind("mousemove");d(document).unbind("mouseup")})});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .subpage .topbar").unbind("mouseup");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .subpage .topbar").bind("mouseup",function(f){f.preventDefault();e.returnToFeed()})};c.prototype.initializeEmulatorMobile=function(){var e=this;e.inverseScale=1/e.zoomScale;d(".slide-wrapper").unbind("touchmove");d(".slide-wrapper").unbind("touchstart");d(".slide-wrapper").unbind("touchend");d(document).bind("touchend",function(g){g.preventDefault();var f=Math.abs(e.startY-e.curY);if(f>40){e.release()}d(document).trigger("touchBypassEnd")});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view").unbind("touchstart");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view").bind("touchstart",function(f){f.preventDefault;d(document).trigger("touchBypass");e.inverseScale=1/e.zoomScale;e.bfY=parseInt(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .container").css("top"));var g=f.originalEvent.touches[0]||f.originalEvent.changedTouches[0];e.startY=g.pageY*e.inverseScale;e.lastY=e.startY;e.curY=e.startY});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .container").unbind("touchstart");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .container").bind("touchstart",function(f){f.preventDefault();d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .container").stop();e.inverseScale=1/e.zoomScale;e.bfY=parseInt(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .container").css("top"));var g=f.originalEvent.touches[0]||f.originalEvent.changedTouches[0];e.startY=g.pageY*e.inverseScale;e.lastY=e.startY;e.curY=e.startY});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view").unbind("touchmove");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view").bind("touchmove",function(f){f.preventDefault();var h=f.originalEvent.touches[0]||f.originalEvent.changedTouches[0];if(!e.dragging){e.inverseScale=1/e.zoomScale}e.lastY=e.curY;e.curY=h.pageY*e.inverseScale;e.speed=e.curY-e.lastY;var g=e.bfY+(e.curY-e.startY);if(g>0){g=0}if(g<e.snapPoints[e.snapPoints.length-1]){g=e.snapPoints[e.snapPoints.length-1]}d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .container").css({top:g+"px"})});d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .subpage .topbar").unbind("touchstart");d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .subpage .topbar").bind("touchstart",function(f){f.preventDefault();e.returnToFeed()})};c.prototype.release=function(){if(ref.bfY!=parseInt(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .container").css("top"))){if(parseInt(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .container").css("top"))>0){d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .container").animate({top:"0px"},250)}else{var f=(d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .container").offset().top-d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view").offset().top)*ref.inverseScale;f=f+ref.speed*10;var h=0;var k=0;var j=0;for(var e=0;e<ref.snapPoints.length;e++){if(f<ref.snapPoints[e]){h=e}}if(ref.speed<=0){h+=1;k=ref.snapPoints[h+1]-ref.snapPoints[h];j=f-ref.snapPoints[h];if(j<k*0.5){h+=1}}else{k=ref.snapPoints[h-1]-ref.snapPoints[h];j=f-ref.snapPoints[h];if(j>k*0.5){h-=1}}if(h<0){h=0}if(h>ref.snapPoints.length-1){h=ref.snapPoints.length-1;ref.speed=0}var g=Math.abs(ref.speed)*5;if(g<200){g=200}if(ref.snapPoints[h]===0){g=250}var f=d("body.productksp.smartphones.htc-one-m8.blinkfeed .main .s3 .device-container .device .view .container").animate({top:ref.snapPoints[h]+"px"},g,"easeOutCubic")}}};c.prototype.socialShareTrigger=function(i){var g=this;var f=(4*(Number(g.questionGroup)-1))+Number(g.quizChoices[2]);if(g.genericFlag){f=13}var e=f;var h=i;if((typeof(e)!=="undefined")&&(typeof(e)!=="undefined")){d("body").trigger("m8bfShareEvent",[h,e])}};return c})(jQuery,M8SocialShare);
var M8BSNav=(function(){var b;var v;var f=10;var o=(360/f);var m=0;var s=1;var r=Modernizr.csstransforms;var k=false;var q=false;var t;function n(y,x,w){k=y;f=parseInt(w);if((!k)&&(!Modernizr.touch)&&r&&Modernizr.cssanimations){q=true}h();if(q){l()}if(k){u($("#m8bsVideoNavItem"+x))}b.on("click",g);if(k){$("#m8bsVideoNav").on("click",function(z){if(!$(z.target).hasClass("m8bsVideoNavItem")){$("body").trigger("m8bsMobileVideoPlay",[s]);z.preventDefault()}})}$("#m8bsVideoNavReplay").on("click",function(z){z.preventDefault();$("body").trigger("m8bsVideoReplay")})}function g(w){w.preventDefault();var x=$(w.target);var y=x.attr("data-id");if(k){if(y!==s.toString()){u(x)}}else{p(y)}}function p(w){$("body").trigger("m8bsVideoPlay",[w]);s=w;c()}function u(A){var y=parseInt(A.attr("data-id"));var x=0;var w=(s-y);if(Math.abs(w)>=(f*0.5)){if(w<0){w=f-Math.abs(w)}else{if(w>0){w=0-(f-w)}}}x=w*o;m=(m+x);var z="rotate("+m+"deg)";var B=(m>180)?(((0-m)+360)-360):0-m;$("#m8bsVideoNav").css({"-webkit-transform":z,"-moz-transform":z,transform:z});s=y;e(s);$("#m8bsVideoNav").one("webkitTransitionEnd transitionend",d);$("body").trigger("m8bsMobileVideoSelect",[s]);b.each(function(C,F){var E=$(F);var D="translateY("+E.attr("data-y")+"px) translateX("+E.attr("data-x")+"px) rotate("+B+"deg)";E.css({"-webkit-transform":D,"-moz-transform":D,transform:D})})}function d(w){if((typeof(w)!=="undefined")&&(typeof(w)!=="object")){s=w}if(!k){$("#m8bsVideoNavState span").removeClass().addClass("m8bsVideoNavState"+s)}$("#m8bsVideoNavItem"+s).addClass("m8bsVideoNavItemActive")}function e(x){b.removeClass("m8bsVideoNavItemActive");if(k){var C=$("#m8bsVideoNavState");var y=$("#m8bsVideoNavStateMobile1");var w=$("#m8bsVideoNavStateMobile2");var A=C.attr("data-active-id");var B={"-webkit-opacity":"1",opacity:"1"};var z={"-webkit-opacity":"0",opacity:"0"};if(A==="1"){C.attr("data-active-id","2");w.removeClass().addClass("m8bsVideoNavState"+x).css(B)}else{C.attr("data-active-id","1");y.removeClass().addClass("m8bsVideoNavState"+x);w.css(z)}}}function h(){var K=(k)?230:164;var F=(k)?230:164;var w=(K/2);var z=(K*0.5);var J=(F*0.5);var H=Math.PI*2/f;var C=Math.PI*-1.5;v=$("#m8bsVideoNav");for(var D=0;D<f;D++){var E=D+1;var I=z+w*Math.cos(C);var G=J+w*Math.sin(C);var B=$("#m8bsVideoLabel"+E).text();var L=$('<a href="#" id="m8bsVideoNavItem'+E+'" class="m8bsVideoNavItem" title="'+B+'" data-id="'+E+'" data-x="'+I+'" data-y="'+G+'">'+B+"</a>");if((!k)&&((q)||(!r))){L.css({top:G+"px",left:I+"px"})}else{var A="translateY("+G+"px) translateX("+I+"px)";L.css({"-webkit-transform":A,"-moz-transform":A,transform:A})}v.append(L);C+=H}b=$(".m8bsVideoNavItem")}function l(){$(".m8bsVideoNavContainer").append('<div id="m8bsVideoNavBoundary" class="m8bsVideoNavBoundary"></div>');$("#m8bsVideoNav, #m8bsVideoNavBoundary, #m8bsVideoNavReplay").on("mouseenter",c).on("mouseleave",i)}function a(){if(q){v.addClass("m8bsAmbientNavRotation")}}function j(){if(q){clearTimeout(t);v.removeClass("m8bsAmbientNavRotation m8bsAmbientNavRotationPause").width();b.each(function(w,x){$(x).removeClass("m8bsAmbientNavRotationPause").width()})}}function i(){if(q){t=setTimeout(function(){v.removeClass("m8bsAmbientNavRotationPause");b.removeClass("m8bsAmbientNavRotationPause")},100)}}function c(){if(q){clearTimeout(t);v.addClass("m8bsAmbientNavRotationPause");b.addClass("m8bsAmbientNavRotationPause")}}return{ambientRotationStart:a,ambientRotationStop:j,init:n,navTo:p,navToMobile:u,stateUpdate:d}})();var M8SocialShare=(function(){var d;function e(){d=window.location.href;d=d.replace(/\#$/,"");d=d.replace(/\/$/,"");d=d.replace(/\/[\d]+$/,"");$("body").on("m8bsShareEvent",function(i,h,g){switch(h){case"facebook":f(g);break;case"twitter":b(g);break;case"googleplus":c(g);break}})}function f(i){var h=d+"/000"+i;var g="https://www.facebook.com/sharer.php?u="+encodeURIComponent(h);a(g)}function b(i){var h=$("#m8bsTitle"+i).text();var g="http://twitter.com/intent/tweet?text="+encodeURIComponent(h);a(g)}function c(i){var h=d+"/000"+i;var g="https://plus.google.com/share?url="+encodeURIComponent(h);a(g)}function a(g){var h="height=400,width=640,toolbar=yes,menubar=yes,scrollbars=yes,resizable=yes,location=yes,directories=yes,status=yes";window.open(g,"socialShare",h)}return{init:e}})();var M8Boomsound=(function(c,u,k){var b={};var f="1";var i=1;var j=false;var r=10;var o=false;var n=false;var l;var g=false;var m;var e="1";var h;var d="/managed-assets/shared/desktop/smartphones/htc-one-m8/ksp/img/boomsound/";var t=false;var s=false;var q=false;var p=false;var a=function(){M();function M(){J=J();var S=navigator.userAgent;var R=S.match(/Android\s([0-9\.]*)/);t=R?R[1]:false;s=(parseFloat(t)>=3.1);q=S.match(/(iPhone)/);p=S.match(/(iPad)/);c("body").on("m8bsVideoPlay",function(U,T){if(typeof(T)==="undefined"){T=f}H(T)});c("body").on("m8bsVideoReplay",function(T){H(f)});c("body").on("m8bsMobileVideoSelect",function(U,T){f=T;D()});c("body").on("m8bsMobileVideoPlay",function(U,T){if(J){Q()}});c(".m8bsVideoPlayerCapture").on("click",function(T){T.preventDefault()});c("#m8bsMenuButton").on("click",N);c("#m8bsMuteButton").on("click",A);c("#m8bsCloseButton").on("click",L);c(".m8SocialShareButton").on("click",y);c("#m8bsShareButton").on("click",O);c("#m8bsMobileShareModal").on("click",function(T){if(c(T.target).attr("id")==="m8bsShareCloseButton"){T.preventDefault();v()}});if(!J){C()}k.init();u.init(J,f,r);if(J){D()}else{B();P(f);u.stateUpdate(f)}}function P(T){f=T;var ab="978";var Z="550";var Y=c("#m8bsVideoPlayer");var R="/managed-assets/shared/desktop/smartphones/htc-one-m8/ksp/video/boomsound";var S=' style="display: block; margin: 0 auto; padding: 0;"';S+=(J)?' width: 100%; height: 100%;"':"";if(typeof(b.player)==="object"){b.player.pause();delete b.player}if((!o)&&(!J)){T=T+"-1"}var U="";var aa=(o||J)?true:false;var X='<video width="'+ab+'" height="'+Z+'" id="m8bsMEPlayer" '+S+U+' autoplaypreload="none">';X+='<source src="'+R+"/video"+T+'.mp4" type="video/mp4" />';X+='<source src="'+R+"/video"+T+'.webm" type="video/webm" />';X+='<source src="'+R+"/video"+T+'.ogv" type="video/ogv" />';X+='<object width="'+ab+'" height="'+Z+'" type="application/x-shockwave-flash" data="flashmediaelement.swf">';X+='<param name="movie" value="flashmediaelement.swf" />';X+='<param name="wmode" value="opaque" />';X+='<param name="flashvars" value="controls=false&amp;file='+T+'.mp4" />';X+="</object></video>";Y.empty().prepend(X);var W={enableKeyboard:false,enablePluginDebug:false,features:[],autoRewind:false,pauseOtherPlayers:true,plugins:["flash"],startVolume:i,};if(!J){W.videoWidth=ab;W.videoHeight=Z}var V=function(ac,ad){b.player=ac;b.player.setVolume(i);if(aa){try{ac.play()}catch(ae){}}I();ac.addEventListener("playing",function(af){if(!o){w()}else{m=setInterval(K,200)}},false);ac.addEventListener("timeupdate",function(af){if((!J)&&(!n)){if(b.player.currentTime>=2){n=true;c("#m8bsVideoPlayerScreen").addClass("m8bsVideoPlayerScreenActive")}}},false);ac.addEventListener("pause",function(af){if(J){z()}},false);ac.addEventListener("ended",function(af){if(J){z()}else{G()}},false)};W.success=V;c("#m8bsMEPlayer").mediaelementplayer(W);if(J){D()}}function Q(){var R=c("#m8bsVideoPlayerContainer");R.show();if(q){}var S=c("#m8bsVideoPlayerScreenLoader").html();c("#m8bsCloseButton").after('<div id="m8bsMobileVideoLoader" class="m8bsMobileVideoLoader">'+S+"</div>");P(f);c(window).on("resize",I);I();l=setInterval(I,500)}function z(){c("#m8bsVideoPlayerContainer").hide();c("#m8bsMobileVideoLoader").remove();c("#m8bsVideoPlayer").css({"margin-top":"0px",width:"100%",height:"100%"});c(window).off("resize",I);clearInterval(l)}function I(){if(J){c("#m8bsVideoPlayer, .mejs-mediaelement video").css({width:"100%",height:"100%"})}}function D(){c("#m8SocialShareButtonFacebook, #m8SocialShareButtonTwitter, #m8SocialShareButtonGooglePlus").attr("data-id",f);c(".m8bsNavCopy").removeClass("m8bsNavCopyActive");c("#m8bsVideoCopy"+f).addClass("m8bsNavCopyActive");c("#m8bsVideoLabels h5").removeClass("m8bsVideoLabelActive");c("#m8bsVideoLabel"+f).addClass("m8bsVideoLabelActive");c("#m8bsNavCopyImage").empty().prepend('<img src="/managed-assets/shared/desktop/smartphones/htc-one-m8/ksp/img/boomsound/social-share-mobile-'+f+'.jpg" alt="">');if(!J){c(".m8bsNavCopyActive, .m8bsShare").css({"-webkit-opacity":"0","-moz-opacity":"0",opacity:"0","margin-top":"10px"});u.stateUpdate(f)}}function G(){c("#m8bsVideoPlayerScreenLoader").hide();n=true;D();var R={opacity:1,"margin-top":"0px"};c("#m8bsVideoPlayerScreen").addClass("m8bsVideoPlayerScreenActive").fadeIn(300,function(){u.ambientRotationStart();c("#m8bsEndFrame").fadeIn(400,function(){c(".m8bsNavCopyActive").animate(R,300);c(".m8bsShare").delay(100).animate(R,400)})})}function B(){var T=c("#m8bsIntroContent").clone();var R=c(".modal");var S=R.find(".modal-contents");S.html(T);R.css({"margin-top":((550-S.height())*0.5)+"px"});S.addClass("modal-contents-active");c(".m8bsIntroCTA").on("click",E);F()}function F(){var R=["bg-nav-icon-puppy.png","bg-nav-icon-hairdryer.png","bg-nav-icon-moped.png","bg-nav-icon-chicken.png","bg-nav-icon-dishes.png","bg-nav-icon-espresso.png","bg-nav-icon-firecracker.png","bg-nav-icon-tambourine.png","bg-nav-icon-balloon.png","bg-nav-icon-chips.png","bg-nav-selected.png","bg-nav.png"];for(var T=0;T<R.length;T++){var S=new Image();S.src=d+R[T]}}function N(R){R.preventDefault();b.player.pause();G()}function A(S){S.preventDefault();var R=c(this).find("span");if(i===1){i=0;R.addClass("m8bsMuteButtonMuted")}else{i=1;R.removeClass("m8bsMuteButtonMuted")}b.player.setVolume(i)}function L(R){R.preventDefault();b.player.pause();z()}function y(U){U.preventDefault();var R=c(U.target);var S=R.attr("data-id");var T=R.attr("data-type");if((typeof(S)!=="undefined")&&(typeof(S)!=="undefined")){c("body").trigger("m8bsShareEvent",[T,S])}}function O(U){U.preventDefault();var T=c("#m8bsMobileShareModal");var S=T.find("#m8bsMobileShareModalContents");var R=c("#m8bsNavCopyWrapper").clone(true);S.prepend(R);T.show()}function v(){c("#m8bsMobileShareModal").hide();c("#m8bsMobileShareModalContents").empty()}function K(){if(g){clearInterval(m);c("#m8bsVideoPlayerScreen").fadeOut(200);c("#m8bsVideoPlayerScreenLoader").fadeOut(200)}}function H(R){if(J){f=R;u.navTo(R)}else{clearInterval(m);g=false;P(R);c("#m8bsEndFrame").fadeOut(200,function(){c("#m8bsVideoPlayerScreenLoader").fadeIn(200,function(){u.ambientRotationStop();g=true})})}}function J(){if(c(".mobile-detector").css("width")=="1px"){return true}else{return false}}function x(){if(!J){var S=c("#m8bs");var U=80;var R=c("#m8-boomsound").height();var T=S.height()+U;if(R>T){var V=Math.floor((R-T)*0.5);S.css("margin-top",V+"px")}else{S.css("margin-top","0px")}}}function E(R){R.preventDefault();try{b.player.play()}catch(R){}}function w(){o=true;var S=c("#m8bsVideoPlayerScreen");var R=c(".modal-overlay");var T=c(".modal-contents");if(!J){c("#m8bsMenuButton, #m8bsMuteButton").addClass("m8bsButtonEnabled");if(Modernizr.csstransitions){R.addClass("modal-overlay-hidden");T.one("webkitTransitionEnd transitionend",function(){S.hide();T.hide();R.hide()});T.removeClass("modal-contents-active")}else{S.hide();T.hide();R.hide()}}}function C(){var R="1";setInterval(function(){if(o){var T=c(".slide-nav li.active").attr("data-slide");if(e!==T){var S=e;e=T;if((e!==R)&&(S===R)){b.player.pause();G()}}}},1000)}};a.prototype={constructor:a};return a})(jQuery,M8BSNav,M8SocialShare);
var M8ProductDetail=(function(b){var a=function(){document.title=jQuery("<p>"+document.title+"</p>").text();b("meta[name=description]").attr("content",jQuery("<p>"+b('meta[name="description"]').attr("content")+"</p>").text());c();b(".browser-overlay").unbind("click").click(function(){b(".browser-overlay, .browser-modal").fadeOut(300)});if(!b("html").hasClass("csstransforms3d")){b(".slide-nav > ul").removeClass("spaced");b("#design-three .filmstrip").hide()}else{b(".browser-overlay, .browser-modal").remove()}if(!b("html").hasClass("csstransforms3d")){b("video").remove();b("#design #design-one .exploded-view").addClass("expanded")}var F=b(".slide-nav > ul > li").length;b("video.hide").remove();b("a[name=top]").remove();function h(){var J=b(".mobile-detector").css("width");if(J=="1px"){return true}else{return false}}if(h()==false&&b("html").hasClass("csstransforms3d")){function m(){if(window.location.hash){var M=window.location.hash;M=M.replace("#","");var K=M.replace("go-to-","");if(M=="specs"){b(".hash-detector").remove();b(".intro-overlay").hide();b(".specs-container, .specs-overlay").show();b(".extra-info .specs").addClass("reverse");if(h()==true){b(".specs-spacer").show()}}else{if(b(".more-slide[data-id="+M+"]").length>0){b(".hash-detector").remove();b(".intro-overlay").hide();b(".more-container, .more-slide[data-id="+M+"]").show();if(h()==true){b(".slide-wrapper").hide()}}else{if(b(".slide-nav li[data-hash="+K+"]").length>0){b(".hash-detector").remove();b(".intro-overlay").hide();if(h()==false){var O=b(".slide-nav li[data-hash="+K+"]").index();var N=O+1;var P=b(window).height();var J=P*O;b(".slide-wrapper").animate({marginTop:"-"+J},1);b(".slide-nav ul li").removeClass("active");b(".slide-nav ul li[data-hash="+K+"]").addClass("active");v(N)}else{var L=b("section#"+K).offset().top;setTimeout(function(){b("html, body").scrollTop(L)},500)}}}}}}m();if(b("html").hasClass("touch")){b("video, .sound-toggle").remove()}if(b("#video-hero").length>0){var p=b("#video-hero source").attr("src");if(p.length>5){var d=1}else{var d=0}}else{var d=0}if((b(".hash-detector").length==0)||(b("html").hasClass("touch"))||(d==0)||(b("body").hasClass("template_e8"))){b(".intro-overlay").hide();b("section#htc-one .content, .slide-nav, .header-button, .extra-info, .support-icon").show();b("section#htc-one video").remove();b("section#htc-one").css("background-size","auto auto")}else{setTimeout(function(){if(b(".intro-overlay").is(":visible")){b(".intro-overlay, video#video-hero").remove();b("section#htc-one .content, .slide-nav, .header-button, .extra-info, .support-icon").show()}},5000);b("video#video-hero").bind("canplaythrough canplay",function(){b(".intro-overlay").fadeOut(300,function(){b("video#video-hero").get(0).play();b(".slide-nav, .extra-info").fadeIn(1000)})});b("video#video-hero").bind("ended",function(){b("section#htc-one .content, .slide-nav, .header-button, .extra-info, .support-icon").fadeIn(1000)})}function y(){b(".footer-button").hide();if(b(".slide-nav ul").find("[data-hash='buy']").hasClass("active")){b(".slide-nav").addClass("uplift",HtcChrome.duration);b(".extra-info").addClass("uplift",HtcChrome.duration);HtcChrome.showFooter()}else{b(".slide-nav").removeClass("uplift",HtcChrome.duration);b(".extra-info").removeClass("uplift",HtcChrome.duration);HtcChrome.hideFooter()}HtcChrome.hideHeader()}b(window).load(function(){y()});y();function e(){if(b(".extra-info .more").length==0){b(".extra-info").addClass("nomore");b(".slide-nav").addClass("nomore");b(".specs").css({bottom:"auto",top:"auto"})}}b(window).resize(function(){e()});b(window).load(function(){e()});e();function D(){var J=b(window).height();if(J>=800){b(".scroll-prompt").addClass("show")}else{b(".scroll-prompt").removeClass("show")}}b(window).resize(function(){D()});D();function g(){var M=b(window).height();b("section.slide").css("height",M);var L=M*F;b(".slide-wrapper").css("height",L);var K=b(".slide-nav ul li.active").attr("data-slide");var J="-"+(M*(K-1))+"px";b(".slide-wrapper").css("margin-top",J);if(M<=600){b(".slide .content").addClass("anchored")}else{b(".slide .content").removeClass("anchored")}}b(window).resize(function(){g()});g();function x(){var J=b("#design-three .filmstrip li:first-child").width();var K=Math.floor(J*0.55);b("#design-three .filmstrip li").css("height",K)}b(window).resize(function(){x()});function A(J){if(J=="both"||J=="specs"){b(".specs-overlay, .specs-container").fadeOut(300);b(".specs").removeClass("reverse")}if(J=="both"||J=="more"){b(".more-container").fadeOut(300,function(){b(".more-slide").hide()})}if(J=="specs"){b(".specs").removeClass("reverse")}}function r(){b("#design .exploded-view").removeClass("expanded");b("#design .hotspot").addClass("hide")}function I(){if(!b("#design .exploded-view").hasClass("expanded")&&b("#nav-design").hasClass("active")&&!b("#design-one").hasClass("collapse")){b("#design .exploded-view").addClass("expanded animating");setTimeout(function(){b("#design .hotspot").removeClass("hide");b("#design .exploded-view").removeClass("animating")},500)}else{r()}}function E(J){if(b("body").hasClass("template_m8_mini")){if(J!=4){b(".sound-toggle").fadeOut(500)}else{b(".sound-toggle").fadeIn(500)}}else{if(J!=3&&J!=4){b(".sound-toggle").fadeOut(500)}else{b(".sound-toggle").fadeIn(500)}}}function v(J){I();if(b("video").length>0){b("video").each(function(){b(this).get(0).pause()})}if(b("video[data-section="+J+"]").length>0){b("video[data-section="+J+"]").each(function(){b(this).get(0).play()})}b("video#video-hero").hide();b("section#htc-one .content, .slide-nav, .header-button, .extra-info, .support-icon").show()}function o(){if(b(".slide-wrapper").is(":animated")){return true}else{return false}}function k(){if(b(".model-container").is(":visible")){return true}else{if(b("#design .exploded-view").hasClass("animating")){return true}else{if(b(".chrome-overlay").is(":visible")){return true}else{if(!b(".slide-nav").is(":visible")){return true}else{return false}}}}}function n(){return false}function u(L,K){if(o()==false&&k()==false){E(L);if(K==undefined){K=1100}var M=b(window).height();var J=M*(L-1);b(".slide-wrapper").animate({marginTop:"-"+J},K,"easeOutCubic",function(){v(L);y()})}}function w(L){if(o()==false&&k()==false){var K=b(".slide-nav ul li.active").attr("data-slide");if(L=="up"){if(K<=F&&K>1){var J=b(".slide-nav ul li.active").removeClass("active").prev().addClass("active").attr("data-slide");u(J)}}else{if(K<F){var J=b(".slide-nav ul li.active").removeClass("active").next().addClass("active").attr("data-slide");u(J)}}}}b(".scroll-prompt").unbind("click").click(function(){w("down")});b(".slide-nav ul li").unbind("click").click(function(){if(o()==false&&k()==false){if(!b(this).hasClass("active")){b(".slide-nav ul li").removeClass("active");b(this).addClass("active");var J=b(this).attr("data-slide");u(J)}}});b(".slide-nav").unbind("click").click(function(){A("both")});b("body").bind("mousewheel",function(J){if(o()==false&&k()==false&&n()==false){J.preventDefault();if(J.originalEvent.wheelDelta>0){w("up")}else{w("down")}}});b("body").bind("DOMMouseScroll",function(J){if(o()==false&&k()==false&&n()==false){J.preventDefault();if(J.originalEvent.detail<0){w("up")}else{w("down")}}});b(document).keydown(function(J){if(!b("textarea, input").is(":focus")&&n()==false){if(J.keyCode==32||J.keyCode==40||J.keyCode==34){J.preventDefault();w("down")}if(J.keyCode==38||J.keyCode==33){J.preventDefault();w("up")}}});b(".jump-to-section").unbind("click").click(function(L){L.preventDefault();if(o()==false){var K=b(this).attr("data-section");var J=b(".slide-nav li[data-hash="+K+"]").attr("data-slide");b(".slide-nav li").removeClass("active");b(".slide-nav li[data-hash="+K+"]").addClass("active");u(J)}});if(b("html").hasClass("touch")){b(".slide-wrapper").touchwipe({wipeDown:function(){w("down")},wipeUp:function(){w("up")}})}function i(){var J=b(".panel").is(":animated");if(J==false){return false}else{return true}}function H(){var K=b(window).height();var J=K-105;b(".specs-container .columns").css("max-height",J)}b(window).resize(function(){H()});b(window).load(function(){H()});H();b(".toggle-specs").unbind("click").click(function(){b(this).toggleClass("expanded");if(!b(".columns .hide").is(":visible")){b(".columns .hide").slideDown(300)}else{b(".columns .hide").slideUp(300)}});b(".sound-toggle").unbind("click").click(function(){if(b(this).hasClass("on")){b("video").each(function(){b(this).prop("muted",true)})}else{b("video").each(function(){b(this).prop("muted",false)})}b(this).toggleClass("on")});b("#design-three .image-area img.mobile").remove()}if(h()==false){b(".panel .overlay").unbind("click").click(function(){var J="#"+b(this).parent().parent().attr("id");var K=b(this).parent().attr("data-position");b(J+" .panel[data-position="+K+"] .content").addClass("hide");setTimeout(function(){b(J+" .panel[data-position="+K+"] .content").fadeIn(200,function(){b(J+" .panel[data-position="+K+"] .content").removeClass("hide").removeAttr("style");x()})},550);setTimeout(function(){I()},800);b(J+" .panel[data-position="+K+"]").removeClass("collapse");b(J+" .panel[data-position!="+K+"]").addClass("collapse")});function q(J){b(".hotspot-caption").fadeOut(J);b(".hotspot-caption .connector").fadeOut(J);b(".hotspot-caption .copy").fadeOut(J);b(".exploded-part div").fadeOut(J)}b(".hotspot").hover(function(){var J=b(this).attr("data-id");b(".hotspot[data-id="+J+"]").addClass("active")},function(){var J=b(this).attr("data-id");b(".hotspot[data-id="+J+"]").removeClass("active")});if(b.fn.hoverIntent!==undefined){b(".hotspot").hoverIntent(function(){var K=b(this).attr("data-id");var J=".hotspot-caption[data-id="+K+"]";var M=J+" .copy";var L=J+" .connector";b(J).show();b(L).show(200);b(M).show(200);b(".exploded-part[data-id!="+K+"] div").fadeIn(200)},function(){q(200)})}function j(){var J=b("section#buy .content").height();var K="-"+(J/2)+"px";b("section#buy > .content").css("margin-top",K)}b(window).load(function(){j()});j();b(".maximize").hover(function(){b(".experience-label").addClass("show");b(".glass").addClass("active")},function(){b(".experience-label").removeClass("show");b(".glass").removeClass("active")});b("#design-two .color-tabs li").unbind("click").click(function(){var J=b(this).attr("data-color");b("#design-two .color-tabs li").removeClass("active");b(this).addClass("active");b("#design-two .phone-model").hide();b("#design-two .phone-model[data-color="+J+"]").show();b(".model-container .color-options li").removeClass("active");b(".model-container .color-options li[data-color="+J+"]").addClass("active")});b(".maximize, .launch-sketchfab").unbind("click").click(function(K){K.preventDefault();var J=b(".model-container .color-options > li:first-child").attr("data-model");if(J.length>3){b(this).addClass("active");b(".model-container").fadeIn(300,function(){b(".maximize").removeClass("active");var M=b(".model-container .color-options li.active").attr("data-model");var L='<iframe frameBorder="0" src="https://sketchfab.com/models/'+M+'/embed?autostart=1&transparent=1&autospin=0&controls=0&desc_button=0&stop_button=0&preload=1"></iframe>';b(".model-container").append(L)})}});b(".model-container .close").unbind("click").click(function(){b(".model-container").fadeOut(300,function(){b(".model-container iframe").remove()})});if(b.fn.hoverIntent!==undefined){b(".model-container .help").hoverIntent(function(){b(".model-container .help-container").fadeIn(200)},function(){b(".model-container .help-container").fadeOut(200)})}b(".color-options li").unbind("click").click(function(){var L=b(this).attr("data-color");if(!b(this).hasClass("active")){b(".color-options li.active").removeClass("active");b(this).addClass("active");b("#design-two .color-tabs li").removeClass("active");b("#design-two .color-tabs li[data-color="+L+"]").addClass("active");b("#design-two .phone-model").hide();b("#design-two .phone-model[data-color="+L+"]").show();var K=b(this).attr("data-model");b(".model-container iframe").remove();var J='<iframe frameBorder="0" src="https://sketchfab.com/models/'+K+'/embed?autostart=1&transparent=1&autospin=0&controls=0&desc_button=0&stop_button=0&preload=1"></iframe>';b(".model-container").append(J)}})}if(h()==true){b("video").remove();function s(){if(b(".extra-info .more").length==0){b(".specs").css({width:"100%"})}}b(window).resize(function(){s()});b(window).load(function(){s()});s();b(".exploded-view").addClass("expanded");b("#design .hotspot").removeClass("hide");b(".jump-scroll").unbind("click").click(function(L){L.preventDefault();var K=b(this).attr("data-section");if(K=="top"){var J=b("header").height()}else{var J=b("#"+K).offset().top}b("html, body").animate({scrollTop:J},500)});b(".phone-model, .experience-label").unbind("click").click(function(K){K.preventDefault();var J=b(".model-container .color-options > li:first-child").attr("data-model");if(J.length>3){b(".mobile-webgl").fadeIn(500,function(){var M=b(".model-container .color-options li.active").attr("data-model");var L='<iframe frameborder="0" src="https://sketchfab.com/models/'+M+'/embed?autostart=1&transparent=1&autospin=0&controls=0&desc_button=0&stop_button=0&preload=1"></iframe>';b(".mobile-webgl").append(L)})}});b(".mobile-webgl .close").unbind("click").click(function(J){J.preventDefault();b(".mobile-webgl").fadeOut(300,function(){b(".mobile-webgl iframe").remove()})});b("#design-three .image-area img.desktop").remove();var f=((b("#design-three .filmstrip li").length)*160)+"px";b("#design-three .filmstrip").css("width",f)}b("#design-three .filmstrip li").unbind("click").click(function(){if(!b(this).hasClass("active")){if(h()==true){var K=0;var L=0}else{var K=300;var L=350}var J=b(this).attr("data-position");b("#design-three .filmstrip li").removeClass("active");b(this).addClass("active");b("#design-three .image-area img").fadeOut(K);setTimeout(function(){b("#design-three .image-area img[data-position="+J+"]").fadeIn(K)},L)}});b("#camera #focus-hotspot").unbind("click").click(function(){b("#camera .focus-image.man").fadeOut(500);b(this).hide();b("#camera #blur-hotspot").show();b("#focus-regular-caption").fadeIn(500);b("#focus-alt-regular-caption").fadeOut(500)});b("#camera #blur-hotspot").unbind("click").click(function(){b("#camera .focus-image.man").fadeIn(500);b(this).hide();b("#camera #focus-hotspot").show();b("#focus-regular-caption").fadeOut(500);b("#focus-alt-regular-caption").fadeIn(500)});var C={},l,z;C.verizon={silver:"http://www.verizon-silver.com",gray:"http://www.verizon-gray.com",gold:"http://www.verizon-gold.com",red:""};C.sprint={silver:"",gray:"http://www.sprint-gray.com",gold:"http://www.sprint-gold.com",red:"http://www.sprint-red.com"};C.att={silver:"http://www.att-silver.com",gray:"http://www.att-gray.com",gold:"",red:""};C.tmobile={silver:"",gray:"http://www.tmobile-gray.com",gold:"",red:""};b(".providers div").unbind("click").click(function(){b(".providers div").addClass("disabled");b(this).removeClass("disabled");b(".buy-ui .colors").removeClass("disabled");l=b(this).attr("data-carrier");b.each(C[l],function(J,K){if(K==""){b(".buy-ui div."+J).addClass("hide")}else{b(".buy-ui div."+J).removeClass("hide")}});if(l!=null&&z!=null){b(".button-continue").attr("href",C[l][z])}});b(".buy-ui .colors div").unbind("click").click(function(){if(!b(".buy-ui .colors").hasClass("disabled")){z=b(this).attr("data-color");b(".buy-ui .colors div").removeClass("selected");b(this).addClass("selected");b("#buy .phone[data-color!="+z+"]").removeClass("active");b("#buy .phone[data-color="+z+"]").addClass("active");if(l!=null&&z!=null){b(".button-continue").attr("href",C[l][z])}b(".button-continue").removeClass("disabled")}});b(".button-continue").unbind("click").click(function(J){if((b(".providers div").length&&l==null)||(b(".buy-ui .colors").length&&z==null)){J.preventDefault()}});function t(){if(h()==true){numLimit=3}else{numLimit=4}if(b(".accessories-container > a").length<=numLimit){b(".accessories-nav").hide()}}t();function G(){if(b(".accessories-scroll .accessories-container").is(":animated")){return true}else{return false}}b(".accessories-nav").unbind("click").click(function(){if(G()==false){if(h()==true){var R=3}else{var R=4}var L=parseInt(b(".accessories-scroll .accessories-container").attr("data-movement"));var K=b(".accessories-scroll .accessories-container a").length;var P=b(".accessories-scroll .accessories-container a:first-child").width();var M=P*R;var O=K*P;var Q=O/M;if(Q>L){var J="-="+M+"px";var N=L+1}else{var J="0";var N=1}b(".accessories-scroll .accessories-container").animate({marginLeft:J},300,function(){b(".accessories-scroll .accessories-container").attr("data-movement",N)})}});function B(){var L=b(".reviews-area .stars-insert").html();b(".reviews-area .ratings-stars .stars").append(L);var K=b(".reviews-area #starWidth").html();var J=b(".reviews-area #starGapWidth").html();if(K!==undefined){K=parseInt(K.replace("px",""));J=parseInt(J.replace("px",""))}b(".ratings-stars .score").each(function(){var P=b(this).html();var M=Math.floor(P);var O=P-M;var N=Math.round((M*K)+(M*J)+(O*K));b(this).next(".green-bar").css("width",N)})}B();b(".specs").unbind("click").click(function(){if(h()==true){var J=0}else{var J=300;A("more")}if(!b(".specs-overlay").is(":visible")){b(".specs-overlay, .specs-container, .specs-spacer").fadeIn(J);b(".specs").addClass("reverse");if(h()==true){b("body").css({height:"100%",overflow:"hidden"})}}else{b(".specs-overlay, .specs-container, .specs-spacer").fadeOut(J);b(".specs").removeClass("reverse");if(h()==true){b("body").css({height:"auto",overflow:"visible"})}}});b(".specs-overlay, .close-specs").unbind("click").click(function(){if(h()==true){var J=0}else{var J=300}b(".specs-overlay, .specs-container, .specs-spacer").fadeOut(J);b(".specs").removeClass("reverse")});if(b.fn.hoverIntent!==undefined){b(".more").hoverIntent(function(){b(this).addClass("active");b(".more ul").show()},function(){b(this).removeClass("active");b(".more ul").hide()})}b(".more ul li, .more-link").unbind("click").click(function(){if(b("html").hasClass("csstransforms3d")){if(h()==true){b(".slide-wrapper").hide();var L=0}else{var L=300}b(".more ul").hide();A("specs");var K=b(this).attr("data-id");b(".more-container").fadeIn(L);b(".more-slide[data-id!="+K+"]").fadeOut(L);b(".more-slide[data-id="+K+"]").fadeIn(L)}else{var K=b(this).attr("data-id");var J=b(".more-container .more-slide[data-id="+K+"]").offset().top;b("html, body").scrollTop(J)}});b(".more-container .more-bar .logo").unbind("click").click(function(){if(h()==true){b(".slide-wrapper").show();var J=0}else{var J=300}b(".more-container").fadeOut(J);b(".more-slide").fadeOut(J)})};function c(){function d(){if(b(".icon-animation-container ul li:hidden").length){b(".icon-animation-container ul li:hidden:first").show(0,function(){b(this).delay(1000).hide(0,function(){b(this).appendTo(".icon-animation-container ul")})});setTimeout(d,1000)}}d();HtcChrome.showDeepBottom()}a.prototype={constructor:a};return a})(jQuery);
if(document.domain.match("htc.com$")){document.domain="htc.com"}var HTC=(function(b){var a=function(){new Site();if(b("body").hasClass("productlisting")&&!b("body").hasClass("template_software_apps_listing_2015")&&!b("body").hasClass("template_product_listing_2015")){new ProductListing()}if(b("body").hasClass("root")&&b("body").hasClass("innovations")&&!b("body").hasClass("snapscroll")){new KSP()}if((b("body").hasClass("root")||b("body").hasClass("ksp_custom_snap_scroll"))&&b("body").hasClass("snapscroll")){new Snapscroll()}if(b("body").hasClass("getstarted")){new GetStarted()}if(b("body").hasClass("ultrapixel")){new UltraPixel()}if(b("body").hasClass("template_default")&&b("body").hasClass("accessorydetail")==false){new ProductDetail()}if(b("body").hasClass("template_m8")){new M8ProductDetail()}if(b("body").hasClass("template_coming_soon")){b.getScript("/assets/layout/js/comingsoon.js",function(){new ComingSoon()})}if(b("body").hasClass("productksp smartphones htc-one-m8 blinkfeed")){new KSP();new M8Blinkfeed()}if(b("body").hasClass("productksp smartphones htc-one-m8 boomsound")){new KSP();new M8Boomsound()}if(b("body").hasClass("productksp smartphones htc-one-m8 sensetv")){new KSP()}if(b("body").hasClass("productksp smartphones htc-one-m8 software")){new KSP()}if(b("body").hasClass("productksp smartphones htc-one-m8 design")){new KSP()}if(b("body").hasClass("productksp smartphones htc-one-m8 camera")){new KSP()}if(b("body").hasClass("productksp smartphones htc-one-m8 zoe")){new KSP()}if(b("body").hasClass("regions")){new Regions()}b(".sketchfab-info .color-options .content a").on("click",function(d){var c=b(this).attr("href");if(c=="#"){if(d.preventDefault){d.preventDefault()}else{d.returnValue=false}}})};a.prototype={constructor:a};return a})(jQuery);var htc;jQuery(document).ready(function(a){htc=new HTC()});
var hexcase=0;var b64pad="";function hex_md5(a){return rstr2hex(rstr_md5(str2rstr_utf8(a)))}function b64_md5(a){return rstr2b64(rstr_md5(str2rstr_utf8(a)))}function any_md5(a,b){return rstr2any(rstr_md5(str2rstr_utf8(a)),b)}function hex_hmac_md5(a,b){return rstr2hex(rstr_hmac_md5(str2rstr_utf8(a),str2rstr_utf8(b)))}function b64_hmac_md5(a,b){return rstr2b64(rstr_hmac_md5(str2rstr_utf8(a),str2rstr_utf8(b)))}function any_hmac_md5(a,c,b){return rstr2any(rstr_hmac_md5(str2rstr_utf8(a),str2rstr_utf8(c)),b)}function md5_vm_test(){return hex_md5("abc").toLowerCase()=="900150983cd24fb0d6963f7d28e17f72"}function rstr_md5(a){return binl2rstr(binl_md5(rstr2binl(a),a.length*8))}function rstr_hmac_md5(c,f){var e=rstr2binl(c);if(e.length>16){e=binl_md5(e,c.length*8)}var a=Array(16),d=Array(16);for(var b=0;b<16;b++){a[b]=e[b]^909522486;d[b]=e[b]^1549556828}var g=binl_md5(a.concat(rstr2binl(f)),512+f.length*8);return binl2rstr(binl_md5(d.concat(g),512+128))}function rstr2hex(c){try{hexcase}catch(g){hexcase=0}var f=hexcase?"0123456789ABCDEF":"0123456789abcdef";var b="";var a;for(var d=0;d<c.length;d++){a=c.charCodeAt(d);b+=f.charAt((a>>>4)&15)+f.charAt(a&15)}return b}function rstr2b64(c){try{b64pad}catch(h){b64pad=""}var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var b="";var a=c.length;for(var f=0;f<a;f+=3){var k=(c.charCodeAt(f)<<16)|(f+1<a?c.charCodeAt(f+1)<<8:0)|(f+2<a?c.charCodeAt(f+2):0);for(var d=0;d<4;d++){if(f*8+d*6>c.length*8){b+=b64pad}else{b+=g.charAt((k>>>6*(3-d))&63)}}}return b}function rstr2any(m,c){var b=c.length;var l,f,a,n,e;var k=Array(Math.ceil(m.length/2));for(l=0;l<k.length;l++){k[l]=(m.charCodeAt(l*2)<<8)|m.charCodeAt(l*2+1)}var h=Math.ceil(m.length*8/(Math.log(c.length)/Math.log(2)));var g=Array(h);for(f=0;f<h;f++){e=Array();n=0;for(l=0;l<k.length;l++){n=(n<<16)+k[l];a=Math.floor(n/b);n-=a*b;if(e.length>0||a>0){e[e.length]=a}}g[f]=n;k=e}var d="";for(l=g.length-1;l>=0;l--){d+=c.charAt(g[l])}return d}function str2rstr_utf8(c){var b="";var d=-1;var a,e;while(++d<c.length){a=c.charCodeAt(d);e=d+1<c.length?c.charCodeAt(d+1):0;if(55296<=a&&a<=56319&&56320<=e&&e<=57343){a=65536+((a&1023)<<10)+(e&1023);d++}if(a<=127){b+=String.fromCharCode(a)}else{if(a<=2047){b+=String.fromCharCode(192|((a>>>6)&31),128|(a&63))}else{if(a<=65535){b+=String.fromCharCode(224|((a>>>12)&15),128|((a>>>6)&63),128|(a&63))}else{if(a<=2097151){b+=String.fromCharCode(240|((a>>>18)&7),128|((a>>>12)&63),128|((a>>>6)&63),128|(a&63))}}}}}return b}function str2rstr_utf16le(b){var a="";for(var c=0;c<b.length;c++){a+=String.fromCharCode(b.charCodeAt(c)&255,(b.charCodeAt(c)>>>8)&255)}return a}function str2rstr_utf16be(b){var a="";for(var c=0;c<b.length;c++){a+=String.fromCharCode((b.charCodeAt(c)>>>8)&255,b.charCodeAt(c)&255)}return a}function rstr2binl(b){var a=Array(b.length>>2);for(var c=0;c<a.length;c++){a[c]=0}for(var c=0;c<b.length*8;c+=8){a[c>>5]|=(b.charCodeAt(c/8)&255)<<(c%32)}return a}function binl2rstr(b){var a="";for(var c=0;c<b.length*32;c+=8){a+=String.fromCharCode((b[c>>5]>>>(c%32))&255)}return a}function binl_md5(p,k){p[k>>5]|=128<<((k)%32);p[(((k+64)>>>9)<<4)+14]=k;var o=1732584193;var n=-271733879;var m=-1732584194;var l=271733878;for(var g=0;g<p.length;g+=16){var j=o;var h=n;var f=m;var e=l;o=md5_ff(o,n,m,l,p[g+0],7,-680876936);l=md5_ff(l,o,n,m,p[g+1],12,-389564586);m=md5_ff(m,l,o,n,p[g+2],17,606105819);n=md5_ff(n,m,l,o,p[g+3],22,-1044525330);o=md5_ff(o,n,m,l,p[g+4],7,-176418897);l=md5_ff(l,o,n,m,p[g+5],12,1200080426);m=md5_ff(m,l,o,n,p[g+6],17,-1473231341);n=md5_ff(n,m,l,o,p[g+7],22,-45705983);o=md5_ff(o,n,m,l,p[g+8],7,1770035416);l=md5_ff(l,o,n,m,p[g+9],12,-1958414417);m=md5_ff(m,l,o,n,p[g+10],17,-42063);n=md5_ff(n,m,l,o,p[g+11],22,-1990404162);o=md5_ff(o,n,m,l,p[g+12],7,1804603682);l=md5_ff(l,o,n,m,p[g+13],12,-40341101);m=md5_ff(m,l,o,n,p[g+14],17,-1502002290);n=md5_ff(n,m,l,o,p[g+15],22,1236535329);o=md5_gg(o,n,m,l,p[g+1],5,-165796510);l=md5_gg(l,o,n,m,p[g+6],9,-1069501632);m=md5_gg(m,l,o,n,p[g+11],14,643717713);n=md5_gg(n,m,l,o,p[g+0],20,-373897302);o=md5_gg(o,n,m,l,p[g+5],5,-701558691);l=md5_gg(l,o,n,m,p[g+10],9,38016083);m=md5_gg(m,l,o,n,p[g+15],14,-660478335);n=md5_gg(n,m,l,o,p[g+4],20,-405537848);o=md5_gg(o,n,m,l,p[g+9],5,568446438);l=md5_gg(l,o,n,m,p[g+14],9,-1019803690);m=md5_gg(m,l,o,n,p[g+3],14,-187363961);n=md5_gg(n,m,l,o,p[g+8],20,1163531501);o=md5_gg(o,n,m,l,p[g+13],5,-1444681467);l=md5_gg(l,o,n,m,p[g+2],9,-51403784);m=md5_gg(m,l,o,n,p[g+7],14,1735328473);n=md5_gg(n,m,l,o,p[g+12],20,-1926607734);o=md5_hh(o,n,m,l,p[g+5],4,-378558);l=md5_hh(l,o,n,m,p[g+8],11,-2022574463);m=md5_hh(m,l,o,n,p[g+11],16,1839030562);n=md5_hh(n,m,l,o,p[g+14],23,-35309556);o=md5_hh(o,n,m,l,p[g+1],4,-1530992060);l=md5_hh(l,o,n,m,p[g+4],11,1272893353);m=md5_hh(m,l,o,n,p[g+7],16,-155497632);n=md5_hh(n,m,l,o,p[g+10],23,-1094730640);o=md5_hh(o,n,m,l,p[g+13],4,681279174);l=md5_hh(l,o,n,m,p[g+0],11,-358537222);m=md5_hh(m,l,o,n,p[g+3],16,-722521979);n=md5_hh(n,m,l,o,p[g+6],23,76029189);o=md5_hh(o,n,m,l,p[g+9],4,-640364487);l=md5_hh(l,o,n,m,p[g+12],11,-421815835);m=md5_hh(m,l,o,n,p[g+15],16,530742520);n=md5_hh(n,m,l,o,p[g+2],23,-995338651);o=md5_ii(o,n,m,l,p[g+0],6,-198630844);l=md5_ii(l,o,n,m,p[g+7],10,1126891415);m=md5_ii(m,l,o,n,p[g+14],15,-1416354905);n=md5_ii(n,m,l,o,p[g+5],21,-57434055);o=md5_ii(o,n,m,l,p[g+12],6,1700485571);l=md5_ii(l,o,n,m,p[g+3],10,-1894986606);m=md5_ii(m,l,o,n,p[g+10],15,-1051523);n=md5_ii(n,m,l,o,p[g+1],21,-2054922799);o=md5_ii(o,n,m,l,p[g+8],6,1873313359);l=md5_ii(l,o,n,m,p[g+15],10,-30611744);m=md5_ii(m,l,o,n,p[g+6],15,-1560198380);n=md5_ii(n,m,l,o,p[g+13],21,1309151649);o=md5_ii(o,n,m,l,p[g+4],6,-145523070);l=md5_ii(l,o,n,m,p[g+11],10,-1120210379);m=md5_ii(m,l,o,n,p[g+2],15,718787259);n=md5_ii(n,m,l,o,p[g+9],21,-343485551);o=safe_add(o,j);n=safe_add(n,h);m=safe_add(m,f);l=safe_add(l,e)}return Array(o,n,m,l)}function md5_cmn(h,e,d,c,g,f){return safe_add(bit_rol(safe_add(safe_add(e,h),safe_add(c,f)),g),d)}function md5_ff(g,f,k,j,e,i,h){return md5_cmn((f&k)|((~f)&j),g,f,e,i,h)}function md5_gg(g,f,k,j,e,i,h){return md5_cmn((f&j)|(k&(~j)),g,f,e,i,h)}function md5_hh(g,f,k,j,e,i,h){return md5_cmn(f^k^j,g,f,e,i,h)}function md5_ii(g,f,k,j,e,i,h){return md5_cmn(k^(f|(~j)),g,f,e,i,h)}function safe_add(a,d){var c=(a&65535)+(d&65535);var b=(a>>16)+(d>>16)+(c>>16);return(b<<16)|(c&65535)}function bit_rol(a,b){return(a<<b)|(a>>>(32-b))};
var sigupBox=(function(){var a={init:function(){if($(".email-signup form.signup-form").length>0){$(".email-signup form.signup-form input.submit-button").click(function(g){if(g.preventDefault){g.preventDefault()}else{g.returnValue=false}var b=new Site();b.emailAddPDP=$(this).parent().find("input.launch-email").val();if(isEmail(b.emailAddPDP)){$("form.signup-form input.launch-email").removeClass("invalid");var f=$("meta[name=product_name_id]").attr("content");f=(typeof f==="undefined")?"":f;var d=(f==="")?"ocean-signup":(f+"-signup"),c=(f==="")?"":(f.replace(/-/g," "));b.subscriptionSubmission("pdp",d,f,c)}else{$(".email-signup .error-message").show();$("form.signup-form input.launch-email").addClass("invalid")}})}}};return a}());var youkuVideo=(function(){var c,a;var b={init:function(d,g,f){var e;c=g;a=f;b.resetPlayerHeight();e=new YKU.Player("player",{styleid:"0",client_id:"2a8fda48fc709b73",vid:d,newPlayer:false,autoplay:true,show_related:false,events:{onPlayEnd:function(){c.removeClass("show");a.addClass("show")},onPlayerReady:function(){b.resetPlayerHeight()}}});$(window).resize(function(h){b.resetPlayerHeight()})},resetPlayerHeight:function(){console.log($(".player-container").data("vtype"));if($(".player-container").data("vtype")==="youku"){$("#player").height($("picture").height())}}};return b}());var youtubeVideo=(function(){var b,a;var c={init:function(d,g,f){b=g;a=f;var e;function j(){e=new YT.Player("player",{height:"390",width:"640",videoId:d,events:{onReady:i,onStateChange:h}})}function i(k){k.target.playVideo()}function h(k){if(k.data===0){b.removeClass("show");a.addClass("show")}}j()}};return c}());var embebVideo=(function(){var a={init:function(){if($("section.embed-video").length>0){$.each($("section.embed-video"),function(f,c){var b=$(this).find(".video-play-icon"),d=$(this).find(".caption-block"),h=$(this).find(".bg-block"),j=$(this).find(".player-container"),e=j.find("#player"),k=$(this).find(".button-groups-container"),g=j.data("vid"),i=j.data("vtype");if(typeof g!=="undefined"){b.on("click",function(l){l.preventDefault();if(k.length>0){if(i==="youtube"){youtubeVideo.init(g,j,k)}else{youkuVideo.init(g,j,k)}}else{j.videobject({id:g})}j.addClass("show");h.addClass("hide");d.addClass("hide")})}})}}};return a}());var commonSetting=(function(){var a={cookieDetection:function(){var b="htc-has-view-launch-page";if(typeof $.cookie(b)==="undefined"){$.cookie(b,true,{path:"/"})}}};return a}());$(document).ready(function(){if($("body").hasClass("launch")||$("body").hasClass("launch_12")){}});(function(a){a.fn.videobject=function(c){var d=a.extend({flash:'<iframe width="mywidth" height="myheight" src="myurl" frameborder="0" allowfullscreen></iframe>',id:"XMTcwMDMxNTA4",url:"youtube",width:"500",height:"282",warning:"You need Flash Player enabled."},c||{});var b=function(){var f=false;try{var g=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(g){f=true}}catch(h){if(navigator.mimeTypes["application/x-shockwave-flash"]!==undefined){f=true}}return f};var e=function(h){var i=true,g,f="http"+(/^https/.test(location.protocol)?"s":"")+"://www.youtube.com/embed/myid?autoplay=1&wmode=opaque";if(a("html").hasClass("desktop")){i=b();g="http://static.youku.com/v/swf/qplayer.swf?VideoIDS=myid=&isAutoPlay=true&isShowRelatedVideo=false&embedid=-&showAd=0"}else{g="http://static.youku.com/v1.0.0149/v/swf/loader.swf?VideoIDS=myid&quality=high&isAutoPlay=true&winType=adshow"}if(i){if(h.length===11){d.id=f.replace(/myid/,h)}else{d.id=g.replace(/myid/,h);d.flash="<embed src='myurl' allowFullScreen='true' quality='high' width='mywidth' height='myheight' align='middle' allowScriptAccess='always' type='application/x-shockwave-flash'></embed>"}return h==="youku"?d.flash.replace(/myurl/,d.id).replace(/mywidth/,d.width).replace(/myheight/,d.height):d.flash.replace(/myurl/,d.id).replace(/mywidth/,d.width).replace(/myheight/,d.height)}else{return d.warning}};return this.empty().html(e(d.id))}})(jQuery);
var _gotButtonsStatus=false,_buttonInterval;var youtubeVideo=(function(){var a;var b={init:function(c,e){a=e;var d;function h(){d=new YT.Player("player",{height:"390",width:"640",videoId:c,events:{onReady:g,onStateChange:f}})}function g(i){i.target.playVideo()}function f(i){if(i.data===0){}}h()}};return b}());var countdown=(function(){var a={init:function(){var b=moment.tz("2017-01-12T16:00:00","Asia/Taipei");$(".timer").countdown(b.toDate(),{elapse:true}).on("update.countdown",function(c){var e=$(this);if(c.elapsed){$(this).removeClass("show")}else{var d=c.offset.totalDays*24+c.offset.hours;$(this).text(c.strftime(d+":%M:%S")).addClass("show")}}).on("finish.countdown",function(){$(this).removeClass("show")})}};return a}());var callButtons=(function(){var a={init:function(b){_buttonInterval=setInterval(function(){var c=moment.tz("2017-01-12T16:30:00","Asia/Taipei"),d=moment().tz("Asia/Taipei");if(d>c&&!_gotButtonsStatus){a.sendRequest(b)}},30000)},sendRequest:function(b){var c,d=location.host;if(d.indexOf("p1.htc.com")>-1||d.indexOf("prototype-www.htc.com")>-1){c="assets/layout/json/"+$("body").data("site")+".json"}else{c="/managed-assets/shared/desktop/launch/oceanbtn/"+$("body").data("site")+".json"}$.ajax({url:c,type:"GET",dataType:"json"}).done(function(e){$(b).find(".flex-box-block").html(tmpl("tmpl-button",e));$(b).addClass("show");clearInterval(_buttonInterval);_gotButtonsStatus=true}).fail(function(){}).always(function(){})}};return a}());var livestream=(function(){var a={init:function(){$(".live-stream").each(function(b,f){var c=$(this).find(".player-container"),e=c.data("vid"),d=c.data("vtype");if(d==="youtube"){youtubeVideo.init(e,c)}})}};return a}());var commonSetting=(function(){var a={cookieDetection:function(){var b="htc-has-view-launch-page";if(typeof $.cookie(b)==="undefined"){$.cookie(b,true,{path:"/"})}}};return a}());$(document).ready(function(){if($("body").hasClass("launch")||$("body").hasClass("launch_12")){commonSetting.cookieDetection();if($(".count-down").length>0){countdown.init()}if($(".link-to-pdp-buttons").length>0){callButtons.init($(".link-to-pdp-buttons"))}setTimeout(function(){livestream.init()},500)}});
(function(){var e;var d=function(){};var b=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"];var c=b.length;var a=(window.console=window.console||{});while(c--){e=b[c];if(!a[e]){a[e]=d}}}());
/*! VelocityJS.org (1.1.0). (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License */
/*! VelocityJS.org jQuery Shim (1.0.1). (C) 2014 The jQuery Foundation. MIT @license: en.wikipedia.org/wiki/MIT_License. */
!function(h){function k(m){var a=m.length,i=f.type(m);return"function"===i||f.isWindow(m)?!1:1===m.nodeType&&a?!0:"array"===i||0===a||"number"==typeof a&&a>0&&a-1 in m}if(!h.jQuery){var f=function(i,a){return new f.fn.init(i,a)};f.isWindow=function(a){return null!=a&&a==a.window},f.type=function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?j[c.call(a)]||"object":typeof a},f.isArray=Array.isArray||function(a){return"array"===f.type(a)},f.isPlainObject=function(m){var a;if(!m||"object"!==f.type(m)||m.nodeType||f.isWindow(m)){return !1}try{if(m.constructor&&!d.call(m,"constructor")&&!d.call(m.constructor.prototype,"isPrototypeOf")){return !1}}catch(i){return !1}for(a in m){}return void 0===a||d.call(m,a)},f.each=function(u,t,m){var w,v=0,p=u.length,q=k(u);if(m){if(q){for(;p>v&&(w=t.apply(u[v],m),w!==!1);v++){}}else{for(v in u){if(w=t.apply(u[v],m),w===!1){break}}}}else{if(q){for(;p>v&&(w=t.call(u[v],v,u[v]),w!==!1);v++){}}else{for(v in u){if(w=t.call(u[v],v,u[v]),w===!1){break}}}}return u},f.data=function(p,m,i){if(void 0===i){var r=p[f.expando],q=r&&b[r];if(void 0===m){return q}if(q&&m in q){return q[m]}}else{if(void 0!==m){var r=p[f.expando]||(p[f.expando]=++f.uuid);return b[r]=b[r]||{},b[r][m]=i,i}}},f.removeData=function(o,m){var i=o[f.expando],p=i&&b[i];p&&f.each(m,function(n,a){delete p[a]})},f.extend=function(){var x,A,m,y,q,p,w=arguments[0]||{},B=1,v=arguments.length,z=!1;for("boolean"==typeof w&&(z=w,w=arguments[B]||{},B++),"object"!=typeof w&&"function"!==f.type(w)&&(w={}),B===v&&(w=this,B--);v>B;B++){if(null!=(q=arguments[B])){for(y in q){x=w[y],m=q[y],w!==m&&(z&&m&&(f.isPlainObject(m)||(A=f.isArray(m)))?(A?(A=!1,p=x&&f.isArray(x)?x:[]):p=x&&f.isPlainObject(x)?x:{},w[y]=f.extend(z,p,m)):void 0!==m&&(w[y]=m))}}}return w},f.queue=function(p,m,i){function s(t,o){var n=o||[];return null!=t&&(k(Object(t))?!function(x,v){for(var w=+v.length,u=0,y=x.length;w>u;){x[y++]=v[u++]}if(w!==w){for(;void 0!==v[u];){x[y++]=v[u++]}}return x.length=y,x}(n,"string"==typeof t?[t]:t):[].push.call(n,t)),n}if(p){m=(m||"fx")+"queue";var q=f.data(p,m);return i?(!q||f.isArray(i)?q=f.data(p,m,s(i)):q.push(i),q):q||[]}},f.dequeue=function(i,a){f.each(i.nodeType?[i]:i,function(p,o){a=a||"fx";var m=f.queue(o,a),q=m.shift();"inprogress"===q&&(q=m.shift()),q&&("fx"===a&&m.unshift("inprogress"),q.call(o,function(){f.dequeue(o,a)}))})},f.fn=f.prototype={init:function(a){if(a.nodeType){return this[0]=a,this}throw new Error("Not a DOM node.")},offset:function(){var a=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:a.top+(h.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:a.left+(h.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function o(){for(var a=this.offsetParent||document;a&&"html"===!a.nodeType.toLowerCase&&"static"===a.style.position;){a=a.offsetParent}return a||document}var m=this[0],o=o.apply(m),n=this.offset(),i=/^(?:body|html)$/i.test(o.nodeName)?{top:0,left:0}:f(o).offset();return n.top-=parseFloat(m.style.marginTop)||0,n.left-=parseFloat(m.style.marginLeft)||0,o.style&&(i.top+=parseFloat(o.style.borderTopWidth)||0,i.left+=parseFloat(o.style.borderLeftWidth)||0),{top:n.top-i.top,left:n.left-i.left}}};var b={};f.expando="velocity"+(new Date).getTime(),f.uuid=0;for(var j={},d=j.hasOwnProperty,c=j.toString,g="Boolean Number String Function Array Date RegExp Object Error".split(" "),l=0;l<g.length;l++){j["[object "+g[l]+"]"]=g[l].toLowerCase()}f.fn.init.prototype=f.fn,h.Velocity={Utilities:f}}}(window),function(a){"object"==typeof module&&"object"==typeof module.exports?module.exports=a():"function"==typeof define&&define.amd?define(a):a()}(function(){return function(O,C,E,U){function H(f){for(var c=-1,d=f?f.length:0,b=[];++c<d;){var g=f[c];g&&b.push(g)}return b}function G(a){return M.isWrapped(a)?a=[].slice.call(a):M.isNode(a)&&(a=[a]),a}function K(b){var a=k.data(b,"velocity");return null===a?U:a}function D(a){return function(b){return Math.round(b*a)*(1/a)}}function J(aq,ag,av,aj){function ai(b,a){return 1-3*a+3*b}function am(b,a){return 3*a-6*b}function ae(a){return 3*a}function al(c,a,b){return((ai(a,b)*c+am(a,b))*c+ae(a))*c}function ad(c,a,b){return 3*ai(a,b)*c*c+2*am(a,b)*c+ae(a)}function at(b,c){for(var e=0;ak>e;++e){var d=ad(c,aq,av);if(0===d){return c}var a=al(c,aq,av)-b;c-=a/d}return c}function ah(){for(var a=0;au>a;++a){ab[a]=al(a*aa,aq,av)}}function ap(b,d,f){var e,a,c=0;do{a=d+(f-d)/2,e=al(a,aq,av)-b,e>0?f=a:d=a}while(Math.abs(e)>an&&++c<ac);return a}function ar(c){for(var e=0,g=1,f=au-1;g!=f&&ab[g]<=c;++g){e+=aa}--g;var b=(c-ab[g])/(ab[g+1]-ab[g]),d=e+b*aa,a=ad(d,aq,av);return a>=Z?at(c,d):0==a?d:ap(c,e,e+aa)}function ao(){t=!0,(aq!=ag||av!=aj)&&ah()}var ak=4,Z=0.001,an=1e-7,ac=10,au=11,aa=1/(au-1),X="Float32Array" in C;if(4!==arguments.length){return !1}for(var Y=0;4>Y;++Y){if("number"!=typeof arguments[Y]||isNaN(arguments[Y])||!isFinite(arguments[Y])){return !1}}aq=Math.min(aq,1),av=Math.min(av,1),aq=Math.max(aq,0),av=Math.max(av,0);var ab=X?new Float32Array(au):new Array(au),t=!1,af=function(a){return t||ao(),aq===ag&&av===aj?a:0===a?0:1===a?1:al(ar(a),ag,aj)};af.getControlPoints=function(){return[{x:aq,y:ag},{x:av,y:aj}]};var W="generateBezier("+[aq,ag,av,aj]+")";return af.toString=function(){return W},af}function B(c,a){var b=c;return M.isString(c)?A.Easings[c]||(b=!1):b=M.isArray(c)&&1===c.length?D.apply(null,c):M.isArray(c)&&2===c.length?T.apply(null,c.concat([a])):M.isArray(c)&&4===c.length?J.apply(null,c):!1,b===!1&&(b=A.Easings[A.defaults.easing]?A.defaults.easing:L),b}function R(ai){if(ai){for(var W=(new Date).getTime(),Z=0,ac=A.State.calls.length;ac>Z;Z++){if(A.State.calls[Z]){var ab=A.State.calls[Z],X=ab[0],ae=ab[2],x=ab[3],ah=!!x;x||(x=A.State.calls[Z][3]=W-16);for(var aj=Math.min((W-x)/ae.duration,1),ad=0,i=X.length;i>ad;ad++){var ag=X[ad],ak=ag.element;if(K(ak)){var g=!1;if(ae.display!==U&&null!==ae.display&&"none"!==ae.display){if("flex"===ae.display){var p=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];k.each(p,function(d,b){z.setPropertyValue(ak,"display",b)})}z.setPropertyValue(ak,"display",ae.display)}ae.visibility!==U&&"hidden"!==ae.visibility&&z.setPropertyValue(ak,"visibility",ae.visibility);for(var a in ag){if("element"!==a){var Y=ag[a],c,af=M.isString(Y.easing)?A.Easings[Y.easing]:Y.easing;if(1===aj){c=Y.endValue}else{if(c=Y.startValue+(Y.endValue-Y.startValue)*af(aj),!ah&&c===Y.currentValue){continue}}if(Y.currentValue=c,z.Hooks.registered[a]){var aa=z.Hooks.getRoot(a),v=K(ak).rootPropertyValueCache[aa];v&&(Y.rootPropertyValue=v)}var P=z.setPropertyValue(ak,a,Y.currentValue+(0===parseFloat(c)?"":Y.unitType),Y.rootPropertyValue,Y.scrollData);z.Hooks.registered[a]&&(K(ak).rootPropertyValueCache[aa]=z.Normalizations.registered[aa]?z.Normalizations.registered[aa]("extract",null,P[1]):P[1]),"transform"===P[0]&&(g=!0)}}ae.mobileHA&&K(ak).transformCache.translate3d===U&&(K(ak).transformCache.translate3d="(0px, 0px, 0px)",g=!0),g&&z.flushTransformCache(ak)}}ae.display!==U&&"none"!==ae.display&&(A.State.calls[Z][2].display=!1),ae.visibility!==U&&"hidden"!==ae.visibility&&(A.State.calls[Z][2].visibility=!1),ae.progress&&ae.progress.call(ab[1],ab[1],aj,Math.max(0,x+ae.duration-W),x),1===aj&&F(Z)}}}A.State.isTicking&&q(R)}function F(S,Y){if(!A.State.calls[S]){return !1}for(var a=A.State.calls[S][0],i=A.State.calls[S][1],h=A.State.calls[S][2],Z=A.State.calls[S][4],x=!1,X=0,W=a.length;W>X;X++){var b=a[X].element;if(Y||h.loop||("none"===h.display&&z.setPropertyValue(b,"display",h.display),"hidden"===h.visibility&&z.setPropertyValue(b,"visibility",h.visibility)),h.loop!==!0&&(k.queue(b)[1]===U||!/\.velocityQueueEntryFlag/i.test(k.queue(b)[1]))&&K(b)){K(b).isAnimating=!1,K(b).rootPropertyValueCache={};var P=!1;k.each(z.Lists.transforms3D,function(f,c){var d=/^scale/.test(c)?1:0,g=K(b).transformCache[c];K(b).transformCache[c]!==U&&new RegExp("^\\("+d+"[^.]").test(g)&&(P=!0,delete K(b).transformCache[c])}),h.mobileHA&&(P=!0,delete K(b).transformCache.translate3d),P&&z.flushTransformCache(b),z.Values.removeClass(b,"velocity-animating")}if(!Y&&h.complete&&!h.loop&&X===W-1){try{h.complete.call(i,i)}catch(V){setTimeout(function(){throw V},1)}}Z&&h.loop!==!0&&Z(i),h.loop!==!0||Y||(k.each(K(b).tweensContainer,function(d,c){/^rotate/.test(d)&&360===parseFloat(c.endValue)&&(c.endValue=0,c.startValue=360)}),A(b,"reverse",{loop:!0,delay:h.delay})),h.queue!==!1&&k.dequeue(b,h.queue)}A.State.calls[S]=!1;for(var y=0,v=A.State.calls.length;v>y;y++){if(A.State.calls[y]!==!1){x=!0;break}}x===!1&&(A.State.isTicking=!1,delete A.State.calls,A.State.calls=[])}var N=function(){if(E.documentMode){return E.documentMode}for(var b=7;b>4;b--){var a=E.createElement("div");if(a.innerHTML="<!--[if IE "+b+"]><span></span><![endif]-->",a.getElementsByTagName("span").length){return a=null,b}}return U}(),Q=function(){var a=0;return C.webkitRequestAnimationFrame||C.mozRequestAnimationFrame||function(c){var d=(new Date).getTime(),b;return b=Math.max(0,16-(d-a)),a=d+b,setTimeout(function(){c(d+b)},b)}}(),M={isString:function(a){return"string"==typeof a},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)},isNode:function(a){return a&&a.nodeType},isNodeList:function(a){return"object"==typeof a&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(a))&&a.length!==U&&(0===a.length||"object"==typeof a[0]&&a[0].nodeType>0)},isWrapped:function(a){return a&&(a.jquery||C.Zepto&&C.Zepto.zepto.isZ(a))},isSVG:function(a){return C.SVGElement&&a instanceof C.SVGElement},isEmptyObject:function(b){for(var a in b){return !1}return !0}},k,I=!1;if(O.fn&&O.fn.jquery?(k=O,I=!0):k=C.Velocity.Utilities,8>=N&&!I){throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.")}if(7>=N){return void (jQuery.fn.velocity=jQuery.fn.animate)}var w=400,L="swing",A={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:C.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:E.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:k,Redirects:{},Easings:{},Promise:C.Promise,defaults:{queue:"",duration:w,easing:L,begin:U,complete:U,progress:U,display:U,visibility:U,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(a){k.data(a,"velocity",{isSVG:M.isSVG(a),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:1,patch:0},debug:!1};C.pageYOffset!==U?(A.State.scrollAnchor=C,A.State.scrollPropertyLeft="pageXOffset",A.State.scrollPropertyTop="pageYOffset"):(A.State.scrollAnchor=E.documentElement||E.body.parentNode||E.body,A.State.scrollPropertyLeft="scrollLeft",A.State.scrollPropertyTop="scrollTop");var T=function(){function f(a){return -a.tension*a.x-a.friction*a.v}function c(g,h,e){var i={x:g.x+e.dx*h,v:g.v+e.dv*h,tension:g.tension,friction:g.friction};return{dx:i.v,dv:f(i)}}function d(t,g){var x={dx:t.v,dv:f(t)},v=c(t,0.5*g,x),m=c(t,0.5*g,v),p=c(t,g,m),e=1/6*(x.dx+2*(v.dx+m.dx)+p.dx),h=1/6*(x.dv+2*(v.dv+m.dv)+p.dv);return t.x=t.x+e*g,t.v=t.v+h*g,t}return function b(x,S,h){var g={x:-1,v:0,tension:null,friction:null},r=[0],V=0,m=0.0001,P=0.016,y,a,v;for(x=parseFloat(x)||500,S=parseFloat(S)||20,h=h||null,g.tension=x,g.friction=S,y=null!==h,y?(V=b(x,S),a=V/h*P):a=P;;){if(v=d(v||g,a),r.push(1+v.x),V+=16,!(Math.abs(v.x)>m&&Math.abs(v.v)>m)){break}}return y?function(i){return r[i*(r.length-1)|0]}:V}}();A.Easings={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2},spring:function(a){return 1-Math.cos(4.5*a*Math.PI)*Math.exp(6*-a)}},k.each([["ease",[0.25,0.1,0.25,1]],["ease-in",[0.42,0,1,1]],["ease-out",[0,0,0.58,1]],["ease-in-out",[0.42,0,0.58,1]],["easeInSine",[0.47,0,0.745,0.715]],["easeOutSine",[0.39,0.575,0.565,1]],["easeInOutSine",[0.445,0.05,0.55,0.95]],["easeInQuad",[0.55,0.085,0.68,0.53]],["easeOutQuad",[0.25,0.46,0.45,0.94]],["easeInOutQuad",[0.455,0.03,0.515,0.955]],["easeInCubic",[0.55,0.055,0.675,0.19]],["easeOutCubic",[0.215,0.61,0.355,1]],["easeInOutCubic",[0.645,0.045,0.355,1]],["easeInQuart",[0.895,0.03,0.685,0.22]],["easeOutQuart",[0.165,0.84,0.44,1]],["easeInOutQuart",[0.77,0,0.175,1]],["easeInQuint",[0.755,0.05,0.855,0.06]],["easeOutQuint",[0.23,1,0.32,1]],["easeInOutQuint",[0.86,0,0.07,1]],["easeInExpo",[0.95,0.05,0.795,0.035]],["easeOutExpo",[0.19,1,0.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[0.6,0.04,0.98,0.335]],["easeOutCirc",[0.075,0.82,0.165,1]],["easeInOutCirc",[0.785,0.135,0.15,0.86]]],function(b,a){A.Easings[a[0]]=J.apply(null,a[1])});var z=A.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var h=0;h<z.Lists.colors.length;h++){var d="color"===z.Lists.colors[h]?"0 0 0 1":"255 255 255 1";z.Hooks.templates[z.Lists.colors[h]]=["Red Green Blue Alpha",d]}var g,b,m;if(N){for(g in z.Hooks.templates){b=z.Hooks.templates[g],m=b[0].split(" ");var l=b[1].match(z.RegEx.valueSplit);"Color"===m[0]&&(m.push(m.shift()),l.push(l.shift()),z.Hooks.templates[g]=[m.join(" "),l.join(" ")])}}for(g in z.Hooks.templates){b=z.Hooks.templates[g],m=b[0].split(" ");for(var h in m){var c=g+m[h],f=h;z.Hooks.registered[c]=[g,f]}}},getRoot:function(b){var a=z.Hooks.registered[b];return a?a[0]:b},cleanRootPropertyValue:function(b,a){return z.RegEx.valueUnwrap.test(a)&&(a=a.match(z.RegEx.valueUnwrap)[1]),z.Values.isCSSNullValue(a)&&(a=z.Hooks.templates[b][1]),a},extractValue:function(f,c){var d=z.Hooks.registered[f];if(d){var b=d[0],g=d[1];return c=z.Hooks.cleanRootPropertyValue(b,c),c.toString().match(z.RegEx.valueSplit)[g]}return c},injectValue:function(h,d,g){var b=z.Hooks.registered[h];if(b){var m=b[0],l=b[1],c,f;return g=z.Hooks.cleanRootPropertyValue(m,g),c=g.toString().match(z.RegEx.valueSplit),c[l]=d,f=c.join(" ")}return g}},Normalizations:{registered:{clip:function(f,c,d){switch(f){case"name":return"clip";case"extract":var b;return z.RegEx.wrappedValueAlreadyExtracted.test(d)?b=d:(b=d.toString().match(z.RegEx.valueUnwrap),b=b?b[1].replace(/,(\s+)?/g," "):d),b;case"inject":return"rect("+d+")"}},blur:function(f,c,d){switch(f){case"name":return"-webkit-filter";case"extract":var b=parseFloat(d);if(!b&&0!==b){var g=d.toString().match(/blur\(([0-9]+[A-z]+)\)/i);b=g?g[1]:0}return b;case"inject":return parseFloat(d)?"blur("+d+")":"none"}},opacity:function(f,c,d){if(8>=N){switch(f){case"name":return"filter";case"extract":var b=d.toString().match(/alpha\(opacity=(.*)\)/i);return d=b?b[1]/100:1;case"inject":return c.style.zoom=1,parseFloat(d)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(d),10)+")"}}else{switch(f){case"name":return"opacity";case"extract":return d;case"inject":return d}}}},register:function(){9>=N||A.State.isGingerbread||(z.Lists.transformsBase=z.Lists.transformsBase.concat(z.Lists.transforms3D));for(var a=0;a<z.Lists.transformsBase.length;a++){!function(){var b=z.Lists.transformsBase[a];z.Normalizations.registered[b]=function(d,c,g){switch(d){case"name":return"transform";case"extract":return K(c)===U||K(c).transformCache[b]===U?/^scale/i.test(b)?1:0:K(c).transformCache[b].replace(/[()]/g,"");case"inject":var f=!1;switch(b.substr(0,b.length-1)){case"translate":f=!/(%|px|em|rem|vw|vh|\d)$/i.test(g);break;case"scal":case"scale":A.State.isAndroid&&K(c).transformCache[b]===U&&1>g&&(g=1),f=!/(\d)$/i.test(g);break;case"skew":f=!/(deg|\d)$/i.test(g);break;case"rotate":f=!/(deg|\d)$/i.test(g)}return f||(K(c).transformCache[b]="("+g+")"),K(c).transformCache[b]}}}()}for(var a=0;a<z.Lists.colors.length;a++){!function(){var b=z.Lists.colors[a];z.Normalizations.registered[b]=function(g,f,l){switch(g){case"name":return b;case"extract":var h;if(z.RegEx.wrappedValueAlreadyExtracted.test(l)){h=l}else{var c,d={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(l)?c=d[l]!==U?d[l]:d.black:z.RegEx.isHex.test(l)?c="rgb("+z.Values.hexToRgb(l).join(" ")+")":/^rgba?\(/i.test(l)||(c=d.black),h=(c||l).toString().match(z.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=N||3!==h.split(" ").length||(h+=" 1"),h;case"inject":return 8>=N?4===l.split(" ").length&&(l=l.split(/\s+/).slice(0,3).join(" ")):3===l.split(" ").length&&(l+=" 1"),(8>=N?"rgb":"rgba")+"("+l.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}}},Names:{camelCase:function(a){return a.replace(/-(\w)/g,function(c,b){return b.toUpperCase()})},SVGAttribute:function(b){var a="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(N||A.State.isAndroid&&!A.State.isChrome)&&(a+="|transform"),new RegExp("^("+a+")$","i").test(b)},prefixCheck:function(f){if(A.State.prefixMatches[f]){return[A.State.prefixMatches[f],!0]}for(var c=["","Webkit","Moz","ms","O"],d=0,b=c.length;b>d;d++){var g;if(g=0===d?f:c[d]+f.replace(/^\w/,function(a){return a.toUpperCase()}),M.isString(A.State.prefixElement.style[g])){return A.State.prefixMatches[f]=g,[g,!0]}}return[f,!1]}},Values:{hexToRgb:function(f){var c=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,d=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,b;return f=f.replace(c,function(l,h,i,g){return h+h+i+i+g+g}),b=d.exec(f),b?[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]:[0,0,0]},isCSSNullValue:function(a){return 0==a||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(a)},getUnitType:function(a){return/^(rotate|skew)/i.test(a)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(a)?"":"px"},getDisplayType:function(b){var a=b&&b.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(a)?"inline":/^(li)$/i.test(a)?"list-item":/^(tr)$/i.test(a)?"table-row":"block"},addClass:function(b,a){b.classList?b.classList.add(a):b.className+=(b.className.length?" ":"")+a},removeClass:function(b,a){b.classList?b.classList.remove(a):b.className=b.className.toString().replace(new RegExp("(^|\\s)"+a.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(i,a,g,f){function x(V,o){function y(){Y&&z.setPropertyValue(V,"display","none")}var P=0;if(8>=N){P=k.css(V,o)}else{var Y=!1;if(/^(width|height)$/.test(o)&&0===z.getPropertyValue(V,"display")&&(Y=!0,z.setPropertyValue(V,"display",z.Values.getDisplayType(V))),!f){if("height"===o&&"border-box"!==z.getPropertyValue(V,"boxSizing").toString().toLowerCase()){var X=V.offsetHeight-(parseFloat(z.getPropertyValue(V,"borderTopWidth"))||0)-(parseFloat(z.getPropertyValue(V,"borderBottomWidth"))||0)-(parseFloat(z.getPropertyValue(V,"paddingTop"))||0)-(parseFloat(z.getPropertyValue(V,"paddingBottom"))||0);return y(),X}if("width"===o&&"border-box"!==z.getPropertyValue(V,"boxSizing").toString().toLowerCase()){var s=V.offsetWidth-(parseFloat(z.getPropertyValue(V,"borderLeftWidth"))||0)-(parseFloat(z.getPropertyValue(V,"borderRightWidth"))||0)-(parseFloat(z.getPropertyValue(V,"paddingLeft"))||0)-(parseFloat(z.getPropertyValue(V,"paddingRight"))||0);return y(),s}}var W;W=K(V)===U?C.getComputedStyle(V,null):K(V).computedStyle?K(V).computedStyle:K(V).computedStyle=C.getComputedStyle(V,null),(N||A.State.isFirefox)&&"borderColor"===o&&(o="borderTopColor"),P=9===N&&"filter"===o?W.getPropertyValue(o):W[o],(""===P||null===P)&&(P=V.style[o]),y()}if("auto"===P&&/^(top|right|bottom|left)$/i.test(o)){var S=x(V,"position");("fixed"===S||"absolute"===S&&/top|left/i.test(o))&&(P=k(V).position()[o]+"px")}return P}var h;if(z.Hooks.registered[a]){var v=a,t=z.Hooks.getRoot(v);g===U&&(g=z.getPropertyValue(i,z.Names.prefixCheck(t)[0])),z.Normalizations.registered[t]&&(g=z.Normalizations.registered[t]("extract",i,g)),h=z.Hooks.extractValue(v,g)}else{if(z.Normalizations.registered[a]){var b,m;b=z.Normalizations.registered[a]("name",i),"transform"!==b&&(m=x(i,z.Names.prefixCheck(b)[0]),z.Values.isCSSNullValue(m)&&z.Hooks.templates[a]&&(m=z.Hooks.templates[a][1])),h=z.Normalizations.registered[a]("extract",i,m)}}return/^[\d-]/.test(h)||(h=K(i)&&K(i).isSVG&&z.Names.SVGAttribute(a)?/^(height|width)$/i.test(a)?i.getBBox()[a]:i.getAttribute(a):x(i,z.Names.prefixCheck(a)[0])),z.Values.isCSSNullValue(h)&&(h=0),A.debug>=2&&console.log("Get "+a+": "+h),h},setPropertyValue:function(h,b,m,f,d){var t=b;if("scroll"===b){d.container?d.container["scroll"+d.direction]=m:"Left"===d.direction?C.scrollTo(m,d.alternateValue):C.scrollTo(d.alternateValue,m)}else{if(z.Normalizations.registered[b]&&"transform"===z.Normalizations.registered[b]("name",h)){z.Normalizations.registered[b]("inject",h,m),t="transform",m=K(h).transformCache[b]}else{if(z.Hooks.registered[b]){var g=b,p=z.Hooks.getRoot(b);f=f||z.getPropertyValue(h,p),m=z.Hooks.injectValue(g,m,f),b=p}if(z.Normalizations.registered[b]&&(m=z.Normalizations.registered[b]("inject",h,m),b=z.Normalizations.registered[b]("name",h)),t=z.Names.prefixCheck(b)[0],8>=N){try{h.style[t]=m}catch(i){A.debug&&console.log("Browser does not support ["+m+"] for ["+t+"]")}}else{K(h)&&K(h).isSVG&&z.Names.SVGAttribute(b)?h.setAttribute(b,m):h.style[t]=m}A.debug>=2&&console.log("Set "+b+" ("+t+"): "+m)}}return[t,m]},flushTransformCache:function(f){function c(a){return parseFloat(z.getPropertyValue(f,a))}var d="";if((N||A.State.isAndroid&&!A.State.isChrome)&&K(f).isSVG){var b={translate:[c("translateX"),c("translateY")],skewX:[c("skewX")],skewY:[c("skewY")],scale:1!==c("scale")?[c("scale"),c("scale")]:[c("scaleX"),c("scaleY")],rotate:[c("rotateZ"),0,0]};k.each(K(f).transformCache,function(a){/^translate/i.test(a)?a="translate":/^scale/i.test(a)?a="scale":/^rotate/i.test(a)&&(a="rotate"),b[a]&&(d+=a+"("+b[a].join(" ")+") ",delete b[a])})}else{var h,g;k.each(K(f).transformCache,function(a){return h=K(f).transformCache[a],"transformPerspective"===a?(g=h,!0):(9===N&&"rotateZ"===a&&(a="rotate"),void (d+=a+h+" "))}),g&&(d="perspective"+g+" "+d)}z.setPropertyValue(f,"transform",d)}};z.Hooks.register(),z.Normalizations.register(),A.hook=function(c,a,b){var d=U;return c=G(c),k.each(c,function(g,h){if(K(h)===U&&A.init(h),b===U){d===U&&(d=A.CSS.getPropertyValue(h,a))}else{var f=A.CSS.setPropertyValue(h,a,b);"transform"===f[0]&&A.CSS.flushTransformCache(h),d=f}}),d};var j=function(){function ae(){return ad?aa.promise||null:af}function y(){function h(aB){function aA(aG,aE){var aF=U,aH=U,aD=U;return M.isArray(aG)?(aF=aG[0],!M.isArray(aG[1])&&/^[\d-]/.test(aG[1])||M.isFunction(aG[1])||z.RegEx.isHex.test(aG[1])?aD=aG[1]:(M.isString(aG[1])&&!z.RegEx.isHex.test(aG[1])||M.isArray(aG[1]))&&(aH=aE?aG[1]:B(aG[1],d.duration),aG[2]!==U&&(aD=aG[2]))):aF=aG,aE||(aH=aH||d.easing),M.isFunction(aF)&&(aF=aF.call(m,a,u)),M.isFunction(aD)&&(aD=aD.call(m,a,u)),[aF||0,aH,aD]}function aC(aG,aE){var aF,aD;return aD=(aE||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(aH){return aF=aH,""}),aF||(aF=z.Values.getUnitType(aG)),[aD,aF]}function ay(){var aH={myParent:m.parentNode||E.body,position:z.getPropertyValue(m,"position"),fontSize:z.getPropertyValue(m,"fontSize")},aE=aH.position===p.lastPosition&&aH.myParent===p.lastParent,aI=aH.fontSize===p.lastFontSize;p.lastParent=aH.myParent,p.lastPosition=aH.position,p.lastFontSize=aH.fontSize;var aG=100,aD={};if(aI&&aE){aD.emToPx=p.lastEmToPx,aD.percentToPxWidth=p.lastPercentToPxWidth,aD.percentToPxHeight=p.lastPercentToPxHeight}else{var aF=K(m).isSVG?E.createElementNS("http://www.w3.org/2000/svg","rect"):E.createElement("div");A.init(aF),aH.myParent.appendChild(aF),k.each(["overflow","overflowX","overflowY"],function(aK,aJ){A.CSS.setPropertyValue(aF,aJ,"hidden")}),A.CSS.setPropertyValue(aF,"position",aH.position),A.CSS.setPropertyValue(aF,"fontSize",aH.fontSize),A.CSS.setPropertyValue(aF,"boxSizing","content-box"),k.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(aK,aJ){A.CSS.setPropertyValue(aF,aJ,aG+"%")}),A.CSS.setPropertyValue(aF,"paddingLeft",aG+"em"),aD.percentToPxWidth=p.lastPercentToPxWidth=(parseFloat(z.getPropertyValue(aF,"width",null,!0))||1)/aG,aD.percentToPxHeight=p.lastPercentToPxHeight=(parseFloat(z.getPropertyValue(aF,"height",null,!0))||1)/aG,aD.emToPx=p.lastEmToPx=(parseFloat(z.getPropertyValue(aF,"paddingLeft"))||1)/aG,aH.myParent.removeChild(aF)}return null===p.remToPx&&(p.remToPx=parseFloat(z.getPropertyValue(E.body,"fontSize"))||16),null===p.vwToPx&&(p.vwToPx=parseFloat(C.innerWidth)/100,p.vhToPx=parseFloat(C.innerHeight)/100),aD.remToPx=p.remToPx,aD.vwToPx=p.vwToPx,aD.vhToPx=p.vhToPx,A.debug>=1&&console.log("Unit ratios: "+JSON.stringify(aD),m),aD}if(d.begin&&0===a){try{d.begin.call(ac,ac)}catch(an){setTimeout(function(){throw an},1)}}if("scroll"===X){var ah=/^x$/i.test(d.axis)?"Left":"Top",av=parseFloat(d.offset)||0,V,ar,at;d.container?M.isWrapped(d.container)||M.isNode(d.container)?(d.container=d.container[0]||d.container,V=d.container["scroll"+ah],at=V+k(m).position()[ah.toLowerCase()]+av):d.container=null:(V=A.State.scrollAnchor[A.State["scrollProperty"+ah]],ar=A.State.scrollAnchor[A.State["scrollProperty"+("Left"===ah?"Top":"Left")]],at=k(m).offset()[ah.toLowerCase()]+av),b={scroll:{rootPropertyValue:!1,startValue:V,currentValue:V,endValue:at,unitType:"",easing:d.easing,scrollData:{container:d.container,direction:ah,alternateValue:ar}},element:m},A.debug&&console.log("tweensContainer (scroll): ",b.scroll,m)}else{if("reverse"===X){if(!K(m).tweensContainer){return void k.dequeue(m,d.queue)}"none"===K(m).opts.display&&(K(m).opts.display="auto"),"hidden"===K(m).opts.visibility&&(K(m).opts.visibility="visible"),K(m).opts.loop=!1,K(m).opts.begin=null,K(m).opts.complete=null,i.easing||delete d.easing,i.duration||delete d.duration,d=k.extend({},K(m).opts,d);var az=k.extend(!0,{},K(m).tweensContainer);for(var ap in az){if("element"!==ap){var ak=az[ap].startValue;az[ap].startValue=az[ap].currentValue=az[ap].endValue,az[ap].endValue=ak,M.isEmptyObject(i)||(az[ap].easing=d.easing),A.debug&&console.log("reverse tweensContainer ("+ap+"): "+JSON.stringify(az[ap]),m)}}b=az}else{if("start"===X){var az;K(m).tweensContainer&&K(m).isAnimating===!0&&(az=K(m).tweensContainer),k.each(ag,function(aJ,aM){if(RegExp("^"+z.Lists.colors.join("$|^")+"$").test(aJ)){var aD=aA(aM,!0),aG=aD[0],aF=aD[1],aI=aD[2];if(z.RegEx.isHex.test(aG)){for(var aN=["Red","Green","Blue"],aH=z.Values.hexToRgb(aG),aL=aI?z.Values.hexToRgb(aI):U,aK=0;aK<aN.length;aK++){var aE=[aH[aK]];aF&&aE.push(aF),aL!==U&&aE.push(aL[aK]),ag[aJ+aN[aK]]=aE}delete ag[aJ]}}});for(var aj in ag){var am=aA(ag[aj]),ax=am[0],al=am[1],ao=am[2];aj=z.Names.camelCase(aj);var aw=z.Hooks.getRoot(aj),P=!1;if(K(m).isSVG||z.Names.prefixCheck(aw)[1]!==!1||z.Normalizations.registered[aw]!==U){(d.display!==U&&null!==d.display&&"none"!==d.display||d.visibility!==U&&"hidden"!==d.visibility)&&/opacity|filter/.test(aj)&&!ao&&0!==ax&&(ao=0),d._cacheValues&&az&&az[aj]?(ao===U&&(ao=az[aj].endValue+az[aj].unitType),P=K(m).rootPropertyValueCache[aw]):z.Hooks.registered[aj]?ao===U?(P=z.getPropertyValue(m,aw),ao=z.getPropertyValue(m,aj,P)):P=z.Hooks.templates[aw][1]:ao===U&&(ao=z.getPropertyValue(m,aj));var aq,au,s,l=!1;if(aq=aC(aj,ao),ao=aq[0],s=aq[1],aq=aC(aj,ax),ax=aq[0].replace(/^([+-\/*])=/,function(aE,aD){return l=aD,""}),au=aq[1],ao=parseFloat(ao)||0,ax=parseFloat(ax)||0,"%"===au&&(/^(fontSize|lineHeight)$/.test(aj)?(ax/=100,au="em"):/^scale/.test(aj)?(ax/=100,au=""):/(Red|Green|Blue)$/i.test(aj)&&(ax=ax/100*255,au="")),/[\/*]/.test(l)){au=s}else{if(s!==au&&0!==ao){if(0===ax){au=s}else{f=f||ay();var ai=/margin|padding|left|right|width|text|word|letter/i.test(aj)||/X$/.test(aj)||"x"===aj?"x":"y";switch(s){case"%":ao*="x"===ai?f.percentToPxWidth:f.percentToPxHeight;break;case"px":break;default:ao*=f[s+"ToPx"]}switch(au){case"%":ao*=1/("x"===ai?f.percentToPxWidth:f.percentToPxHeight);break;case"px":break;default:ao*=1/f[au+"ToPx"]}}}}switch(l){case"+":ax=ao+ax;break;case"-":ax=ao-ax;break;case"*":ax=ao*ax;break;case"/":ax=ao/ax}b[aj]={rootPropertyValue:P,startValue:ao,currentValue:ao,endValue:ax,unitType:au,easing:al},A.debug&&console.log("tweensContainer ("+aj+"): "+JSON.stringify(b[aj]),m)}else{A.debug&&console.log("Skipping ["+aw+"] due to a lack of browser support.")}}b.element=m}}}b.element&&(z.Values.addClass(m,"velocity-animating"),g.push(b),""===d.queue&&(K(m).tweensContainer=b,K(m).opts=d),K(m).isAnimating=!0,a===u-1?(A.State.calls.length>10000&&(A.State.calls=H(A.State.calls)),A.State.calls.push([g,ac,d,null,aa.resolver]),A.State.isTicking===!1&&(A.State.isTicking=!0,R())):a++)}var m=this,d=k.extend({},A.defaults,i),b={},f;switch(K(m)===U&&A.init(m),parseFloat(d.delay)&&d.queue!==!1&&k.queue(m,d.queue,function(l){A.velocityQueueEntryFlag=!0,K(m).delayTimer={setTimeout:setTimeout(l,parseFloat(d.delay)),next:l}}),d.duration.toString().toLowerCase()){case"fast":d.duration=200;break;case"normal":d.duration=w;break;case"slow":d.duration=600;break;default:d.duration=parseFloat(d.duration)||1}A.mock!==!1&&(A.mock===!0?d.duration=d.delay=1:(d.duration*=parseFloat(A.mock)||1,d.delay*=parseFloat(A.mock)||1)),d.easing=B(d.easing,d.duration),d.begin&&!M.isFunction(d.begin)&&(d.begin=null),d.progress&&!M.isFunction(d.progress)&&(d.progress=null),d.complete&&!M.isFunction(d.complete)&&(d.complete=null),d.display!==U&&null!==d.display&&(d.display=d.display.toString().toLowerCase(),"auto"===d.display&&(d.display=A.CSS.Values.getDisplayType(m))),d.visibility!==U&&null!==d.visibility&&(d.visibility=d.visibility.toString().toLowerCase()),d.mobileHA=d.mobileHA&&A.State.isMobile&&!A.State.isGingerbread,d.queue===!1?d.delay?setTimeout(h,d.delay):h():k.queue(m,d.queue,function(e,l){return l===!0?(aa.promise&&aa.resolver(ac),!0):(A.velocityQueueEntryFlag=!0,void h(e))}),""!==d.queue&&"fx"!==d.queue||"inprogress"===k.queue(m)[0]||k.dequeue(m)}var Z=arguments[0]&&(k.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||M.isString(arguments[0].properties)),ad,af,Y,ac,ag,i;if(M.isWrapped(this)?(ad=!1,Y=0,ac=this,af=this):(ad=!0,Y=1,ac=Z?arguments[0].elements:arguments[0]),ac=G(ac)){Z?(ag=arguments[0].properties,i=arguments[0].options):(ag=arguments[Y],i=arguments[Y+1]);var u=ac.length,a=0;if("stop"!==ag&&!k.isPlainObject(i)){var S=Y+1;i={};for(var c=S;c<arguments.length;c++){M.isArray(arguments[c])||!/^(fast|normal|slow)$/i.test(arguments[c])&&!/^\d/.test(arguments[c])?M.isString(arguments[c])||M.isArray(arguments[c])?i.easing=arguments[c]:M.isFunction(arguments[c])&&(i.complete=arguments[c]):i.duration=arguments[c]}}var aa={promise:null,resolver:null,rejecter:null};ad&&A.Promise&&(aa.promise=new A.Promise(function(d,b){aa.resolver=d,aa.rejecter=b}));var X;switch(ag){case"scroll":X="scroll";break;case"reverse":X="reverse";break;case"stop":k.each(ac,function(d,b){K(b)&&K(b).delayTimer&&(clearTimeout(K(b).delayTimer.setTimeout),K(b).delayTimer.next&&K(b).delayTimer.next(),delete K(b).delayTimer)});var v=[];return k.each(A.State.calls,function(d,b){b&&k.each(b[1],function(e,h){var f=M.isString(i)?i:"";return i!==U&&b[2].queue!==f?!0:void k.each(ac,function(l,m){m===h&&(i!==U&&(k.each(k.queue(m,f),function(P,s){M.isFunction(s)&&s(null,!0)}),k.queue(m,f,[])),K(m)&&""===f&&k.each(K(m).tweensContainer,function(P,s){s.endValue=s.currentValue}),v.push(d))})})}),k.each(v,function(d,b){F(b,!0)}),aa.promise&&aa.resolver(ac),ae();default:if(!k.isPlainObject(ag)||M.isEmptyObject(ag)){if(M.isString(ag)&&A.Redirects[ag]){var x=k.extend({},i),ab=x.duration,t=x.delay||0;return x.backwards===!0&&(ac=k.extend(!0,[],ac).reverse()),k.each(ac,function(d,b){parseFloat(x.stagger)?x.delay=t+parseFloat(x.stagger)*d:M.isFunction(x.stagger)&&(x.delay=t+x.stagger.call(b,d,u)),x.drag&&(x.duration=parseFloat(ab)||(/^(callout|transition)/.test(ag)?1000:w),x.duration=Math.max(x.duration*(x.backwards?1-d/u:(d+1)/u),0.75*x.duration,200)),A.Redirects[ag].call(b,b,x||{},d,u,ac,aa.promise?aa:U)}),ae()}var o="Velocity: First argument ("+ag+") was not a property map, a known action, or a registered redirect. Aborting.";return aa.promise?aa.rejecter(new Error(o)):console.log(o),ae()}X="start"}var p={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},g=[];k.each(ac,function(d,b){M.isNode(b)&&y.call(b)});var x=k.extend({},A.defaults,i),n;if(x.loop=parseInt(x.loop),n=2*x.loop-1,x.loop){for(var r=0;n>r;r++){var W={delay:x.delay,progress:x.progress};r===n-1&&(W.display=x.display,W.visibility=x.visibility,W.complete=x.complete),j(ac,"reverse",W)}}return ae()}};A=k.extend(j,A),A.animate=j;var q=C.requestAnimationFrame||Q;return A.State.isMobile||E.hidden===U||E.addEventListener("visibilitychange",function(){E.hidden?(q=function(a){return setTimeout(function(){a(!0)},16)},R()):q=C.requestAnimationFrame||Q}),O.Velocity=A,O!==C&&(O.fn.velocity=j,O.fn.velocity.defaults=A.defaults),k.each(["Down","Up"],function(b,a){A.Redirects["slide"+a]=function(y,d,m,h,v,V){var t=k.extend({},d),S=t.begin,P=t.complete,g={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},x={};t.display===U&&(t.display="Down"===a?"inline"===A.CSS.Values.getDisplayType(y)?"inline-block":"block":"none"),t.begin=function(){S&&S.call(v,v);for(var e in g){x[e]=y.style[e];var c=A.CSS.getPropertyValue(y,e);g[e]="Down"===a?[c,0]:[0,c]}x.overflow=y.style.overflow,y.style.overflow="hidden"},t.complete=function(){for(var c in x){y.style[c]=x[c]}P&&P.call(v,v),V&&V.resolver(v)},A(y,g,t)}}),k.each(["In","Out"],function(b,a){A.Redirects["fade"+a]=function(p,d,g,f,m,x){var h=k.extend({},d),v={opacity:"In"===a?1:0},t=h.complete;h.complete=g!==f-1?h.begin=null:function(){t&&t.call(m,m),x&&x.resolver(m)},h.display===U&&(h.display="In"===a?"auto":"none"),A(this,v,h)}}),A}(window.jQuery||window.Zepto||window,window,document)});!function(a){"function"==typeof require&&"object"==typeof exports?module.exports=a():"function"==typeof define&&define.amd?define(["velocity"],a):a()}(function(){return function(q,p,k,b){function f(i,c){var l=[];return i&&c?(h.each([i,c],function(n,e){var o=[];h.each(e,function(s,r){for(;r.toString().length<5;){r="0"+r}o.push(r)}),l.push(o.join(""))}),parseFloat(l[0])>parseFloat(l[1])):!1}if(!q.Velocity||!q.Velocity.Utilities){return void (p.console&&console.log("Velocity UI Pack: Velocity must be loaded first. Aborting."))}var j=q.Velocity,h=j.Utilities,u=j.version,d={major:1,minor:1,patch:0};if(f(d,u)){var g="Velocity UI Pack: You need to update Velocity (jquery.velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity.";throw alert(g),new Error(g)}j.RegisterEffect=j.RegisterUI=function(i,c){function l(v,o,y,x){var z=0,w;h.each(v.nodeType?[v]:v,function(n,e){x&&(y+=n*x),w=e.parentNode,h.each(["height","paddingTop","paddingBottom","marginTop","marginBottom"],function(a,r){z+=parseFloat(j.CSS.getPropertyValue(e,r))})}),j.animate(w,{height:("In"===o?"+":"-")+"="+z},{queue:!1,easing:"ease-in-out",duration:y*("In"===o?0.6:1)})}return j.Redirects[i]=function(w,I,t,z,E,H){function C(){I.display!==b&&"none"!==I.display||!/Out$/.test(i)||h.each(E.nodeType?[E]:E,function(o,n){j.CSS.setPropertyValue(n,"display","none")}),I.complete&&I.complete.call(E,E),H&&H.resolver(E||w)}var e=t===z-1;c.defaultDuration="function"==typeof c.defaultDuration?c.defaultDuration.call(E,E):parseFloat(c.defaultDuration);for(var D=0;D<c.calls.length;D++){var F=c.calls[D],A=F[0],x=I.duration||c.defaultDuration||1000,r=F[1],a=F[2]||{},B={};if(B.duration=x*(r||1),B.queue=I.queue||"",B.easing=a.easing||"ease",B.delay=parseFloat(a.delay)||0,B._cacheValues=a._cacheValues||!0,0===D){if(B.delay+=parseFloat(I.delay)||0,0===t&&(B.begin=function(){I.begin&&I.begin.call(E,E);var n=i.match(/(In|Out)$/);n&&"In"===n[0]&&A.opacity!==b&&h.each(E.nodeType?[E]:E,function(s,o){j.CSS.setPropertyValue(o,"opacity",0)}),I.animateParentHeight&&n&&l(E,n[0],x+B.delay,I.stagger)}),null!==I.display){if(I.display!==b&&"none"!==I.display){B.display=I.display}else{if(/In$/.test(i)){var G=j.CSS.Values.getDisplayType(w);B.display="inline"===G?"inline-block":G}}}I.visibility&&"hidden"!==I.visibility&&(B.visibility=I.visibility)}D===c.calls.length-1&&(B.complete=function(){if(c.reset){for(var n in c.reset){var v=c.reset[n];j.CSS.Hooks.registered[n]!==b||"string"!=typeof v&&"number"!=typeof v||(c.reset[n]=[c.reset[n],c.reset[n]])}var o={duration:0,queue:!1};e&&(o.complete=C),j.animate(w,c.reset,o)}else{e&&C()}},"hidden"===I.visibility&&(B.visibility=I.visibility)),j.animate(w,A,B)}},j},j.RegisterEffect.packagedEffects={"callout.bounce":{defaultDuration:550,calls:[[{translateY:-30},0.25],[{translateY:0},0.125],[{translateY:-15},0.125],[{translateY:0},0.25]]},"callout.shake":{defaultDuration:800,calls:[[{translateX:-11},0.125],[{translateX:11},0.125],[{translateX:-11},0.125],[{translateX:11},0.125],[{translateX:-11},0.125],[{translateX:11},0.125],[{translateX:-11},0.125],[{translateX:0},0.125]]},"callout.flash":{defaultDuration:1100,calls:[[{opacity:[0,"easeInOutQuad",1]},0.25],[{opacity:[1,"easeInOutQuad"]},0.25],[{opacity:[0,"easeInOutQuad"]},0.25],[{opacity:[1,"easeInOutQuad"]},0.25]]},"callout.pulse":{defaultDuration:825,calls:[[{scaleX:1.1,scaleY:1.1},0.5],[{scaleX:1,scaleY:1},0.5]]},"callout.swing":{defaultDuration:950,calls:[[{rotateZ:15},0.2],[{rotateZ:-10},0.2],[{rotateZ:5},0.2],[{rotateZ:-5},0.2],[{rotateZ:0},0.2]]},"callout.tada":{defaultDuration:1000,calls:[[{scaleX:0.9,scaleY:0.9,rotateZ:-3},0.1],[{scaleX:1.1,scaleY:1.1,rotateZ:3},0.1],[{scaleX:1.1,scaleY:1.1,rotateZ:-3},0.1],["reverse",0.125],["reverse",0.125],["reverse",0.125],["reverse",0.125],["reverse",0.125],[{scaleX:1,scaleY:1,rotateZ:0},0.2]]},"transition.fadeIn":{defaultDuration:500,calls:[[{opacity:[1,0]}]]},"transition.fadeOut":{defaultDuration:500,calls:[[{opacity:[0,1]}]]},"transition.flipXIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateY:[0,-55]}]],reset:{transformPerspective:0}},"transition.flipXOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateY:55}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipYIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateX:[0,-45]}]],reset:{transformPerspective:0}},"transition.flipYOut":{defaultDuration:800,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateX:25}]],reset:{transformPerspective:0,rotateX:0}},"transition.flipBounceXIn":{defaultDuration:900,calls:[[{opacity:[0.725,0],transformPerspective:[400,400],rotateY:[-10,90]},0.5],[{opacity:0.8,rotateY:10},0.25],[{opacity:1,rotateY:0},0.25]],reset:{transformPerspective:0}},"transition.flipBounceXOut":{defaultDuration:800,calls:[[{opacity:[0.9,1],transformPerspective:[400,400],rotateY:-10},0.5],[{opacity:0,rotateY:90},0.5]],reset:{transformPerspective:0,rotateY:0}},"transition.flipBounceYIn":{defaultDuration:850,calls:[[{opacity:[0.725,0],transformPerspective:[400,400],rotateX:[-10,90]},0.5],[{opacity:0.8,rotateX:10},0.25],[{opacity:1,rotateX:0},0.25]],reset:{transformPerspective:0}},"transition.flipBounceYOut":{defaultDuration:800,calls:[[{opacity:[0.9,1],transformPerspective:[400,400],rotateX:-15},0.5],[{opacity:0,rotateX:90},0.5]],reset:{transformPerspective:0,rotateX:0}},"transition.swoopIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["100%","50%"],transformOriginY:["100%","100%"],scaleX:[1,0],scaleY:[1,0],translateX:[0,-700],translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%"}},"transition.swoopOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformOriginX:["50%","100%"],transformOriginY:["100%","100%"],scaleX:0,scaleY:0,translateX:-700,translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%",scaleX:1,scaleY:1,translateX:0}},"transition.whirlIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,0],scaleY:[1,0],rotateY:[0,160]},1,{easing:"easeInOutSine"}]]},"transition.whirlOut":{defaultDuration:750,calls:[[{opacity:[0,"easeInOutQuint",1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:0,scaleY:0,rotateY:160},1,{easing:"swing"}]],reset:{scaleX:1,scaleY:1,rotateY:0}},"transition.shrinkIn":{defaultDuration:750,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,1.5],scaleY:[1,1.5],translateZ:0}]]},"transition.shrinkOut":{defaultDuration:600,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:1.3,scaleY:1.3,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.expandIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,0.625],scaleY:[1,0.625],translateZ:0}]]},"transition.expandOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:0.5,scaleY:0.5,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.bounceIn":{defaultDuration:800,calls:[[{opacity:[1,0],scaleX:[1.05,0.3],scaleY:[1.05,0.3]},0.4],[{scaleX:0.9,scaleY:0.9,translateZ:0},0.2],[{scaleX:1,scaleY:1},0.5]]},"transition.bounceOut":{defaultDuration:800,calls:[[{scaleX:0.95,scaleY:0.95},0.35],[{scaleX:1.1,scaleY:1.1,translateZ:0},0.35],[{opacity:[0,1],scaleX:0.3,scaleY:0.3},0.3]],reset:{scaleX:1,scaleY:1}},"transition.bounceUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[-30,1000]},0.6,{easing:"easeOutCirc"}],[{translateY:10},0.2],[{translateY:0},0.2]]},"transition.bounceUpOut":{defaultDuration:1000,calls:[[{translateY:20},0.2],[{opacity:[0,"easeInCirc",1],translateY:-1000},0.8]],reset:{translateY:0}},"transition.bounceDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[30,-1000]},0.6,{easing:"easeOutCirc"}],[{translateY:-10},0.2],[{translateY:0},0.2]]},"transition.bounceDownOut":{defaultDuration:1000,calls:[[{translateY:-20},0.2],[{opacity:[0,"easeInCirc",1],translateY:1000},0.8]],reset:{translateY:0}},"transition.bounceLeftIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[30,-1250]},0.6,{easing:"easeOutCirc"}],[{translateX:-10},0.2],[{translateX:0},0.2]]},"transition.bounceLeftOut":{defaultDuration:750,calls:[[{translateX:30},0.2],[{opacity:[0,"easeInCirc",1],translateX:-1250},0.8]],reset:{translateX:0}},"transition.bounceRightIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[-30,1250]},0.6,{easing:"easeOutCirc"}],[{translateX:10},0.2],[{translateX:0},0.2]]},"transition.bounceRightOut":{defaultDuration:750,calls:[[{translateX:-30},0.2],[{opacity:[0,"easeInCirc",1],translateX:1250},0.8]],reset:{translateX:0}},"transition.slideUpIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,20],translateZ:0}]]},"transition.slideUpOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:-20,translateZ:0}]],reset:{translateY:0}},"transition.slideDownIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,-20],translateZ:0}]]},"transition.slideDownOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:20,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftIn":{defaultDuration:1000,calls:[[{opacity:[1,0],translateX:[0,-20],translateZ:0}]]},"transition.slideLeftOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:-20,translateZ:0}]],reset:{translateX:0}},"transition.slideRightIn":{defaultDuration:1000,calls:[[{opacity:[1,0],translateX:[0,20],translateZ:0}]]},"transition.slideRightOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:20,translateZ:0}]],reset:{translateX:0}},"transition.slideUpBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,75],translateZ:0}]]},"transition.slideUpBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:-75,translateZ:0}]],reset:{translateY:0}},"transition.slideDownBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,-75],translateZ:0}]]},"transition.slideDownBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:75,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,-75],translateZ:0}]]},"transition.slideLeftBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:-75,translateZ:0}]],reset:{translateX:0}},"transition.slideRightBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,75],translateZ:0}]]},"transition.slideRightBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:75,translateZ:0}]],reset:{translateX:0}},"transition.perspectiveUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:[0,-180]}]]},"transition.perspectiveUpOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveDownOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveLeftIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2000,2000],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveLeftOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2000,2000],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}},"transition.perspectiveRightIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2000,2000],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveRightOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2000,2000],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}}};for(var m in j.RegisterEffect.packagedEffects){j.RegisterEffect(m,j.RegisterEffect.packagedEffects[m])}j.RunSequence=function(e){var c=h.extend(!0,[],e);c.length>1&&(h.each(c.reverse(),function(a,v){var l=c[a+1];if(l){var x=v.options&&v.options.sequenceQueue===!1?"begin":"complete",i=l.options&&l.options[x],w={};w[x]=function(){var n=l.elements.nodeType?[l.elements]:l.elements;i&&i.call(n,n),j(v)},l.options=h.extend({},l.options,w)}}),c.reverse()),j(c[0])}}(window.jQuery||window.Zepto||window,window,document)});
$(document).ready(function(){});
var ProductDetail=(function(b){var a=function(){document.title=jQuery("<p>"+document.title+"</p>").text();b("meta[name=description]").attr("content",jQuery("<p>"+b('meta[name="description"]').attr("content")+"</p>").text());function u(){b(".gallery .video .video-container iframe").remove();b(".gallery .video .video-container").hide();b(".gallery .video img").show()}if(window.location.hash){var c=window.location.hash.substring(1);if(b('.shortcuts ul.sub li.sub a[data-section="'+c+'"]').length>0){b(".gallery .content.mainPDP, .mainPDP-wrapper").hide();b(".gallery .content.subPDP, .subPDP-wrapper").show();b(".subPDP-wrapper .subPDP-section."+c).show();if(b(".mobile-detector").css("display")!=="block"){b(".gallery").css("height","135px")}else{b(".gallery").css("height","48px")}setTimeout(function(){b("#htc-main").css("visibility","visible")},250)}else{b("#htc-main").css("visibility","visible")}}else{b("#htc-main").css("visibility","visible")}b(".share .share-icon").click(function(){var i=b(".share").height();if(i=="170"){b(".share").animate({height:"55px"})}else{b(".share").animate({height:"170px"})}});b(".gallery .summary .thumbnails li:first-child").addClass("active");if(b(".gallery .gallery-slides > ul > li").length==1){b(".gallery .gallery-arrow").css("visibility","hidden")}b('.gallery .gallery-slides li[data-mobile="show"]').each(function(){b(this).clone().appendTo(".gallery .gallery-slides-mobile ul")});if(b(".gallery .gallery-slides-mobile > ul > li").length==1){b(".gallery .gallery-arrow-mobile, .gallery .gallery-dots-mobile").hide()}function r(i){b(".gallery .gallery-arrow").click(function(){u();b(".gallery .gallery-arrow-disable").addClass("active");setTimeout(function(){b(".gallery .gallery-arrow-disable").removeClass("active")},250);if(b(this).hasClass("left")){i.prev()}else{i.next()}});b(".gallery .thumbnails li").click(function(){b(".gallery .thumbnails li").removeClass("active");b(this).addClass("active");var J=(b(".gallery .thumbnails li").index(this))+1;i.scroll(jQuery.jcarousel.intval(J))})}b(".gallery .gallery-slides ul").jcarousel({scroll:1,wrap:"both",animation:200,buttonPrevHTML:null,buttonNextHTML:null,initCallback:r});b(".gallery .video").click(function(){var K=b(this).attr("data-video");var J=b(this).attr("data-videoplayer");if(b(".mobile-detector").css("display")!=="block"){videoWidth="456";videoHeight="295"}else{videoWidth="260";videoHeight="200"}if(J=="youtube"){if(b(".mobile-detector").css("display")!=="block"){var i='<iframe class="youtube-player" type="text/html" width="'+videoWidth+'" height="'+videoHeight+'" src="//www.youtube.com/embed/'+K+'?html5=1&rel=0&modestbranding=1&showinfo=0&autoplay=1&start=0" frameborder="0" allowfullscreen="1"></iframe>'}else{window.open("//www.youtube.com/embed/"+K+"?html5=1&rel=0&modestbranding=1&showinfo=0&autoplay=1&start=0")}}if(J=="youku"){if(b(".mobile-detector").css("display")!=="block"){var i='<iframe height="'+videoHeight+'" width="'+videoWidth+'" src="http://player.youku.com/embed/'+K+'?autoplay=true" frameborder="0" allowfullscreen></iframe>'}else{window.open("http://player.youku.com/embed/"+K+"?autoplay=true")}}if(b(".mobile-detector").css("display")!=="block"){b(this).find("img").hide();b(this).find(".video-container").show();b(this).find(".video-container").html(i)}});var f=b(".gallery .starting-image").attr("src");if(f!==undefined){f=f.replace("01.","##.")}b(".gallery .starting-image").reel({frames:30,preloader:0,images:f,cursor:"pointer",revolution:90,shy:false});b(".gallery .zoom .small-image").jqzoom({title:false,zoomWidth:220,zoomHeight:385});b(".gallery .zoom .zoomWindow").css({top:"55px",left:"300px"});if(b(".gallery .color-picker").length>0){b(".gallery .color-picker .swatches div:first-child").addClass("active");var z=b(".gallery .color-picker .swatches").height();var G=(239-(z/2))+"px";b(".gallery .color-picker .swatches").css("top",G)}b(".gallery .color-picker .swatches div").click(function(){b(".gallery .color-picker .swatches div").removeClass("active");b(this).addClass("active");var i=b(this).attr("data-color");b(".gallery .color-picker .images img").hide();b('.gallery .color-picker .images img[data-color="'+i+'"]').show()});b(".gallery .color-changer").click(function(){var K=b(".gallery-slides-mobile .color-picker .swatches div").length;var M=b(".gallery-slides-mobile .color-picker .swatches div.active");var J=(b(".gallery-slides-mobile .color-picker .swatches div").index(M))+1;if(K==J){var i=1}else{var i=J+1}b(".gallery-slides-mobile .color-picker .swatches div").removeClass("active");b(".gallery-slides-mobile .color-picker .swatches div:nth-child("+i+")").addClass("active");var L=b(".gallery-slides-mobile .color-picker .swatches div:nth-child("+i+")").attr("data-color");b(".gallery-slides-mobile .color-picker .images img").hide();b('.gallery-slides-mobile .color-picker .images img[data-color="'+L+'"]').show()});function g(){var i=b(document).scrollTop();var J=b(".shortcuts-placeholder").position().top;if(i<J){b(".shortcuts").removeClass("sticky");if(b(".mobile-detector").css("display")!=="block"){b("section.back-to-top").removeClass("sticky")}}else{b(".shortcuts").addClass("sticky");if(b(".mobile-detector").css("display")!=="block"){b("section.back-to-top").addClass("sticky")}}}b(window).scroll(function(){g()});g();b(".specs .spec-sheet .value div").removeAttr("style");if(b(".productdetail section.features").length>0){b(".features .mainKSPs .card, .features .subKSPs .card").each(function(){var i=b(this).html();b(".modal ul.cards").append("<li>"+i+"</li>")});function l(){b(".features .cards .image-area img").each(function(){var i=b(this).attr("data-videoid");if(i!==undefined){b(this).parent().find(".play-button").show()}else{b(this).parent().find(".play-button").hide()}})}l();function I(){b("section.features .image-area span, section.features .image-area .play-button, section.features .image-area img").show();b("section.features .image-area .video-frame iframe").remove();l()}function w(i){var L=i.attr("data-videoid");var K=i.attr("data-videoplayer");if((L!==undefined)&&(L!=="")){if(b(".mobile-detector").css("display")!=="block"){videoWidth="456";videoHeight="295"}else{videoWidth="304";videoHeight="221"}if(K=="youtube"){if(b(".mobile-detector").css("display")!=="block"){var J='<iframe class="youtube-player" type="text/html" width="'+videoWidth+'" height="'+videoHeight+'" src="//www.youtube.com/embed/'+L+'?html5=1&rel=0&modestbranding=1&showinfo=0&autoplay=1&start=0" frameborder="0" allowfullscreen="1"></iframe>'}else{window.open("//www.youtube.com/embed/"+L+"?html5=1&rel=0&modestbranding=1&showinfo=0&autoplay=1&start=0")}}if(K=="youku"){if(b(".mobile-detector").css("display")!=="block"){var J='<iframe height="'+videoHeight+'" width="'+videoWidth+'" src="http://player.youku.com/embed/'+L+'?autoplay=true" frameborder="0" allowfullscreen></iframe>'}else{window.open("http://player.youku.com/embed/"+L+"?autoplay=true")}}i.hide();i.parent().find("span").hide();i.parent().find(".play-button").hide();i.parent().find(".video-frame").html(J)}}b(".productdetail section.features .image-area img, .productdetail section.features .image-area .play-button").click(function(){var i=b(this).parent().find("img");w(i)});var E=b(".modal ul.cards li").size();if(E==1){b(".modal .arrow").hide()}b(".features .modal ul.cards li").css("width","640px");b(".features .KSP").click(function(i){if(b(".mobile-detector").css("display")!=="block"){i.preventDefault();b(".features .modal-overlay, .features .modal").fadeIn(250,function(){b(".features .modal .cover").fadeOut(150)})}});b(".features .modal-overlay, .features .close-button").click(function(i){i.preventDefault();b(".features .modal-overlay, .features .modal").fadeOut(250,function(){b(".features .modal .cover").show();I()})})}function H(i){b(".modal .arrow.left").click(function(){i.prev();I()});b(".modal .arrow.right").click(function(){i.next();I()});b(".features .KSP").click(function(){var J=b(this).parent().attr("class");var K=b(".features ."+J+" a.KSP").index(this);if(J=="mainKSPs"){K=K+1}else{K=K+4}i.scroll(jQuery.jcarousel.intval(K))})}b(".modal ul.carousel").jcarousel({scroll:1,wrap:"circular",animation:200,buttonPrevHTML:null,buttonNextHTML:null,initCallback:H,itemFallbackDimension:295});if(b(".productdetail section.reviews").length>0){b(".reviews .rating-property").each(function(){var i=b(this).find(".score").html();if(i==""){b(this).hide()}});var d=b(".reviews .stars-insert").html();b(".reviews .ratings-stars .stars").append(d);b(".reviews .stars-insert").remove();var D=b(".reviews .rating-property:first-child .stars .star.first").width();var j=b(".reviews .rating-property:first-child .stars .star.first").css("border-right-width");if(j!==undefined){j=parseInt(j.replace("px",""))}var h=0;b(".ratings-stars .score").each(function(){var L=b(this).html();var i=Math.floor(L);var K=L-i;var J=Math.round((i*D)+(i*j)+(K*D))+"px";b(this).next(".green-bar").css("width",J);h+=Number(L);return h});b(".overall-rating span.average").text(parseFloat(b(".overall-rating span.average").text()).toFixed(1))}function s(){var i=b(".accessories ul.product-thumbs > li").length;if(i==1){if(b(".mobile-detector").css("display")!=="block"){b(".accessories ul.product-thumbs").hide();b(".accessories .product-focus").addClass("single")}else{b(".accessories ul.product-thumbs").show();b(".accessories .product-focus").removeClass("single")}}}s();if(b(".productdetail section.accessories").length>0){b(".accessories .product-thumbs li:first-child").addClass("active");b(".accessories .product-thumbs li").click(function(J){if(b(".mobile-detector").css("display")!=="block"){J.preventDefault();if(b(this).hasClass("active")){}else{b(".accessories .product-thumbs li").removeClass("active");b(this).addClass("active");var i=(b(".accessories .product-thumbs li").index(this))+1;b(".product-focus ul li").fadeOut(250);b(".product-focus ul li:nth-child("+i+")").fadeIn(250)}}})}if(b(".productdetail section.video-tips").length>0){b(".video-tips .video-thumbs ul li:first-child").addClass("active");function o(J,P){b(".video-tips .video-player").find("iframe").remove();if(b(".mobile-detector").css("display")!=="block"){var Q="534";var O="300"}else{var Q="304";var O="200"}var i=b(".video-tips .video-thumbs ul > li:nth-child("+J+")").attr("data-video");var M=b(".video-tips .video-thumbs ul > li:nth-child("+J+")").attr("data-videoplayer");if(M=="youtube"){if(b(".mobile-detector").css("display")!=="block"){var K='<iframe class="youtube-player" type="text/html" width="'+Q+'" height="'+O+'" src="//www.youtube.com/embed/'+i+"?html5=1&rel=0&modestbranding=1&showinfo=0&autoplay="+P+'&start=0&wmode=opaque" frameborder="0" allowfullscreen="1"></iframe>'}else{var K='<a class="mobile-video-overlay" target="_blank" href="https://www.youtube.com/watch?v='+i+'"><img src="http://img.youtube.com/vi/'+i+'/0.jpg" height="'+O+'" width="'+Q+'" alt="" /></a>'}}if(M=="youku"){if(P==0){P="false"}else{P="true"}var K='<iframe height="'+O+'" width="'+Q+'" src="http://player.youku.com/embed/'+i+"?autoplay="+P+'" frameborder="0" allowfullscreen></iframe>'}b(".video-tips .video-player iframe").remove();b(".video-tips .video-player").html(K);var L=b(".video-tips .video-thumbs ul > li:nth-child("+J+") .title").html();var N=b(".video-tips .video-thumbs ul > li:nth-child("+J+") .description").html();b(".video-tips .video-description .video-title").html(L);b(".video-tips .video-description p").html(N)}o(1,0);b(".video-tips .video-thumbs li").click(function(L){L.preventDefault();var i=b(window).scrollTop();var J=b("section.video-tips > a").position();J=(J.top)-38;if(b(this).hasClass("active")){}else{b(".video-tips .video-thumbs li").removeClass("active");b(this).addClass("active");var K=(b(".video-tips .video-thumbs ul li").index(this))+1;if(i==J){o(K,1)}else{setTimeout(function(){o(K,1)},520)}}})}b(".specs table").find("div").removeAttr("style");function y(M){var L=b(M).attr("href");if(L!==undefined){L=L.replace("#","")}var N=b(M).attr("data-scroll");if(N!==undefined&&L!==false){var i=N}else{var i=L}var K=b("a[name="+i+"]").position();if(K!==undefined){var J=K.top;if(b(".mobile-detector").css("display")!=="block"){J=J-38}b("html, body").animate({scrollTop:J},500,function(){if(b(M).hasClass("main-nav-button")){window.location.hash="/"}else{window.location.hash=L}})}}b(".scroll-button").click(function(i){var J=this;if(b(".mobile-detector").css("display")!=="block"){i.preventDefault();if(b(this).hasClass("restore-mainPDP")){if(b(".gallery .content.subPDP").is(":visible")){setTimeout(function(){y(J)},500);setTimeout(function(){b(".gallery .content.mainPDP").show();b(".gallery .content.subPDP").hide()},350);b(".gallery").animate({height:480,duration:300});b(".mainPDP-wrapper").fadeIn(300);b(".subPDP-wrapper > section").fadeOut(300)}else{y(this)}}else{y(this)}}else{if(b(this).hasClass("KSP")){}else{i.preventDefault();if(b(this).hasClass("back-to-top")){y(J)}else{setTimeout(function(){y(J)},350)}}}});b(".shortcuts .subpage-button").click(function(i){i.preventDefault()});b(".shortcuts .more ul li a, .show-subpage").click(function(L){L.preventDefault();var K=b(this).attr("data-section");var i=b(document).scrollTop();if(i==0){var J=0}else{var J=600}setTimeout(function(){if(b(".gallery .content.subPDP").is(":hidden")){b(".gallery .content.mainPDP").hide();b(".mainPDP-wrapper").fadeOut(300);b(".gallery").animate({height:135,duration:300});b(".gallery .content.subPDP").show()}if(b(".subPDP-wrapper > section."+K).is(":hidden")){b(".subPDP-wrapper > section").hide();b(".subPDP-wrapper, .subPDP-wrapper > section."+K).show()}},J)});function x(){if(b(".mobile-detector").css("display")=="block"){b(".features .content .card").css("width","304px")}}b(window).load(function(){x()});x();function C(){if(navigator.userAgent.match(/MSIE/i)||navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/Windows Phone/i)){return true}else{return false}}if(C()==true){b("body.productdetail .gallery .mobile-nav").hide()}if(b(".mobile-detector").css("display")=="block"){b("body").click(function(){b(".gallery .mobile-nav nav ul").slideUp(300,function(){b(".gallery .mobile-nav nav").removeClass("active")})});b('.gallery .mobile-nav li[data-mobile="false"]').hide();b(".gallery .mobile-nav .tab").click(function(i){i.stopPropagation();if(b(".gallery .mobile-nav nav").hasClass("active")){b(".gallery .mobile-nav nav ul").slideUp(300,function(){b(".gallery .mobile-nav nav").removeClass("active")})}else{b(".gallery .mobile-nav nav ul").slideDown(300,function(){b(".gallery .mobile-nav nav").addClass("active")})}})}b(".gallery .mobile-nav ul li, .gallery .subPDP .subpage-header").click(function(K){K.preventDefault();if(b(".mobile-detector").css("display")=="block"){var i=b(this).attr("data-expand");if(typeof i!=="undefined"&&i!==false){b('body section[data-section="'+i+'"]').show();b('.accordion-label[data-section="'+i+'"]').hide()}b(".gallery .mobile-nav nav ul").slideUp(300);b(".gallery .mobile-nav nav").toggleClass("active");if(b(this).hasClass("main")||b(this).hasClass("restore-mainPDP")){b(".gallery .subPDP, .subPDP-wrapper").hide();b(".gallery .mainPDP, .mainPDP-wrapper").show();b(".gallery").css("height","365px");if(b(this).hasClass("restore-mainPDP")){b(".gallery .mobile-nav nav ul").slideUp(300,function(){b(".gallery .mobile-nav nav").removeClass("active")})}}else{b(".gallery .mainPDP, .mainPDP-wrapper").hide();b(".gallery .subPDP, .subPDP-wrapper").show();b(".gallery").css("height","48px");var J=b(this).find("a").attr("data-section");b(".subPDP-wrapper > section").hide();b(".subPDP-wrapper > section."+J).show()}}});var p=b(".gallery .gallery-slides-mobile ul li").length;for(var B=0;B<p;B++){b(".gallery .gallery-dots-mobile ul").append("<li></li>")}b(".gallery .gallery-dots-mobile ul li:first-child").addClass("active");function n(){if(b(".mobile-detector").css("display")=="block"){setTimeout(function(){var i=(((b("body").width())-320)/2)+30;var J=b(".gallery-slides-mobile ul > .color-picker-slide").offset();if(J!=undefined){var K=Math.abs(J.left);if(K<i){b(".gallery .color-changer").show()}else{b(".gallery .color-changer").hide()}}},300)}}if(b(".mobile-detector").css("display")=="block"){n()}function F(){var i=b(".gallery .gallery-dots-mobile li.active").removeClass("active").next();if(i.length){i.addClass("active")}else{b(".gallery .gallery-dots-mobile li:nth-child(1)").addClass("active")}}function t(){var i=b(".gallery .gallery-dots-mobile li.active").removeClass("active").prev();if(i.length){i.addClass("active")}else{b(".gallery .gallery-dots-mobile li:last-child").addClass("active")}}function k(){b(".gallery .gallery-arrow-mobile-disable").addClass("active");setTimeout(function(){b(".gallery .gallery-arrow-mobile-disable").removeClass("active")},250)}function m(i){b(".gallery .gallery-arrow-mobile.right").click(function(){u();k();F();i.next();n()});b(".gallery .gallery-arrow-mobile.left").click(function(){u();k();t();i.prev();n()});b(".gallery .gallery-slides-mobile").swipe({swipe:function(K,M,N,L,J){if(M=="left"){u();F();i.next();n()}else{if(M=="right"){u();t();i.prev();n()}}}})}if(b(".mobile-detector").css("display")==="block"){b(".gallery .gallery-slides-mobile ul").jcarousel({scroll:1,wrap:"both",animation:200,buttonPrevHTML:null,buttonNextHTML:null,initCallback:m})}b(".features .KSP").click(function(i){if(b(".mobile-detector").css("display")==="block"){i.preventDefault();b(this).hide().next(".card").show();var K=b(this).next(".card").find(".image-area img");var J=K.attr("data-videoid");if((J!==undefined)&&(J!=="")){w(K)}}});b(".features .card .image-area").click(function(i){if(b(".mobile-detector").css("display")==="block"){i.preventDefault();b(this).parent().hide().prev(".KSP").show()}});b(".accordion-label").click(function(J){J.preventDefault();var i=b(this).attr("data-section");b('body section[data-section="'+i+'"]').show();b(this).hide()});b(".collapse-button").click(function(J){J.preventDefault();var i=b(this).attr("data-section");b('body section[data-section="'+i+'"]').hide();b('.accordion-label[data-section="'+i+'"]').show()});var v=document.URL;var e="https://plus.google.com/share?url="+v;var A="https://twitter.com/share?url="+v;var q="https://www.facebook.com/sharer/sharer.php?u="+v;b(".share .google").attr("href",e);b(".share .twitter").attr("href",A);b(".share .facebook").attr("href",q)};a.prototype={constructor:a};return a})(jQuery);
var ProductListing=(function(c){var b=function(){var f={apiversion:"5.1",stats:"NativeReviews",passkey:"e9ybm3vhfhr7zzgeiy9djl2po",limit:100,filter:"productid:"+a().join(",")};c("select.carrier-select").on("change",function(){c("form[name=carrier-form]").submit()});document.title=jQuery("<p>"+document.title+"</p>").text();c("meta[name=description]").attr("content",jQuery("<p>"+c('meta[name="description"]').attr("content")+"</p>").text());var j=[],g;var e=document.URL.split("?")[1];if(e!=undefined){e=e.split("&");for(var h=0;h<e.length;h++){g=e[h].split("=");j.push(g[1]);j[g[0]]=g[1]}}var k=(j.carrier);c("#"+k).prop("selected",true);c("ul.list-container").each(function(n,p){var o=c(this).children().length;c(this).attr("data-product-count",o)});var m=c(document).height();var d=c(window).height();var l=c(document).width();c.fn.equalHeights=function(n,i){tallest=(n)?n:0;this.each(function(){if(c(this).height()>tallest){tallest=c(this).height()}});if((i)&&tallest>i){tallest=i}return this.each(function(){c(this).height(tallest).css("overflow","hidden")})};c(".list-container.main li").equalHeights();c(".list-container.sub li").equalHeights();c("ul.list-container .compare").click(function(p){p.preventDefault();if(!c(this).hasClass("selected")){var o=c(this).closest("li").find("h4").text();var q=c(this).closest("li").find("img").prop("src");var n=c(this).closest("li").attr("data-product-id");var i=c("#compare-tray ul").children().length;if(i<=3){c(this).addClass("selected").css({cursor:"default",opacity:".2"});c("#compare-tray").css("display","block");c("#compare-tray ul").prepend('<li data-product-id="'+n+'"><a class="close">x</a><img src="'+q+'" alt="'+o+'" /><h4>'+o+"</h4></li>");if(i==1){c("#compare-tray li.compare").css("display","none")}else{if(i==3){c(".list-container .options .compare").css({cursor:"default",opacity:".2"});c("#compare-tray li.compare").css("display","inline-block")}else{c("#compare-tray li.compare").css("display","inline-block")}}}}c("#compare-tray .close").on("click",function(r){r.preventDefault();var t=c(this).closest("li").attr("data-product-id");c('ul.list-container li[data-product-id="'+t+'"] .options .compare').removeClass("selected");c(".list-container .options .compare").not(".selected").css({cursor:"cell",opacity:"1"});c(this).closest("li").remove();var s=c("#compare-tray ul").children().length-1;if(s<2){c("#compare-tray li.compare").css("display","none")}else{c("#compare-tray li.compare").css("display","inline-block")}})});c("#compare-tray .compare a.compare-button").on("click",function(r){r.preventDefault();var i=c(document).scrollTop();var q=c("#compare-tray ul li:nth-child(1)").attr("data-product-id");var o=c("#compare-tray ul li:nth-child(2)").attr("data-product-id");if(!c("#compare-tray ul li:nth-child(3)").hasClass("compare")){var p=c("#compare-tray ul li:nth-child(3)").attr("data-product-id")}c("#compare-tray").css("display","none");c("body .main").append('<div id="modal-overlay"></div>');c("#modal-overlay").height(m-c(".htc-header").height()).width(l).css({display:"block"});var s=c("#comparison-table").html();var n=_.template(s,{});c("#specs").html(n);c("#specs").fadeIn("slow").css({display:"block",top:"100px","z-index":"1000",overflow:"hidden"});if(c("html").hasClass("csstransforms")){c("#specs").fadeIn("slow").css({width:"95%"})}else{c("#specs").fadeIn("slow").css({width:"95%",margin:"2% 10%"})}c("html, body").animate({scrollTop:0},0);c("#specs tr td:first-child").css("display","table-cell");c("#specs tr td").each(function(t,u){if((c(this).attr("data-product-id")==q)||(c(this).attr("data-product-id")==o)||(c(this).attr("data-product-id")==p)){c(this).css("display","table-cell")}});c("#full-specs").css({position:"absolute",bottom:0,left:0,"background-color":"#f2f2f2",width:"100%","text-align":"center"});c("#full-specs").on("click",function(){c("#specs").fadeIn("slow").css({height:"auto","margin-bottom":"50px"});c("h4").toggle()});c("#specs .close, #modal-overlay").on("click",function(t){t.preventDefault();c("#specs").fadeOut("slow").css("display","none");c("#specs tr td").fadeOut("slow").css("display","none");c("#modal-overlay").remove();c("#compare-tray").fadeIn("slow").css("display","block")})});c("#compare-tray .compare-close").on("click",function(i){i.preventDefault();c("ul.list-container li .options .compare").removeClass("selected");c(".list-container .options .compare").css({cursor:"cell",opacity:"1"});c("#compare-tray li").not(".compare").remove();c("#compare-tray li.compare").css("display","none")})};function a(){return c(".product-entry").map(function(){return c(this).data("bazaarvoiceid")}).get()}b.prototype={constructor:b};return b})(jQuery);
$(document).ready(function(){if($("body").hasClass("producttips")){document.title=jQuery("<p>"+document.title+"</p>").text();$("meta[name=description]").attr("content",jQuery("<p>"+$('meta[name="description"]').attr("content")+"</p>").text());if($(window).width()>720){$(".mobile-detector").remove()}function b(){if($(".mobile-detector").is(":visible")){return true}else{return false}}if(b()==true){$(".cards.hidden").remove()}function e(){var g=$(window).width();if(g<450){var i=(g-34)/2}else{var i=(g-46)/3}$(".card").css("width",i);var h=g-22;$(".hero").css("width",h);if($("html").hasClass("no-flexbox")){if(g<450){$(".card").css("height","340px")}else{$(".card").css("height","360px")}}}if(b()==true){$(window).resize(function(){e()});$(window).load(function(){e()});e()}if(b()==true){var f=0}else{var f=300}function d(){var h=$(window).width();var g=h-22;$(".modal, .modal .inner-content").css("width",g);$(".card").each(function(){var j=$(this).offset().left;if(j>20){j=j-9}else{j=1}j="-"+j+"px";$(this).find(".modal").css("left",j)});var i=parseInt(g/1.7825);$(".modal iframe").css("height",i)}if(b()==true){$(window).resize(function(){d()});$(window).load(function(){d()});d()}$(".card").click(function(){var g=$(this);if(b()==false){var k=400}else{var k=0}if($(this).find(".modal").is(":hidden")&&$(".modal-overlay").is(":hidden")){$(this).find(".modal").show(f);$(".modal-overlay").show(100);if($(this).find(".modal").hasClass("video")){var j=$(this).find(".modal").attr("data-videoid");var i=$(this).find(".modal").attr("data-videoplayer");if(i=="youtube"){var h='<iframe class="video-player" type="text/html" src="//www.youtube.com/embed/'+j+'?html5=1&rel=0&modestbranding=1&showinfo=0&autoplay=1&start=0" frameborder="0" allowfullscreen="1"></iframe>'}else{var h='<iframe src="http://player.youku.com/embed/'+j+'?autoplay=true" frameborder="0" allowfullscreen="1"></iframe>'}setTimeout(function(){g.find(".modal .inner-content").append(h);if(b()==true){d()}},k)}}});$(".modal .close, .modal .close-alt").click(function(){if(b()==false){var g=350}else{var g=0}$(this).parent().parent().hide(f);$(".modal-overlay").hide(100);if(b()==false){$(".card").addClass("transitioning");setTimeout(function(){$(".card").removeClass("transitioning")},540)}setTimeout(function(){$(".modal iframe").remove()},g)});$(".modal-overlay").click(function(){if(b()==false){var g=350}else{var g=0}$(".modal").hide(f);$(".modal-overlay").hide(100);setTimeout(function(){$(".modal iframe").remove()},g)});if(window.location.hash){var c=window.location.hash;c=c.replace("#","");$(".card[data-hash="+c+"] .modal").show();$(".modal-overlay").show();if(b()==true){var a=$(".card[data-hash="+c+"]").offset().top;$("html, body").scrollTop(a)}}}});
var Regions=(function(b){var a=function(){b(".region-selector ul.sites li a").click(function(){var c=b(this).data("region");if(c&&b(this).text()!="Additional Support"){c=c.substring(1,c.length-1);createCookie("country_code",c,30)}})};a.prototype={constructor:a};return a})(jQuery);
$(document).ready(function(){if($("body").hasClass("reviews")){$("html head").prepend("<script src='https://www.google.com/recaptcha/api.js?fallback=true' async defer><\/script>");var b={init:function(){if($(window).width()>720){if($(".list-area ul").length>0){$(".list-area ul").bxSlider({slideWidth:150,maxSlides:4,nextSelector:"#slider-next",prevSelector:"#slider-prev",nextText:"",prevText:"",pager:false,useCSS:false})}}$(".close-btn").on("click",function(){$(".award-list-block").hide()});$(".desktop-award-see").on("click",function(){$(".award-list-block").show()});$(".hide-all").on("click",function(){$(".list-area").hide();$(this).hide();$(".list-all").show()});$(".list-all").on("click",function(){$(".list-area").show();$(this).hide();$(".hide-all").show()});$(".press-review, .user-review").on("click",function(){$(".nav-item").removeClass("selected");$(this).addClass("selected")});if(!isRecaptchaSupported()){$(".g-recaptcha").hide()}if(isIE9()==true){this.replaceToSelect()}},replaceToSelect:function(){var o=$(".sub-categories .sub-item .range-wrapper input");$(o).each(function(r){var q=$(this).attr("name"),t=$(this).attr("max");var p='<select class="select-rating" name="'+q+'">';p+='<option value="0"> </option>';for(var s=1;s<=t;s++){p+='<option value="'+s+'">'+s+"</option>"}p+="</select>";$(this).replaceWith(p)})}};b.init();var f="#444",m="red";$("html").addClass("reviews");function a(){var o=$(window).width();if(o<999){return true}else{return false}}function h(){var p=window.navigator.userAgent;var o=p.indexOf("MSIE ");if(o>0||!!navigator.userAgent.match(/Trident.*rv\:11\./)){return true}else{return false}}if(h()==true){$(".sub-category meter").hide();$(".sub-category .num-value").show()}if(isiOS()==true){$(".sub-category meter").hide();$(".sub-category .num-value").show()}function g(){$(".sub-category .num-value").each(function(){var p=Number($(this).html());var o=((p/5)*100)+"%";$(this).append('<div class="bar" style="width:'+o+'"></div>')})}g();function i(){var o=$(".total-reviews div span").html();o=o.replace(",","");o=parseInt(o);var p=$(".reviews-list .entry").length;if(o<=p){$(".load-more").addClass("hidden")}}i();function d(){var o=$(window).width();var p=o-40-4-14;$("input.review-title, textarea").css({width:p})}if(a()==true){$(window).on("load resize",function(){d()});d()}$(".stars.selection .star").hover(function(){if(!$(this).parent().hasClass("score-selected")){var o=$(this).attr("data-bar-width");$(this).parent().find(".green-bar").css({width:o})}},function(){if(!$(this).parent().hasClass("score-selected")){$(this).parent().find(".green-bar").css({width:"0"})}});$(".stars.selection .star").click(function(){$(this).parent().addClass("score-selected");var p=$(this).attr("data-rating");$(this).parent().attr("data-score",p);var o=$(this).attr("data-bar-width");$(this).parent().find(".green-bar").css({width:o})});$(".guidelines, .close-guidelines").click(function(o){o.preventDefault();$(".guidelines-copy").toggleClass("show")});$(".confirmation-message .guidelines, .confirmation-message .close-guidelines").click(function(o){o.preventDefault();if(a()==false){if($(".modal").css("height")=="300px"){$(".modal").css("height","550")}else{$(".modal").css("height","300")}}});$("input[type=range]").on("input",function(){var o=$(this).val();if(o>=1){$(this).addClass("active");$(this).parent().parent().children(".display-value").show().html(o);$(this).attr("value",o)}else{$(this).removeClass("active");$(this).parent().parent().children(".display-value").hide().html("");$(this).attr("value","")}});if($("html").hasClass("no-csstransforms3d")){$(".modal .sub-categories input").val("")}function c(){$(".stars.not-processed").each(function(){$(this).removeClass("not-processed");var r=$(this).attr("data-score");var o=Math.floor(r);var q=r-o;var p=Math.round((o*22)+(o*5)+(q*22))+"px";$(this).find(".green-bar").css("width",p)})}c();function n(){if(a()==true){$(".modal-overlay, .modal").show();$("html, body").addClass("freeze")}else{$(".modal-overlay").fadeIn(300);$(".modal").velocity("transition.expandIn",300);$("html, body").animate({scrollTop:0},300)}}function e(){var o=window.location.hash,p=null;if(o.length>1){p=o.indexOf("form=");if(p>0){n()}}}e();$(".button.write-review, #slide-reviews .write-review a.cta-button").click(function(){n()});$(".modal-overlay, .modal .close").click(function(){if(a()==true){$(".modal-overlay, .modal").hide();$("html, body").removeClass("freeze")}else{$(".modal-overlay").fadeOut(300);$(".modal").velocity("transition.expandOut",300)}});$(".outside-link.top-link").click(function(o){o.preventDefault();$("html, body").animate({scrollTop:0},500)});$("form.review-form .stars.selection").on("click",function(){$(this).parent().find(".select-rating-label").css("color",f)});$("form.review-form input.name").on("focusout",function(){if($(this).val().trim()!=""){$(this).removeClass("error")}else{$(this).addClass("error")}});$("form.review-form input.email").on("focusout",function(){if($(this).val().trim()!=""&&isEmail($(this).val().trim())){$(this).removeClass("error")}else{$(this).addClass("error")}});$("form.review-form input.review-title").on("focusout",function(){if($(this).val().trim()!=""){$(this).removeClass("error")}else{$(this).addClass("error")}});$("form.review-form textarea.review-description").on("focusout",function(){if($(this).val().trim()!=""){$(this).removeClass("error")}else{$(this).addClass("error")}});$("form.review-form .recommendation .radio input").click(function(){if($(this).is(":checked")&&$(this).parent().find("input[name=recommend]").val()!="undefined"){$(this).parent().parent().find(".question").css("color",f)}});$(".review-form .submit-area input.button").click(function(P){if(P.preventDefault){P.preventDefault()}else{P.returnValue=false}$("form.review-form input").removeClass("error");$("form.review-form .select-rating-label").css("color",f);$("form.review-form .g-recaptcha").removeClass("error");if(!$(".modal input.button").hasClass("disabled")){var O=$(".modal input.name").val().trim();var y=$(".modal input.email").val().trim();var x=$(".modal input.review-title").val().trim();var E=$(".modal textarea.review-description").val().trim();var s=$(".modal input[name=recommend]:checked").val();var B=$("textarea[name=g-recaptcha-response]").val().trim();if($(".stars.selection").attr("data-score")==0){$(".submit-area .error-message span").hide();$(".submit-area .error-message span.error-rating").show();$("form.review-form .select-rating-label").css("color",m)}else{if(O==""||y==""||x==""||E==""||s==undefined||(B==""&&isRecaptchaSupported())){$(".submit-area .error-message span").hide();$(".submit-area .error-message span.error-incomplete").show();if(O==""){$("form.review-form input.name").addClass("error")}if(y==""){$("form.review-form input.email").addClass("error")}if(x==""){$("form.review-form input.review-title").addClass("error")}if(E==""){$("form.review-form textarea.review-description").addClass("error")}if(s==undefined){$("form.review-form .recommendation .question").css("color",m)}if(B==""&&isRecaptchaSupported()){$("form.review-form .g-recaptcha").addClass("error")}else{$("form.review-form .g-recaptcha").removeClass("error")}}else{if(isEmail(y)==false){$(".submit-area .error-message span").hide();$(".submit-area .error-message span.error-email").show();$("form.review-form input.email").addClass("error")}else{$(".submit-area .error-message").hide();$(".modal .button").addClass("disabled");$(".modal #bowlG").show();var z=new Site(),F=$("meta[name=product_name_id]").attr("content"),r=($(".review-form .checkbox-info input:checked").val()=="yes")?true:false,v=($("form.review-form .recommendation input[name=recommend]:checked").val()=="yes")?true:false;F=(typeof F==="undefined")?"":F;var u=(F=="")?"review-form":(F+"-reviews");if(r){z.subscriptionSubmission("reviews",u,F)}var I=window.location.pathname.split("/"),R="us",Q="en",M=window.navigator.language;var J=$("body").data("site");if(J==undefined){J=R}var H=$("body").data("locale");if(H==undefined){var q=Q}else{var o=H.split("_");var q=o[0]}var K=($("form.review-form select#phone-purchase").val()=="")?"":$("form.review-form select#phone-purchase option:selected").text(),w=(nameID!=""||nameID!="undefined")?nameID:$("form.review-form").data("name-id");var B=$("textarea[name=g-recaptcha-response]").val().trim();if(isIE9()==true){var t=$("form.review-form .sub-categories .range-wrapper select[name=features]"),A=$("form.review-form .sub-categories .range-wrapper select[name=performance]"),L=$("form.review-form .sub-categories .range-wrapper select[name=screen]"),N=$("form.review-form .sub-categories .range-wrapper select[name=battery-life]"),D=$("form.review-form .sub-categories .range-wrapper select[name=camera]"),G=$("form.review-form .sub-categories .range-wrapper select[name=ease-of-use]"),C=$("form.review-form .sub-categories .range-wrapper select[name=design]"),p=$("form.review-form .sub-categories .range-wrapper select[name=sound-quality]"),T=$("form.review-form .sub-categories .range-wrapper select[name=look-and-feel]")}else{var t=$("form.review-form .sub-categories .range-wrapper input[name=features]"),A=$("form.review-form .sub-categories .range-wrapper input[name=performance]"),L=$("form.review-form .sub-categories .range-wrapper input[name=screen]"),N=$("form.review-form .sub-categories .range-wrapper input[name=battery-life]"),D=$("form.review-form .sub-categories .range-wrapper input[name=camera]"),G=$("form.review-form .sub-categories .range-wrapper input[name=ease-of-use]"),C=$("form.review-form .sub-categories .range-wrapper input[name=design]"),p=$("form.review-form .sub-categories .range-wrapper input[name=sound-quality]"),T=$("form.review-form .sub-categories .range-wrapper input[name=look-and-feel]")}var S={country_code:J,language_code:q,product_id:w,rating_overall:$("form.review-form .stars.selection").data("score"),user_display_name:$("form.review-form input.name").val().trim(),user_email:$("form.review-form input.email").val().trim(),review_title:$("form.review-form input.review-title").val().trim(),review_content:$("form.review-form textarea.review-description").val().trim(),review_is_recommended:v,rating_features:($(t).val()=="")?0:$(t).val(),rating_performance:($(A).val()=="")?0:$(A).val(),rating_screen:($(L).val()=="")?0:$(L).val(),rating_battery:($(N).val()=="")?0:$(N).val(),rating_camera:($(D).val()=="")?0:$(D).val(),rating_ease_of_use:($(G).val()=="")?0:$(G).val(),rating_design:($(C).val()=="")?0:$(C).val(),rating_sound_quality:($(p).val()=="")?0:$(p).val(),rating_look:($(T).val()=="")?0:$(T).val(),rating_quality:5,user_store_info:K,user_auth_source:""};$.ajax({type:"GET",url:reviewsWSBaseURL+"/submission/?g-recaptcha-response="+B+"&callback=?",data:S,dataType:"json",jsonp:true,async:true,success:function(U){if(U.status=="success"){$(".review-form").fadeOut(300,function(){$(".modal .confirmation-message").fadeIn(300)});$("html, body").animate({scrollTop:0},300);$("form.review-form input.name").val("");$("form.review-form input.email").val("");$("form.review-form input.review-title").val("");$("form.review-form textarea.review-description").val("")}if(U.status=="failure"){l(U)}if(U.status=="exists"){$("form.review-form #registrationfailure-review").show();$(".error-message .error-rating").hide();$(".error-message .error-incomplete").hide();$(".error-message .error-email").hide();$(".error-message .error-rating-value").hide();$(".error-message .error-rating-exists").show()}},error:function(U){l(U)}})}}}}});function j(){var o=$("body").data("site");var p={site_id:o,name_id:nameID,sort:$("select[name=reviews-sort] option:selected").val(),order:$("select[name=reviews-sort] option:selected").data("order"),offset:offset};$.ajax({type:"GET",url:reviewsWSBaseURL+"/content/?callback=?",data:p,dataType:"json",jsonp:true,async:true,success:function(s){if(s.reviews){offset=offset+10;var q=$.templates("#reviews_template");var r=q.render(s.reviews);$("section.reviews-list .inner-region:nth-child(2)").append(r);c();if(s.reviews.length<10){$(".load-more").hide()}}},error:function(q){}})}$("select[name=reviews-sort]").change(function(){offset=0;$("section.reviews-list .inner-region:nth-child(2)").html("");j()});$(".load-more").click(function(){if(!$(this).hasClass("hidden")){$(this).addClass("disabled");j();$(this).removeClass("disabled")}});function l(p){var o=p.DataInvalidations;key=null;$(".submit-area .error-message").hide();$(".submit-area .error-message span").hide();$(".modal .submit-area input.button").removeClass("disabled");$(".modal #bowlG").hide();if(isIE9()){for(key in o){if((key!=null||key!="")&&(o[key]!="")){k(key)}}}else{for(key in o){if(o.hasOwnProperty(key)){k(key)}}}}function k(o){grecaptcha.reset();$(".error-message").show();switch(o){case"rating_overall":$(".error-message .error-rating").css("display","block");$("form.review-form .select-rating-label").css("color",m);break;case"review_title":$("form.review-form input.review-title").addClass("error");case"review_content":$("form.review-form textarea.review-description").addClass("error");case"user_display_name":$("form.review-form input.name").addClass("error");$(".error-message .error-incomplete").css("display","block");break;case"user_email":$(".error-message .error-email").css("display","block");$("form.review-form input.email").addClass("error");break;case"review_is_recommended":$("form.review-form .recommendation .question").css("color",m);break;case"g-recaptcha-response":$("form.review-form .g-recaptcha").addClass("error");$(".error-message .error-incomplete").css("display","block");break;case"rating_features":case"rating_performance":case"rating_screen":case"rating_battery":case"rating_camera":case"rating_ease_of_use":case"rating_design":case"rating_sound_quality":case"rating_look":$(".error-message .error-rating-value").css("display","block");break;default:$(".error-message .error-rating-exists").show();break}}}});
var windw=this;$.fn.followTo=function(c){var d=this,f=$(windw),e=$(c),b=e.offset().top,g=d.outerHeight(),a=function(){if(f.scrollTop()>(b-g)){d.css({position:"absolute",top:(b-g)})}else{d.css({position:"fixed",top:0})}};f.scroll(a);a()};function getParameterByName(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c=new RegExp("[\\?&]"+a+"=([^&#]*)"),b=c.exec(location.search);return b==null?"":decodeURIComponent(b[1].replace(/\+/g," "))}function createCookie(c,d,e){if(e){var b=new Date();b.setTime(b.getTime()+(e*24*60*60*1000));var a="; expires="+b.toGMTString()}else{var a=""}document.cookie=c+"="+d+a+"; path=/"}function readCookie(b){var e=b+"=";var a=document.cookie.split(";");for(var d=0;d<a.length;d++){var f=a[d];while(f.charAt(0)==" "){f=f.substring(1,f.length)}if(f.indexOf(e)==0){return f.substring(e.length,f.length)}}return null}function eraseCookie(a){createCookie(a,"",-1)}function isMobile(){var a=$(window).width();if(a<=720){return true}else{return false}}function isMobileNavigationOpen(){return($("#htc-site").css("left")==260+"px")}function openMobileNavigation(){$("#htc-site").velocity({left:260+"px"});$(".hamburger").addClass("active");$('#htc-mobile-menu .search input[name$="q"]').val($('.top .search input[name$="q"]').val());$("html, body").css({height:"100%",overflow:"hidden"});$("#htc-site .page-overlay").show()}function closeMobileNavigation(){$("#htc-site").velocity({left:0+"px"});$(".hamburger").removeClass("active");$("html, body").css({height:"auto",overflow:"auto"});$("#htc-site .page-overlay").hide()}function openRegionModal(){$("#region-modal").show();$("#htc-site .page-overlay").show();$("body").css({overflow:"hidden"});$("#htc-mobile-menu").css({opacity:"0"});$("#htc-site .page-overlay").show()}function closeRegionModal(){$("#region-modal").hide();$("#htc-site .page-overlay").hide();$("body").css({overflow:"initial"});$("#htc-mobile-menu").css({opacity:"initial"});$("#htc-site .page-overlay").hide()}function closeBBYQuickView(){}function getTeamsiteLocale(){var a=location.pathname.split("/")[1];a=a.toUpperCase();return a}function isMobileDevice(){var c=navigator.userAgent;var b=false;var a={iphone:c.match(/(iPhone|iPod|iPad)/),blackberry:c.match(/BlackBerry/),android:c.match(/Android/)};if(a.android){b=true;type="android"}else{if(a.iphone){b=true;type="iPad"}else{if(a.blackberry){b=true;type="blackberry"}}}return b}function openRichExperience(i){var a,h,e,g,b,d,c,j;a="http://one.htc.com/experienceit/";var f=getTeamsiteLocale();if(f!=null){a+="?site="+f}if(i!=null){if(f==null){a+="?"}else{a+="&"}a+="view="+i}c=window.screen.width;j=window.screen.height;if(isMobileDevice()){h=c}else{h=c>1050?1050:c}e=(h*2)/3;if(e>j){e=j;h=(e*3)/2}b=(c/2)-(h/2);g=(j/2)-(e/2);d="menubar=0,location=1,status=0,scrollbars=0,titlebar=1, width="+h+",height="+e+",top="+g+",left="+b;window.open(a,"rewindow",d)};
var Snapscroll=(function(b){var a=function(){b(".browser-overlay").click(function(){b(".browser-overlay, .browser-modal").fadeOut(300)});if(b("html").hasClass("csstransforms3d")){b(".browser-overlay, .browser-modal").remove()}document.title=jQuery("<p>"+document.title+"</p>").text();b("meta[name=description]").attr("content",jQuery("<p>"+b('meta[name="description"]').attr("content")+"</p>").text());if(!b("html").hasClass("csstransforms3d")){b("video").remove()}b("a[name=top]").remove();var m=b(".slide-nav > ul > li:visible").length;function c(){var t=b(".mobile-detector").css("width"),s=false;if(t==="1px"){s=true}return s}if(c()==false&&b("html").hasClass("csstransforms3d")){if(b("html").hasClass("touch")){b(".footer-button").addClass("tall")}if(b(".slide-nav ul li").length=="1"){b(".slide-nav").hide()}b(".slide-nav ul li:first-child").addClass("active");function o(){var t=b(".slide-nav ul li").length,s;for(s=1;s<=t;s+=1){b(".slide-nav ul li:nth-child("+s+")").attr("data-slide",s)}}o();if(b("html").hasClass("touch")){b("video").remove()}function h(){var s="-"+b("#htc-footer").height()+"px";b("#htc-footer").css("bottom",s);b(".footer-button").attr("data-position",s);HtcChrome.detectFooterButton()}b(window).load(function(){h()});h();b(".footer-button").click(function(){b("#htc-footer").show();b("#htc-footer").animate({bottom:0},300);b(".chrome-overlay").fadeIn(300)});b(".chrome-overlay").click(function(){var s=b(".footer-button").attr("data-position");b("#htc-footer").animate({bottom:s});b(".chrome-overlay").fadeOut(300)});if(!b("html").hasClass("touch")){b(".slide-nav ul li").hover(function(){b(this).find(".label").stop().fadeIn(150)},function(){b(this).find(".label").stop().fadeOut(150)})}function i(){var t=b(window).height(),s=b(".slide-wrapper > section.slide").length;totalHeight=t*s;slideNumber=b(".slide-nav ul li.active").attr("data-slide"),moveHeight="-"+(t*(slideNumber-1))+"px";b("section.slide").css("height",t);b(".slide-wrapper").css("height",totalHeight);b(".slide-wrapper").css("margin-top",moveHeight)}b(window).resize(function(){i()});i();function d(s){b(".scroll-prompt").remove();b(".video-controls .play-toggle").removeClass("alt");if(b("video").length>0){b("video").each(function(){b(this).get(0).pause()})}if(b("video[data-section="+s+"]").length>0){b("video[data-section="+s+"]").each(function(){b(this).get(0).play()})}}function g(){var s=false;if(b(".slide-wrapper").is(":animated")){s=true}return s}function p(){var s=false;if(b(".chrome-overlay").is(":visible")){s=true}return s}function f(){return false}function l(t){var s=b(".slide-nav ul li[data-slide="+t+"]").attr("data-nav");if(s==="invert"){b(".slide-nav").addClass("invert")}else{b(".slide-nav").removeClass("invert")}}function n(t){b(".slide-nav ul li").last().attr("data-arrow","hide");var s=b(".slide-nav ul li[data-slide="+t+"]").attr("data-arrow");if(s==="dark"){b(".advance-slide").addClass("dark").removeClass("hide")}else{b(".advance-slide").removeClass("dark");if(s==="hide"){b(".advance-slide").addClass("hide")}else{b(".advance-slide").removeClass("hide")}}}function k(s){if(s==="1"){b("#htc-header").fadeIn(500);b(".horizontal").fadeIn(500)}else{b("#htc-header").fadeOut(500);b(".horizontal").fadeOut(500)}}function e(v,u){if(g()===false&&p()===false){if(u===undefined){u=1100}if(b("body").hasClass("eye-experience")){var s=b.magnificPopup.instance;s.close()}var w=b(window).height(),t=w*(v-1);b(".slide-wrapper").animate({marginTop:"-"+t},u,"easeOutCubic",function(){d(v)});l(v);if(b("body").hasClass("innovations")){k(v);n(v);HtcChrome.detectFooterButton()}}}function j(u){if(g()===false&&p()===false){var t=b(".slide-nav ul li.active").attr("data-slide"),s;if(u==="up"){if(t<=m&&t>1){s=b(".slide-nav ul li.active").removeClass("active").prev().addClass("active").attr("data-slide");e(s)}}else{if(t<m){s=b(".slide-nav ul li.active").removeClass("active").next().addClass("active").attr("data-slide");e(s)}}}}b(".scroll-prompt, .advance-slide, .explore-button").click(function(){j("down")});b(".slide-nav ul li").click(function(){if(g()===false&&p()===false){if(!b(this).hasClass("active")){b(".slide-nav ul li").removeClass("active");b(this).addClass("active");var s=b(this).attr("data-slide");e(s)}}});b("body").bind("mousewheel",function(s){if(g()===false&&p()===false&&f()===false){s.preventDefault();if(s.originalEvent.wheelDelta>0){j("up")}else{j("down")}}});b("body").bind("DOMMouseScroll",function(s){if(g()===false&&p()===false&&f()===false){s.preventDefault();if(s.originalEvent.detail<0){j("up")}else{j("down")}}});b(document).keydown(function(s){if(!b("textarea, input").is(":focus")&&f()===false){if(s.keyCode==="32"||s.keyCode==="40"||s.keyCode==="34"){s.preventDefault();j("down")}if(s.keyCode==="38"||s.keyCode==="33"){s.preventDefault();j("up")}}});var r=false;if(b("html").hasClass("touch")){b(document).bind("touchBypass",function(){r=true});b(document).bind("touchBypassEnd",function(){r=false})}if(b("html").hasClass("touch")){b(".slide-wrapper").touchwipe({wipeDown:function(){if(!r){j("down")}},wipeUp:function(){if(!r){j("up")}}})}b("nav.horizontal .nav-items a").click(function(s){if(b(this).hasClass("active")){s.preventDefault()}});b(".video-controls .play-toggle").click(function(){b(this).toggleClass("alt");if(b(this).hasClass("alt")){b("video#manufacturing").get(0).pause()}else{b("video#manufacturing").get(0).play()}});b(".video-controls .sound-toggle").click(function(){b(this).toggleClass("alt");if(b(this).hasClass("alt")){b("video#manufacturing").prop("muted",false)}else{b("video#manufacturing").prop("muted",true)}})}if(c()===false){b("ul.base-nav li, ul.left-nav li").click(function(){if(!b(this).hasClass("active")){var u="#"+b(this).parent().attr("id"),t="#"+b(this).parent().parent().attr("id"),s=b(this).attr("data-id");b(u+" li").removeClass("active");b(this).addClass("active");b(t+" .frame[data-id!="+s+"]").fadeOut(300);setTimeout(function(){b(t+" .frame[data-id="+s+"]").fadeIn(300)},300)}});b(".panel .overlay").click(function(){var s="#"+b(this).parent().parent().attr("id"),t=b(this).parent().attr("data-position");b(s+" .panel[data-position="+t+"] .copy").addClass("hide");setTimeout(function(){b(s+" .panel[data-position="+t+"] .copy").fadeIn(200,function(){b(s+" .panel[data-position="+t+"] .copy").removeClass("hide").removeAttr("style")})},500);b(s+" .panel[data-position="+t+"]").removeClass("collapse");b(s+" .panel[data-position!="+t+"]").addClass("collapse")});function q(){var s=b(".promo-column.redesign.one .copy").outerHeight();b(".promo-column.redesign.one .promo-phone").css("margin-bottom",s)}b(window).load(function(){q()});q()}if(c()===true){b("video").remove();b(".mobile-nav .tab").click(function(){b(".mobile-nav nav").toggleClass("active")});b("section.slide").click(function(){if(b(".mobile-nav nav").hasClass("active")){b(".mobile-nav nav").toggleClass("active")}});b(".back-to-top").click(function(){b("html, body").animate({scrollTop:0},500)})}b(".hotspot#focus-dot-1").click(function(){b("#refocus-frame-1 .alt-focus").fadeIn(1000)});b(".hotspot#focus-dot-2").click(function(){b("#refocus-frame-1 .alt-focus").fadeOut(1000)});b("ul.filter-strip li").click(function(){if(!b(this).hasClass("active")){var s=b(this).attr("data-filter");b("ul.filter-strip li").removeClass("active");b(this).addClass("active");b(".filter-image[data-filter!="+s+"]").hide();b(".filter-image[data-filter="+s+"]").show()}})};return a})(jQuery);
$(document).ready(function(){if($("body").hasClass("root thank_you")){function a(){if($(window).width()>720){return false}else{return true}}function b(){var c=$(window).width();if(c<450){var e=(c-34)/2}else{var e=(c-46)/3}$(".card").css("width",e);var d=c-22;$(".hero").css("width",d);if($("html").hasClass("no-flexbox")){if(c<450){$(".card").css("height","340px")}else{$(".card").css("height","360px")}}}if(a()==true){$(window).resize(function(){b()});$(window).load(function(){b()});b()}}});
$(document).ready(function(){if($("body").hasClass("root template01")){if($(".mobile-detector").css("display")!=="block"){var j=6}else{var j=4}var g=1;var b=$(".filmstrip li").length;var i=($(".filmstrip ul li:first-child").width()+4);var c=(b*i)+"px";var h=i*j;var d=$(".image-area .description div:first-child");$(".filmstrip ul li:first-child").addClass("active");if(d.html().length>1){d.show()}if(b>j){var f=b/j;var a=Math.floor(b/j);if(f==a){var k=a}else{var k=a+1}$(".navigation .arrow.right").addClass("enabled");$(".filmstrip ul").css("width",c)}$(".filmstrip li").click(function(){if($(this).hasClass("active")){}else{$(".filmstrip li").removeClass("active");$(this).addClass("active");var l=$(this).attr("data-position");$(".image-area li").fadeOut(200);$('.image-area li[data-position="'+l+'"]').fadeIn(200);$(".image-area .description div").hide();if($('.image-area .description div[data-position="'+l+'"]').html().length>1){$('.image-area .description div[data-position="'+l+'"]').show()}}});$(".navigation .arrow").click(function(){if($(this).hasClass("enabled")){if($(this).hasClass("left")){$(".navigation .arrow.right").addClass("enabled");g=g-1;if(g==1){$(".navigation .arrow.left").removeClass("enabled")}var l="+="+h}else{$(".navigation .arrow.left").addClass("enabled");g=g+1;if(g==k){$(".navigation .arrow.right").removeClass("enabled")}var l="-="+h}$(".filmstrip ul").animate({marginLeft:l},300)}});var e=$(".image-area li img").height();$("div.image-area").height(e);$(window).resize(function(){var l=$(".image-area li img").height();$("div.image-area").height(l)})}});
var UltraPixel=(function(b){var a=function(){b(".scroll-button").click(function(f){f.preventDefault();var d=b(this).attr("data-section");var c=(b("a[name="+d+"]").position()).top;b("html, body").animate({scrollTop:c},500,function(){window.location.hash=d})})};a.prototype={constructor:a};return a})(jQuery);
$(function(){var e=window.location.pathname.split("/")[1].toLowerCase();var l,g,a,k,h;switch(window.location.hostname){case"www.htc.com":l="2a63aa29-ab08-47ea-b863-ea219b253075";g="https://profile.htcsense.com/WS/Profiles/Me";a="https://www.htc.com/api/coupon/v1/u/couponcode/get";k="https://www.htc.com/api/coupon/v1/u/couponcode/sendSMS";h="www.htc.com";break;case"astage-www.htc.com":l="4e1ba40d-a53f-43b2-9480-b3e8e0383cfb";g="https://profile.htcsense.com/WS/Profiles/Me";a="https://www.htc.com/api/coupon/v1/u/couponcode/get";k="https://www.htc.com/api/coupon/v1/u/couponcode/sendSMS";h="astage-www.htc.com";break;default:l="132ee750-ca43-443c-9b2f-d8bffdf75b71";g="https://profile.htctouch.com/WS/Profiles/Me";a="https://lb-sg-1033921970.us-west-2.elb.amazonaws.com/api/coupon/v1/u/couponcode/get";k="https://lb-sg-1033921970.us-west-2.elb.amazonaws.com/api/coupon/v1/u/couponcode/sendSMS";h="adev-www.htc.com"}var j=function(){HTCAccount.init({appid:l,scope:"email profile.write birthday"})};if($("body").hasClass("urm")){j();$(".urm .register").on("click",function(m){m.preventDefault();m.stopPropagation();HTCAccount.getLoginStatus(function(o){var n="/"+e+"/urmsignup/";if(!o.authResponse){HTCAccount.login(function(){},{type:"redirect",next_url:n})}else{window.location.href=n}},true)})}if($("body").hasClass("urmsignup")){var i=false;var f,d,c;j();HTCAccount.getLoginStatus(function(m){if(!m.authResponse){window.location.href="/"+e+"/urm/"}else{f=m.authResponse.access_token;HTCAccount.getProfile(function(n){d=n;$(".first-last").text(n.FirstName+" "+n.LastName);$.ajax({url:a,method:"POST",crossDomain:true,headers:{AuthKey:f,"X-HTC-DGT-Country-Code":e},data:JSON.stringify({}),dataType:"json"}).fail(function(){$(".sign-up").addClass("on");$(".sign-up .error").addClass("on")}).done(function(p){var o;if(!p||!p.coupons.length){$(".sign-up").addClass("on");$(".sign-up .error").addClass("on");return}o=p.coupons[0];c=o.ticketId;if(o.hasNewCodeToAdd){$(".profile").addClass("on");$(".email").val(d.EmailAddress||d.ContactEmailAddress)}else{if(o.couponCode){$(".promo-code").text(o.couponCode);$(".sign-up").addClass("on");$(".sign-up .success").addClass("on")}}i=false})},function(){})}},true);function b(p,q){var m=$(q);var t=m.data("map");var q,n,u,r;if(!t){return}var q=$("."+t);if(!q.length){return}n=q.prop("tagName").toLowerCase();try{u=$.parseJSON(m.text())}catch(s){return}if(!u.length){return}r=document.createDocumentFragment();if(n==="select"){$(u).each(function(o,v){$('<option value="'+v.val+'">'+v.text+"</option>").appendTo(r)})}else{if(n==="ul"){$(u).each(function(o,v){$('<li><label><input type="checkbox" name="'+t+'[]" value="'+v.val+'" />'+v.text+"</label></li>").appendTo(r)})}}q.append(r)}$(".get-code").on("click",function(r){r.preventDefault();r.stopPropagation();var q=$(".profile-form")[0],o,n,p,m=true;if(i){return}o=$(".get-code-msg-block .required");(function(){var s=/^\+\d+$/,G=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,I=/[1-9]|[12]\d|3[01]/,B=/[1-9]|[1][12]/,z=/^\d{4}$/,t,D,C,O,N,A=(new Date()).getFullYear();for(D=0,C=q.elements.length;D<C;D++){t=$(q.elements[D]);N=t.val();if(t.data("required")&&!N){m=false;break}}var x=$('[name="phoneNumber"'),w=$('[name="phoneCode"]').val()+$.trim(x.val()),L=$(".input-phone .error"),u=$.trim($('[name="email"]').val()),v=$(".input-email .error"),H=$.trim($('[name="yearOfBirth"]').val()),M=$.trim($('[name="monthOfBirth"]').val()),E=$.trim($('[name="dayOfBirth"]').val()),K=$(".input-birthday .error");if(!w||!s(w)){L.addClass("on");m=false}else{L.removeClass("on");m=true}if(!u||!G(u)){v.addClass("on");m=false}else{v.aremoveClass("on");m=true}var F=(function(P,R,Q){if(z.test(P)&&B.test(R)&&I.test(Q)){return P+"/"+R+"/"+Q}else{return""}}(H,M,E));var y=new Date(F);var J=new Date();if(!F||y>J||!moment(F,"YYYY MM DD").isValid()){K.addClass("on");m=false}else{K.removeClass("on");m=true}}());if(!m){if(!o.hasClass("on")){o.addClass("on")}return}o.removeClass("on");n=$(".get-code-msg-block .error");p={gender:$(q.gender).val(),yearOfBirth:~~q.yearOfBirth.value,monthOfBirth:~~q.monthOfBirth.value,dayOfBirth:~~q.dayOfBirth.value,phones:[{number:q.phoneCode.value+q.phoneNumber.value,type:"WORK"}],secondEmails:[{email:q.email.value,isVerified:false}]};if(!p.gender){delete p.gender}if(!p.yearOfBirth){delete p.yearOfBirth}if(!p.monthOfBirth){delete p.monthOfBirth}if(!p.dayOfBirth){delete p.dayOfBirth}if(h==="adev-www.htc.com"){document.domain=h}i=true;$.ajax({url:g,method:"POST",crossDomain:true,contentType:"application/json",headers:{AuthKey:f},data:JSON.stringify(p)}).fail(function(){n.addClass("on")}).done(function(){setTimeout(function(){$.ajax({url:k,method:"POST",crossDomain:true,headers:{AuthKey:f,"X-HTC-DGT-Country-Code":e},data:JSON.stringify({ticketId:c,phoneNumber:p.phones[0].number.replace("+","")}),dataType:"json"}).fail(function(){if(!n.hasClass("on")){n.addClass("on")}i=false}).done(function(s){n.removeClass("on");$(".get-code-block").removeClass("on");$(".congrats").addClass("on")})},500)}).always(function(){i=false})});$(".res").each(b)}});
